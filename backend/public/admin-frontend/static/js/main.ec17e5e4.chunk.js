(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{428:function(e,t,r){},670:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(17),o=r.n(c),i=(r(428),r(19)),s=r(155),l=r(702),u=r(356),d=r(70),b=r(357),p=r(13),j=r(211),f=r(407),h=r(355),m=r(416),O=r.n(m),g=r(698),x=r(267),v=r(2),y=Object(s.a)({titles:{color:"#999999"}}),P=function(e){var t=y();return Object(v.jsxs)(g.a,{children:[Object(v.jsx)(d.a,{className:t.titles,component:"h1",variant:"h5",children:e.title}),Object(v.jsx)(x.a,{paddingTop:1,children:e.children})]})},C=r(716),k=r(31),S=r(131),w=r.n(S),F=r(10),T=r.n(F),R=r(20),I=r(129),A=r.n(I),D=r(130),E=r.n(D),N=r(28),L=r(29),B=r(102),q=r.n(B),M=r(403),V=function(){function e(t,r){Object(N.a)(this,e),this.http=t,this.resource=r,this.cancelList=null}return Object(L.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("List request cancelled"),this.cancelList=q.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"partialUpdate",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.patch("".concat(this.resource,"/").concat(e),a,o)}},{key:"update",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.put("".concat(this.resource,"/").concat(e),a,o)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return q.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(M.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),U=r(39),_=q.a.create({baseURL:"http://localhost:8000/api"}),z=[_];var G=new V(_,"categories"),H=r(201),W=r(699),Y=r(402),X=r(121),Q=r(124),Z={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"},error:{main:X.a[500]},success:{main:Q.a[500],contrastText:"#fff"}},K=Object(H.a)({palette:Z,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:Z.background.default},icon:{color:Z.primary.main,"&:hover, &:active, &.focus":{color:Z.secondary.dark}},iconActive:{color:Z.secondary.dark,"&:hover, &:active, &.focus":{color:Z.secondary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:Z.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#fff"},sortAction:{alignItems:"center"},sortLabelRoot:{color:"#fff !important","& svg":{color:"#fff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:Z.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:Z.secondary.main,"&:hover, &:active, &.focus":{color:Z.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:Z.primary.main},iconButton:{color:Z.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:Z.background.default}}},MUIDataTablePagination:{root:{color:Z.primary.main}},MUIDataTableFilterList:{root:{marginBottom:"16px"}}}}),J=Object(H.a)({palette:{primary:K.palette.success,secondary:K.palette.error}}),$=function(){return Object(v.jsx)(W.a,{theme:J,children:Object(v.jsx)(Y.a,{label:"Sim",color:"primary"})})},ee=function(){return Object(v.jsx)(W.a,{theme:J,children:Object(v.jsx)(Y.a,{label:"N\u0101o",color:"secondary"})})},te=r(7),re=r(404),ae=r.n(re),ne=r(50),ce=r(22),oe=r(718),ie=r(127),se=r(47),le=r(48),ue=r(212),de=r(361),be=r(273),pe=r.n(be),je=r(274),fe=r.n(je),he=r(5),me=function(e){Object(se.a)(r,e);var t=Object(le.a)(r);function r(e){var a;Object(N.a)(this,r),(a=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;a.setState({text:t},(function(){return a.debouncedOnSearch(t)}))},a.debouncedOnSearch=function(e){a.props.onSearch(e)},a.onKeyDown=function(e){27===e.keyCode&&a.props.onHide()};var n=a.props.searchText,c=n;return n&&void 0!==n.value&&(c=n.value),a.state={text:c},a.debouncedOnSearch=Object(ne.debounce)(a.debouncedOnSearch.bind(Object(ie.a)(a)),a.props.debouceTime),a}return Object(L.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){var a=this,n=this.props.searchText;if(n&&void 0!==n.value&&e.searchText!==this.props.searchText){var c=n.value;if(c)this.setState({text:c},(function(){return a.props.onSearch(c)}));else try{this.props.onHide()}catch(o){}}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,a=t.options,n=t.onHide,c=t.searchText,o=this.state.text;return c&&void 0!==c.value&&(o=c.value),Object(v.jsx)(ue.a,{appear:!0,in:!0,timeout:300,children:Object(v.jsxs)("div",{className:r.main,ref:function(t){return e.rootRef=t},children:[Object(v.jsx)(pe.a,{className:r.searchIcon}),Object(v.jsx)(de.a,{className:r.searchText,autoFocus:!0,InputProps:{"data-test-id":a.textLabels.toolbar.search,"aria-label":a.textLabels.toolbar.search},value:o||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:a.searchPlaceholder}),Object(v.jsx)(j.a,{className:r.clearIcon,onClick:n,children:Object(v.jsx)(fe.a,{})})]})})}}]),r}(n.a.PureComponent),Oe=Object(he.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(me),ge=a.forwardRef((function(e,t){var r,a,n=Object(ne.cloneDeep)(Object(ce.a)()),c=Object(oe.a)(n.breakpoints.down("sm")),o=(r=e.debounceSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registros(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,a,n){return Object(v.jsx)(Oe,{searchText:e,onSearch:t,onHide:a,options:n,debouceTime:r})}}),i=Object(ne.merge)({options:Object(ne.cloneDeep)(o)},e,{columns:(a=e.columns,function(e){e.forEach((function(e,t){e.width&&(n.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})}))}(a),a.map((function(e){return Object(ne.omit)(e,"width")})))});!function(){var e=i.options.textLabels;e.body.noMatch=!0===i.loading?"Carregando ...":e.body.noMatch}(),i.options.responsive=c?"scrollMaxHeight":"stacked";var s=Object(te.a)(Object(te.a)({},Object(ne.omit)(i,"loading")),{},{ref:t});return Object(v.jsx)(W.a,{theme:n,children:Object(v.jsx)(ae.a,Object(te.a)({},s))})}));var xe,ve=r(34),ye=r(353),Pe=r(409),Ce=r.n(Pe),ke=Object(s.a)((function(e){return{IconButton:e.overrides.MUIDataTableToolbar.icon}})),Se=function(e){var t=ke();return Object(v.jsx)(ye.a,{title:"Limpar busca",children:Object(v.jsx)(j.a,{onClick:e.handleClick,children:Object(v.jsx)(Ce.a,{className:t.IconButton})})})},we=r(134),Fe=Object(we.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"],clearExtraFilter:["payload"]}),Te=Fe.Types,Re=Fe.Creators,Ie={search:null,pagination:{page:1,per_page:15},order:{sort:null,dir:null}},Ae=Object(we.createReducer)(Ie,(xe={},Object(i.a)(xe,Te.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{search:t.payload.search,pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{page:1})})})),Object(i.a)(xe,Te.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{page:t.payload.page})})})),Object(i.a)(xe,Te.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(i.a)(xe,Te.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{pagination:Object(te.a)(Object(te.a)({},e.pagination),{},{page:1}),order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(i.a)(xe,Te.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(i.a)(xe,Te.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{extraFilter:Object(te.a)(Object(te.a)({},e.extraFilter),t.payload)})})),Object(i.a)(xe,Te.CLEAR_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(te.a)(Object(te.a)({},e),{},{extraFilter:t.payload})})),xe));var De=r(731),Ee=r(21),Ne=r(200);function Le(e){var t=Object(Ee.f)(),r=new Be(Object(te.a)(Object(te.a)({},e),{},{history:t})),n=r.getStateFromURL(),c=Object(a.useReducer)(Ae,n),o=Object(p.a)(c,2),i=o[0],s=o[1],l=Object(De.a)(i,e.debounceTime),u=Object(p.a)(l,1)[0],d=Object(a.useState)(0),b=Object(p.a)(d,2),j=b[0],f=b[1];return r.state=i,r.debouncedState=u,r.dispatch=s,r.applyOrdersInColumns(),Object(a.useEffect)((function(){r.replaceHistory()}),[]),{columns:r.columns,filterManager:r,filterState:i,debouncedFilterState:u,dispatch:s,totalRecords:j,setTotalRecords:f}}Object(Ne.f)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} precisa ter no m\xe1ximo ${max} caracteres",min:"${path} precisa ter no m\xednimo ${min} caracteres"},number:{max:"${path} precisa ter no m\xe1ximo ${max}",min:"${path} precisa ter no m\xednimo ${min}"},array:{max:"${path} precisa ter no m\xe1ximo ${max} item(ns)",min:"${path} precisa ter no m\xednimo ${min} item(ns)"}});var Be=function(){function e(t){Object(N.a)(this,e),this.schema=void 0,this.state=null,this.dispatch=null,this.columns=void 0,this.rowsPerPage=void 0,this.rowsPerPageOptions=void 0,this.history=void 0,this.debouncedState=null,this.tableRef=void 0,this.extraFilter=void 0;var r=t.columns,a=t.rowsPerPage,n=t.rowsPerPageOptions,c=t.history,o=t.tableRef,i=t.extraFilter;this.columns=r,this.rowsPerPage=a,this.rowsPerPageOptions=n,this.history=c,this.tableRef=o,this.extraFilter=i,this.createValidationSchema()}return Object(L.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}},{key:"changeExtraFilter",value:function(e){this.dispatch(Re.updateExtraFilter(e))}},{key:"clearExtraFilter",value:function(){this.dispatch(Re.clearExtraFilter({})),this.resetTablePagination()}},{key:"changeSearch",value:function(e){this.dispatch(Re.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Re.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Re.setPerPage({per_page:e}))}},{key:"changeSort",value:function(e,t){this.dispatch(Re.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"resetFilter",value:function(){var e=Object(te.a)(Object(te.a)({},this.schema.cast({})),{},{search:{value:null}});this.dispatch(Re.setReset({state:e})),this.resetTablePagination()}},{key:"applyOrdersInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(te.a)(Object(te.a)({},t),{},{options:Object(te.a)(Object(te.a)({},t.options),{},{sortDirection:e.state.order.dir})}):t}))}},{key:"clearSearchText",value:function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}},{key:"replaceHistory",value:function(){this.history.replace({pathname:this.history.location.pathname,search:"?"+new URLSearchParams(this.formatSearchParams()),state:this.debouncedState})}},{key:"pushHistory",value:function(){var e={pathname:this.history.location.pathname,search:"?"+new URLSearchParams(this.formatSearchParams()),state:Object(te.a)(Object(te.a)({},this.debouncedState),{},{search:this.clearSearchText(this.debouncedState.search)})},t=this.history.location.state,r=this.debouncedState;Object(ne.isEqual)(t,r)||this.history.push(e)}},{key:"formatSearchParams",value:function(){var e=this.clearSearchText(this.debouncedState.search);return Object(te.a)(Object(te.a)(Object(te.a)(Object(te.a)(Object(te.a)({},e&&""!==e&&{search:e}),1!==this.debouncedState.pagination.page&&{page:this.debouncedState.pagination.page}),15!==this.debouncedState.pagination.per_page&&{per_page:this.debouncedState.pagination.per_page}),this.debouncedState.order.sort&&{sort:this.debouncedState.order.sort,dir:this.debouncedState.order.dir}),this.extraFilter&&this.extraFilter.formatSearchParams(this.debouncedState))}},{key:"getStateFromURL",value:function(){var e=new URLSearchParams(this.history.location.search.substr(1));return this.schema.cast(Object(te.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},this.extraFilter&&{extraFilter:this.extraFilter.getStateFromURL(e)}))}},{key:"createValidationSchema",value:function(){var e=this;this.schema=Ne.e().shape(Object(te.a)({search:Ne.g().transform((function(e){return e||void 0})).default(""),pagination:Ne.e().shape({page:Ne.d().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:Ne.d().transform((function(t){return isNaN(t)||!e.rowsPerPageOptions.includes(parseInt(t))?void 0:t})).default(this.rowsPerPage)}),order:Ne.e().shape({sort:Ne.g().nullable().transform((function(t){return e.columns.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(t)?t:void 0})).default(null),dir:Ne.g().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},this.extraFilter&&{extraFilter:this.extraFilter.createValidationSchema()}))}}]),e}(),qe=r(91),Me=r.n(qe),Ve=r(76),Ue=r.n(Ve),_e=Object(a.createContext)(!1),ze=r(708),Ge=r(712),He=r(711),We=r(709),Ye=r(710),Xe=function(e){var t=e.open,r=e.handleClose;return Object(v.jsxs)(ze.a,{open:t,onClose:function(){return r(!1)},children:[Object(v.jsx)(Ge.a,{children:"Exclus\xe3o de registros"}),Object(v.jsx)(Ye.a,{children:Object(v.jsx)(He.a,{children:"Deseja realmente excluir este(s) registro(s)?"})}),Object(v.jsxs)(We.a,{children:[Object(v.jsx)(b.a,{onClick:function(){return r(!1)},color:"primary",children:"Cancelar"}),Object(v.jsx)(b.a,{onClick:function(){return r(!0)},color:"primary",autoFocus:!0,children:"Excluir"})]})]})},Qe=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)({data:[]}),o=Object(p.a)(c,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){i.data.length&&n(!0)}),[i]),{openDeleteDialog:r,setOpenDeleteDialog:n,rowsToDelete:i,setRowsToDelete:s}},Ze=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"43%",options:{filter:!1}},{name:"is_active",label:"Ativo?",options:{filterOptions:{names:["Sim","N\u0101o"]},filter:!1,customBodyRender:function(e,t,r){return e?Object(v.jsx)($,{}):Object(v.jsx)(ee,{})}},width:"4%"},{name:"created_at",label:"Criado em",options:{customBodyRender:function(e,t,r){return Object(v.jsx)("span",{children:A()(E()(e),"dd/MM/yyyy")})},filter:!1},width:"10%"},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(v.jsx)(Me.a,{color:"secondary",component:k.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(v.jsx)(Ue.a,{})})}}}],Ke=[15,25,50],Je=function(){var e=Object(ve.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(p.a)(r,2),c=n[0],o=n[1],i=Object(a.useRef)(),s=Object(a.useContext)(_e),l=Qe(),u=l.openDeleteDialog,d=l.setOpenDeleteDialog,b=l.rowsToDelete,j=l.setRowsToDelete,f=Le({columns:Ze,rowsPerPage:15,rowsPerPageOptions:Ke,debounceTime:300,tableRef:i}),h=f.filterManager,m=f.filterState,O=f.totalRecords,g=f.setTotalRecords,x=f.debouncedFilterState,y=h.clearSearchText(x.search);function P(){return C.apply(this,arguments)}function C(){return(C=Object(R.a)(T.a.mark((function r(){var a,n;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,G.list({queryParams:{search:h.clearSearchText(x.search),page:x.pagination.page,per_page:x.pagination.per_page,sort:x.order.sort,dir:x.order.dir}});case 3:a=r.sent,n=a.data,t.current&&(o(n.data),g(n.meta.total)),r.next=14;break;case 8:if(r.prev=8,r.t0=r.catch(0),console.log(r.t0),!G.isCancelledRequest(r.t0)){r.next=13;break}return r.abrupt("return");case 13:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function k(){return(k=Object(R.a)(T.a.mark((function t(r){var a,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return d(!1),t.abrupt("return");case 3:return t.prev=3,a=b.data.map((function(e){return c[e.index].id})).join(","),t.next=7,G.deleteCollection({ids:a});case 7:if(!(b.data.length===x.pagination.per_page&&x.pagination.page>1)){t.next=12;break}n=x.pagination.page-2,h.changePage(n),t.next=14;break;case 12:return t.next=14,P();case 14:d(!1),e("Registros excluidos com sucesso!",{variant:"success"}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),console.log(t.t0),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"});case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return t.current=!0,h.pushHistory(),P(),function(){t.current=!1}}),[y,x.pagination.page,x.pagination.per_page,x.order]),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(Xe,{open:u,handleClose:function(e){return k.apply(this,arguments)}}),Object(v.jsx)(ge,{title:"Categorias",columns:h.columns,data:c,loading:s,debounceSearchTime:300,ref:i,options:{serverSide:!0,searchText:m.search,page:m.pagination.page-1,rowsPerPage:m.pagination.per_page,rowsPerPageOptions:Ke,count:O,filter:!1,customToolbar:function(){return Object(v.jsx)(Se,{handleClick:function(){return h.resetFilter()}})},onSearchChange:function(e){return h.changeSearch(e)},onChangePage:function(e){return h.changePage(e)},onChangeRowsPerPage:function(e){return h.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return h.changeSort(e,t)},onRowsDelete:function(e){return j(e),!1}}})]})},$e=function(){return Object(v.jsxs)(P,{title:"Listar categorias",children:[Object(v.jsx)(x.a,{dir:"rtl",paddingBottom:2,children:Object(v.jsx)(C.a,{title:"Adicionar categoria",color:"secondary",size:"small",component:k.b,to:"/categories/create",children:Object(v.jsx)(w.a,{})})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(Je,{})})]})},et=r(358),tt=r(399),rt=r(77),at=r(92),nt=Object(s.a)((function(e){return{submit:{margin:e.spacing(1)}}})),ct=function(e){var t={className:nt().submit,color:"secondary",variant:"contained",disabled:void 0!==e.disabledButtons&&e.disabledButtons};return Object(v.jsxs)(x.a,{dir:"rtl",children:[Object(v.jsx)(b.a,Object(te.a)(Object(te.a)({color:"primary"},t),{},{onClick:e.handleSave,children:"Salvar"})),Object(v.jsx)(b.a,Object(te.a)(Object(te.a)({},t),{},{type:"submit",children:"Salvar e continuar editando"}))]})},ot=r(228),it=r(717),st=Object(s.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),lt=function(e){var t=st(),r=e.GridContainerProps,a=e.GridItemProps,n=Object(ot.a)(e,["GridContainerProps","GridItemProps"]);return Object(v.jsx)("form",Object(te.a)(Object(te.a)({},n),{},{children:Object(v.jsx)(it.a,Object(te.a)(Object(te.a)({container:!0},r),{},{children:Object(v.jsx)(it.a,Object(te.a)(Object(te.a)({className:t.gridItem,item:!0},a),{},{children:e.children}))}))}))},ut=function(e,t){var r=Object(ve.b)().enqueueSnackbar;Object(a.useEffect)((function(){var a=0!==Object.keys(t).length;e>0&&a&&r("Formul\xe1rio inv\xe1lido. Reveja os campos marcados de vermelho",{variant:"error"})}),[e,t,r])},dt=Ne.e().shape({name:Ne.g().label("Nome").required().max(255)}),bt=function(){var e=Object(rt.b)({resolver:Object(at.a)(dt),defaultValues:{is_active:!0}}),t=e.register,r=e.getValues,n=e.setValue,c=e.handleSubmit,o=e.errors,i=e.reset,s=e.watch,l=e.trigger,u=e.formState;ut(u.submitCount,o);var d=Object(ve.b)().enqueueSnackbar,b=Object(Ee.f)(),j=Object(Ee.g)().id,f=Object(a.useState)(null),h=Object(p.a)(f,2),m=h[0],O=h[1],g=Object(a.useState)(!1),x=Object(p.a)(g,2),y=x[0],P=x[1];function C(e,t){return k.apply(this,arguments)}function k(){return(k=Object(R.a)(T.a.mark((function e(t,r){var a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),a=m?G.update(m.id,t):G.create(t),e.next=5,a;case 5:n=e.sent,c=n.data,d("Categoria salva com sucesso",{variant:"success"}),setTimeout((function(){r?j?b.replace("/categories/".concat(c.data.id,"/edit")):b.push("/categories/".concat(c.data.id,"/edit")):b.push("/categories")})),P(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),d("N\u0101o foi poss\xedvel salvar a categoria",{variant:"error"});case 15:return e.prev=15,P(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){t({name:"is_active"})}),[t]),Object(a.useEffect)((function(){j&&function(){var e=Object(R.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,G.get(j);case 4:t=e.sent,r=t.data,O(r.data),i(r.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d("N\u0101o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}()()}),[j,i,d]),Object(v.jsxs)(lt,{GridItemProps:{xs:12,md:6},onSubmit:c(C),children:[Object(v.jsx)(de.a,{name:"name",label:"Nome",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},error:void 0!==o.name,helperText:void 0!==o.name&&o.name.message,disabled:y,inputRef:t}),Object(v.jsx)(de.a,{name:"description",label:"Descri\xe7\xe3o",variant:"outlined",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},multiline:!0,rows:"4",disabled:y,inputRef:t}),Object(v.jsx)(et.a,{disabled:y,control:Object(v.jsx)(tt.a,{name:"is_active",color:"primary",onChange:function(){return n("is_active",!r().is_active)},checked:s("is_active")}),label:"Ativo?",labelPlacement:"end"}),Object(v.jsx)(ct,{disabledButtons:y,handleSave:function(){return l().then((function(e){e&&C(r(),null)}))}})]})},pt=function(){var e=Object(Ee.g)();return Object(v.jsx)(P,{title:e.id?"Editar Categoria":"Criar Categoria",children:Object(v.jsx)(bt,{})})},jt=new V(_,"cast_members"),ft={1:"Diretor",2:"Ator"},ht={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},mt=Object.values(ft),Ot=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",options:{filter:!1}},{name:"type",label:"Tipo",options:{filterOptions:{names:mt},customBodyRender:function(e,t,r){return ft[e]}}},{name:"created_at",label:"Criado em",options:{filter:!1,customBodyRender:function(e,t,r){return Object(v.jsxs)("span",{children:[" ",A()(E()(e),"dd/MM/yyyy")," "]})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(v.jsx)(Me.a,{color:"secondary",component:k.b,to:"/cast-members/".concat(t.rowData[0],"/edit"),children:Object(v.jsx)(Ue.a,{})})}}}],gt=[15,25,50],xt=function(){var e=Object(ve.b)().enqueueSnackbar,t=Object(a.useRef)(!1),r=Object(a.useState)([]),n=Object(p.a)(r,2),c=n[0],o=n[1],s=Object(a.useRef)(),l=Object(a.useContext)(_e),u=Qe(),d=u.openDeleteDialog,b=u.setOpenDeleteDialog,j=u.rowsToDelete,f=u.setRowsToDelete,h=Le({columns:Ot,rowsPerPage:15,rowsPerPageOptions:gt,debounceTime:300,tableRef:s,extraFilter:{createValidationSchema:function(){return Ne.e().shape({type:Ne.g().nullable().transform((function(e){return e&&mt.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(){return y.extraFilter?Object(te.a)({},y.extraFilter.type&&{type:y.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),m=h.filterManager,O=h.filterState,g=h.totalRecords,x=h.setTotalRecords,y=h.debouncedFilterState,P=h.columns,C=P.findIndex((function(e){return"type"===e.name})),k=P[C],S=O.extraFilter&&O.extraFilter.type;k.options.filterList=S?[S]:[];var w=P.map((function(e){return[]}));S&&(w[C]=[S]);var F=m.clearSearchText(y.search);function I(){return A.apply(this,arguments)}function A(){return(A=Object(R.a)(T.a.mark((function r(){var a,n;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,jt.list({queryParams:Object(te.a)({search:m.clearSearchText(y.search),page:y.pagination.page,per_page:y.pagination.per_page,sort:y.order.sort,dir:y.order.dir},y.extraFilter&&y.extraFilter.type&&{type:Object(ne.invert)(ft)[y.extraFilter.type]})});case 3:a=r.sent,n=a.data,t.current&&(o(n.data),x(n.meta.total)),r.next=14;break;case 8:if(r.prev=8,r.t0=r.catch(0),console.log(r.t0),!jt.isCancelledRequest(r.t0)){r.next=13;break}return r.abrupt("return");case 13:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}function D(){return(D=Object(R.a)(T.a.mark((function t(r){var a,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return b(!1),t.abrupt("return");case 3:return t.prev=3,a=j.data.map((function(e){return c[e.index].id})).join(","),t.next=7,jt.deleteCollection({ids:a});case 7:if(!(j.data.length===y.pagination.per_page&&y.pagination.page>1)){t.next=12;break}n=y.pagination.page-2,m.changePage(n),t.next=14;break;case 12:return t.next=14,I();case 14:b(!1),e("Registros excluidos com sucesso!",{variant:"success"}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),console.log(t.t0),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"});case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return t.current=!0,m.pushHistory(),I(),function(){t.current=!1}}),[F,y.pagination.page,y.pagination.per_page,y.order,JSON.stringify(y.extraFilter)]),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(Xe,{open:d,handleClose:function(e){return D.apply(this,arguments)}}),Object(v.jsx)(ge,{title:"Membros de Elenco",columns:m.columns,data:c,loading:l,debounceSearchTime:300,ref:s,options:{serverSideFilterList:w,serverSide:!0,searchText:O.search,page:O.pagination.page-1,rowsPerPage:O.pagination.per_page,rowsPerPageOptions:gt,count:g,customToolbar:function(){return Object(v.jsx)(Se,{handleClick:function(){return m.resetFilter()}})},onFilterChange:function(e,t,r){var a=P.findIndex((function(t){return t.name===e}));a&&t[a]?m.changeExtraFilter(Object(i.a)({},e,t[a].length?t[a][0]:null)):m.clearExtraFilter()},onSearchChange:function(e){return m.changeSearch(e)},onChangePage:function(e){return m.changePage(e)},onChangeRowsPerPage:function(e){return m.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return m.changeSort(e,t)},onRowsDelete:function(e){return f(e),!1}}})]})},vt=function(){return Object(v.jsxs)(P,{title:"Listagem de membros de elencos",children:[Object(v.jsx)(x.a,{dir:"rtl",paddingBottom:2,children:Object(v.jsx)(C.a,{title:"Adicionar membro de elenco",color:"secondary",size:"small",component:k.b,to:"/cast-members/create",children:Object(v.jsx)(w.a,{})})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(xt,{})})]})},yt=r(270),Pt=r(686),Ct=r(360),kt=r(728),St=r(685),wt=Ne.e().shape({name:Ne.g().label("Nome").required().max(255),type:Ne.d().label("Tipo").required()}),Ft=function(){var e=Object(rt.b)({resolver:Object(at.a)(wt)}),t=e.register,r=e.getValues,n=e.handleSubmit,c=e.setValue,o=e.errors,i=e.reset,s=e.watch,l=e.trigger,u=e.formState;ut(u.submitCount,o);var d=Object(ve.b)().enqueueSnackbar,b=Object(Ee.f)(),j=Object(Ee.g)().id,f=Object(a.useState)(null),h=Object(p.a)(f,2),m=h[0],O=h[1],g=Object(a.useState)(!1),x=Object(p.a)(g,2),y=x[0],P=x[1];function C(e,t){return k.apply(this,arguments)}function k(){return(k=Object(R.a)(T.a.mark((function e(t,r){var a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),a=m?jt.update(m.id,t):jt.create(t),e.next=5,a;case 5:n=e.sent,c=n.data,d("Membro de elenco salvo com sucesso",{variant:"success"}),setTimeout((function(){r?j?b.replace("/cast-members/".concat(c.data.id,"/edit")):b.push("/cast-members/".concat(c.data.id,"/edit")):b.push("/cast-members")})),P(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),d("N\u0101o foi poss\xedvel salvar o Membro de elenco",{variant:"error"});case 15:return e.prev=15,P(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){t({name:"type"})}),[t]),Object(a.useEffect)((function(){j&&function(){var e=Object(R.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,jt.get(j);case 4:t=e.sent,r=t.data,O(r.data),i(r.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d("N\u0101o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}()()}),[j,i,d]),Object(v.jsxs)(lt,{GridItemProps:{xs:12,md:6},onSubmit:n(C),children:[Object(v.jsx)(de.a,{name:"name",label:"Nome",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},error:void 0!==o.name,helperText:void 0!==o.name&&o.name.message,disabled:y,inputRef:t}),Object(v.jsxs)(yt.a,{margin:"normal",error:void 0!==o.type,disabled:y,children:[Object(v.jsx)(Pt.a,{component:"legend",children:"Tipo"}),Object(v.jsxs)(Ct.a,{name:"type",onChange:function(e){c("type",parseInt(e.target.value))},value:s("type")+"",children:[Object(v.jsx)(et.a,{value:"1",control:Object(v.jsx)(kt.a,{color:"primary"}),label:"Diretor"}),Object(v.jsx)(et.a,{value:"2",control:Object(v.jsx)(kt.a,{color:"primary"}),label:"Ator"})]}),o.type&&Object(v.jsx)(St.a,{id:"type-helper-text",children:o.type.message})]}),Object(v.jsx)(ct,{disabledButtons:y,handleSave:function(){return l().then((function(e){e&&C(r(),null)}))}})]})},Tt=function(){var e=Object(Ee.g)();return Object(v.jsx)(P,{title:e.id?"Editar membro de elenco":"Criar membro de elenco",children:Object(v.jsx)(Ft,{})})},Rt=new V(_,"genres"),It=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",options:{filter:!1}},{name:"categories",label:"Categorias",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return Object(v.jsxs)("span",{children:[" ",e.map((function(e){return e.name})).join(", ")," "]})}}},{name:"is_active",label:"Ativo?",options:{filterOptions:{names:["Sim","N\u0101o"]},customBodyRender:function(e,t,r){return e?Object(v.jsx)($,{}):Object(v.jsx)(ee,{})}}},{name:"created_at",label:"Criado em",options:{filter:!1,customBodyRender:function(e,t,r){return Object(v.jsxs)("span",{children:[" ",A()(E()(e),"dd/MM/yyyy")," "]})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(v.jsx)(Me.a,{color:"secondary",component:k.b,to:"/genres/".concat(t.rowData[0],"/edit"),children:Object(v.jsx)(Ue.a,{})})}}}],At=[15,25,50],Dt=function(){var e=Object(ve.b)().enqueueSnackbar,t=Object(a.useState)([]),r=Object(p.a)(t,2),n=r[0],c=r[1],o=Object(a.useRef)(!0),s=Object(a.useRef)(),l=Object(a.useState)([]),u=Object(p.a)(l,2),d=(u[0],u[1]),b=Object(a.useContext)(_e),j=Qe(),f=j.openDeleteDialog,h=j.setOpenDeleteDialog,m=j.rowsToDelete,O=j.setRowsToDelete,g=Le({columns:It,rowsPerPage:15,rowsPerPageOptions:At,debounceTime:300,tableRef:s,extraFilter:{createValidationSchema:function(){return Ne.e().shape({categories:Ne.c().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(te.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}}}),x=g.columns,y=g.filterManager,P=g.filterState,C=g.debouncedFilterState,k=g.totalRecords,S=g.setTotalRecords,w=x.findIndex((function(e){return"categories"===e.name})),F=x[w],I=C.extraFilter&&C.extraFilter.categories;F.options.filterList=I||[];var A=x.map((function(e){return[]}));I&&(A[w]=I),Object(a.useEffect)((function(){return o.current=!0,Object(R.a)(T.a.mark((function t(){var r,a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.list({queryParams:{all:""}});case 3:r=t.sent,a=r.data,o.current&&(d(a.data),F.options.filterOptions.names=a.data.map((function(e){return e.name}))),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),console.log(t.t0),!G.isCancelledRequest(t.t0)){t.next=13;break}return t.abrupt("return");case 13:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){o.current=!1}}),[e]);var D=y.clearSearchText(C.search);function E(){return N.apply(this,arguments)}function N(){return(N=Object(R.a)(T.a.mark((function t(){var r,a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rt.list({queryParams:Object(te.a)({search:y.clearSearchText(C.search),page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.categories&&{categories:C.extraFilter.categories.join(",")})});case 3:r=t.sent,a=r.data,o.current&&(c(a.data),S(a.meta.total)),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),console.log(t.t0),!Rt.isCancelledRequest(t.t0)){t.next=13;break}return t.abrupt("return");case 13:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function L(){return(L=Object(R.a)(T.a.mark((function t(r){var a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return h(!1),t.abrupt("return");case 3:return t.prev=3,a=m.data.map((function(e){return n[e.index].id})).join(","),t.next=7,Rt.deleteCollection({ids:a});case 7:if(!(m.data.length===C.pagination.per_page&&C.pagination.page>1)){t.next=12;break}c=C.pagination.page-2,y.changePage(c),t.next=14;break;case 12:return t.next=14,E();case 14:h(!1),e("Registros excluidos com sucesso!",{variant:"success"}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),console.log(t.t0),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"});case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return o.current=!0,E(),y.pushHistory(),function(){o.current=!1}}),[D,C.pagination.page,C.pagination.per_page,C.order,JSON.stringify(C.extraFilter)]),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(Xe,{open:f,handleClose:function(e){return L.apply(this,arguments)}}),Object(v.jsx)(ge,{title:"G\xeaneros",columns:y.columns,data:n,loading:b,debounceSearchTime:300,ref:s,options:{serverSide:!0,searchText:P.search,page:P.pagination.page-1,rowsPerPage:15,rowsPerPageOptions:At,count:k,customToolbar:function(){return Object(v.jsx)(Se,{handleClick:function(){return y.resetFilter()}})},onFilterChange:function(e,t,r){var a=x.findIndex((function(t){return t.name===e}));a&&t[a]?y.changeExtraFilter(Object(i.a)({},e,t[a].length?t[a]:null)):y.clearExtraFilter()},onSearchChange:function(e){return y.changeSearch(e)},onChangePage:function(e){return y.changePage(e)},onChangeRowsPerPage:function(e){return y.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return y.changeSort(e,t)},onRowsDelete:function(e){return O(e),!1}}})]})},Et=function(){return Object(v.jsxs)(P,{title:"Listagem de g\xeaneros",children:[Object(v.jsx)(x.a,{dir:"rtl",paddingBottom:2,children:Object(v.jsx)(C.a,{title:"Adicionar g\xeanero",color:"secondary",size:"small",component:k.b,to:"/genres/create",children:Object(v.jsx)(w.a,{})})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(Dt,{})})]})},Nt=Ne.e().shape({name:Ne.g().label("Nome").required().max(255),categories_id:Ne.a().label("Categorias").min(1),is_active:Ne.b().label("Ativo?").required()}),Lt=function(){var e=Object(rt.b)({resolver:Object(at.a)(Nt),defaultValues:{categories_id:[],is_active:!0}}),t=e.register,r=e.getValues,n=e.handleSubmit,c=e.setValue,o=e.watch,i=e.errors,s=e.reset,l=e.trigger,u=e.formState;ut(u.submitCount,i);var d=Object(ve.b)().enqueueSnackbar,b=Object(Ee.f)(),j=Object(a.useState)(null),f=Object(p.a)(j,2),m=f[0],O=f[1],g=Object(a.useState)([]),x=Object(p.a)(g,2),y=x[0],P=x[1],C=Object(Ee.g)().id,k=Object(a.useState)(!1),S=Object(p.a)(k,2),w=S[0],F=S[1],I=function(e,t){return void 0!==e[t]},A=function(e,t){return void 0!==e[t]&&void 0!==e[t].message?e[t].message:void 0};function D(e,t){return E.apply(this,arguments)}function E(){return(E=Object(R.a)(T.a.mark((function e(t,r){var a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),a=m?Rt.update(m.id,t):Rt.create(t),e.next=5,a;case 5:n=e.sent,c=n.data,d("G\xeanero salvo com sucesso",{variant:"success"}),setTimeout((function(){r?C?b.replace("/genres/".concat(c.data.id,"/edit")):b.push("/genres/".concat(c.data.id,"/edit")):b.push("/genres")})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),d("N\u0101o foi poss\xedvel salvar o G\xeanero",{variant:"error"});case 14:return e.prev=14,F(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){t({name:"categories_id"})}),[t]),Object(a.useEffect)((function(){t({name:"is_active"})}),[t]),Object(a.useEffect)((function(){G.list().then((function(e){var t=e.data;return P(t.data)}))}),[]),Object(a.useEffect)((function(){var e=!0;return Object(R.a)(T.a.mark((function t(){var r,a,n,c,o,i;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(!0),r=[G.list({queryParams:{all:""}})],C&&r.push(Rt.get(C)),t.prev=3,t.next=6,Promise.all(r);case 6:a=t.sent,n=Object(p.a)(a,2),c=n[0],o=n[1],e&&(P(c.data.data),C&&(O(o.data.data),i=o.data.data.categories.map((function(e){return e.id})),s(Object(te.a)(Object(te.a)({},o.data.data),{},{categories_id:i})))),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),d("N\u0101o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 16:return t.prev=16,F(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})))(),function(){e=!1}}),[C,s,d]),Object(v.jsxs)(lt,{GridItemProps:{xs:12,md:6},onSubmit:n(D),children:[Object(v.jsx)(de.a,{name:"name",label:"Nome",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},error:I(i,"name"),helperText:A(i,"name"),disabled:w,inputRef:t}),Object(v.jsxs)(de.a,{select:!0,name:"categories_id",value:o("categories_id"),label:"Categorias",variant:"outlined",margin:"normal",fullWidth:!0,onChange:function(e){c("categories_id",e.target.value)},SelectProps:{multiple:!0},disabled:w,error:I(i,"categories_id"),helperText:A(i,"categories_id"),InputLabelProps:{shrink:!0},children:[Object(v.jsx)(h.a,{value:"",disabled:!0,children:Object(v.jsx)("em",{children:"Selecione categorias"})}),y.map((function(e,t){return Object(v.jsx)(h.a,{value:e.id,children:e.name},t)}))]}),Object(v.jsx)(et.a,{disabled:w,control:Object(v.jsx)(tt.a,{name:"is_active",color:"primary",onChange:function(){return c("is_active",!r().is_active)},checked:o("is_active")}),label:"Ativo?",labelPlacement:"end"}),Object(v.jsx)(ct,{disabledButtons:w,handleSave:function(){return l().then((function(e){e&&D(r(),null)}))}})]})},Bt=function(){var e=Object(Ee.g)();return Object(v.jsx)(P,{title:e.id?"Editar G\xeanero":"Criar G\xeanero",children:Object(v.jsx)(Lt,{})})},qt=r(730),Mt=new V(_,"videos"),Vt=r(726),Ut=r(725),_t=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"title",label:"Titulo",width:"20%",options:{filter:!1}},{name:"genres",label:"G\u1ebdneros",width:"13%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(v.jsxs)("span",{children:[" ",e.map((function(e){return e.name})).join(", ")," "]})}}},{name:"categories",label:"Categorias",width:"12%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return Object(v.jsxs)("span",{children:[" ",e.map((function(e){return e.name})).join(", ")," "]})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(v.jsxs)("span",{children:[" ",Object(Vt.a)(Object(Ut.a)(e),"dd/MM/yyyy")," "]})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return Object(v.jsx)(Me.a,{color:"secondary",component:k.b,to:"/videos/".concat(t.rowData[0],"/edit"),children:Object(v.jsx)(Ue.a,{})})}}}],zt=[15,25,50],Gt=function(){var e=Object(ve.b)().enqueueSnackbar,t=Object(a.useState)([]),r=Object(p.a)(t,2),n=r[0],c=r[1],o=Object(a.useRef)(!0),s=Object(a.useRef)(),l=Object(a.useState)(),u=Object(p.a)(l,2),d=(u[0],u[1]),b=Qe(),j=b.openDeleteDialog,f=b.setOpenDeleteDialog,h=b.rowsToDelete,m=b.setRowsToDelete,O=Object(a.useContext)(_e),g=Le({columns:_t,rowsPerPage:15,rowsPerPageOptions:zt,debounceTime:300,tableRef:s,extraFilter:{createValidationSchema:function(){return Ne.e().shape({categories:Ne.c().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(te.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}}}),x=g.columns,y=g.filterManager,P=g.filterState,C=g.debouncedFilterState,k=g.totalRecords,S=g.setTotalRecords,w=x.findIndex((function(e){return"categories"===e.name})),F=x[w],I=C.extraFilter&&C.extraFilter.categories;F.options.filterList=I||[];var A=x.map((function(e){return[]}));I&&(A[w]=I),Object(a.useEffect)((function(){return o.current=!0,Object(R.a)(T.a.mark((function t(){var r,a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.list({queryParams:{all:""}});case 3:r=t.sent,a=r.data,o.current&&(d(a.data),F.options.filterOptions.names=a.data.map((function(e){return e.name}))),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),console.log(t.t0),!G.isCancelledRequest(t.t0)){t.next=13;break}return t.abrupt("return");case 13:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){o.current=!1}}),[e]);var D=y.clearSearchText(C.search);function E(){return N.apply(this,arguments)}function N(){return(N=Object(R.a)(T.a.mark((function t(){var r,a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mt.list({queryParams:Object(te.a)({search:y.clearSearchText(C.search),page:C.pagination.page,per_page:C.pagination.per_page,sort:C.order.sort,dir:C.order.dir},C.extraFilter&&C.extraFilter.categories&&{categories:C.extraFilter.categories.join(",")})});case 3:r=t.sent,a=r.data,o.current&&(c(a.data),S(a.meta.total)),t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(0),console.log(t.t0),!Mt.isCancelledRequest(t.t0)){t.next=13;break}return t.abrupt("return");case 13:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function L(){return(L=Object(R.a)(T.a.mark((function t(r){var a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return f(!1),t.abrupt("return");case 3:return t.prev=3,a=h.data.map((function(e){return n[e.index].id})).join(","),t.next=7,Mt.deleteCollection({ids:a});case 7:if(!(h.data.length===C.pagination.per_page&&C.pagination.page>1)){t.next=12;break}c=C.pagination.page-2,y.changePage(c),t.next=14;break;case 12:return t.next=14,E();case 14:f(!1),e("Registros excluidos com sucesso!",{variant:"success"}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),console.log(t.t0),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"});case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return o.current=!0,E(),y.pushHistory(),function(){o.current=!1}}),[D,C.pagination.page,C.pagination.per_page,C.order,JSON.stringify(C.extraFilter)]),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(Xe,{open:j,handleClose:function(e){return L.apply(this,arguments)}}),Object(v.jsx)(ge,{title:"Videos",data:n,columns:x,debounceSearchTime:300,loading:O,ref:s,options:{serverSide:!0,searchText:P.search,page:P.pagination.page-1,rowsPerPage:15,rowsPerPageOptions:zt,count:k,customToolbar:function(){return Object(v.jsx)(Se,{handleClick:function(){return y.resetFilter()}})},onFilterChange:function(e,t,r){var a=x.findIndex((function(t){return t.name===e}));a&&t[a]?y.changeExtraFilter(Object(i.a)({},e,t[a].length?t[a]:null)):y.clearExtraFilter()},onSearchChange:function(e){return y.changeSearch(e)},onChangePage:function(e){return y.changePage(e)},onChangeRowsPerPage:function(e){return y.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return y.changeSort(e,t)},onRowsDelete:function(e){return m(e),!1}}})]})},Ht=function(){return Object(v.jsxs)(P,{title:"Listagem de videos",children:[Object(v.jsx)(x.a,{dir:"rtl",paddingBottom:2,children:Object(v.jsx)(C.a,{title:"Adicionar video",size:"small",component:k.b,to:"/videos/create",color:"secondary",children:Object(v.jsx)(qt.a,{})})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(Gt,{})})]})},Wt=r(24),Yt=Object(s.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),Xt={L:"#39B549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#d00003",18:"#000000"},Qt=function(e){var t=Yt();return Object(v.jsx)(d.a,{className:t.root,style:{backgroundColor:Xt[e.rating]},children:e.rating})},Zt=[{value:"L",control:Object(v.jsx)(kt.a,{color:"primary"}),label:Object(v.jsx)(Qt,{rating:"L"}),labelPlacement:"top"},{value:"10",control:Object(v.jsx)(kt.a,{color:"primary"}),label:Object(v.jsx)(Qt,{rating:"10"}),labelPlacement:"top"},{value:"12",control:Object(v.jsx)(kt.a,{color:"primary"}),label:Object(v.jsx)(Qt,{rating:"12"}),labelPlacement:"top"},{value:"14",control:Object(v.jsx)(kt.a,{color:"primary"}),label:Object(v.jsx)(Qt,{rating:"14"}),labelPlacement:"top"},{value:"16",control:Object(v.jsx)(kt.a,{color:"primary"}),label:Object(v.jsx)(Qt,{rating:"16"}),labelPlacement:"top"},{value:"18",control:Object(v.jsx)(kt.a,{color:"primary"}),label:Object(v.jsx)(Qt,{rating:"18"}),labelPlacement:"top"}],Kt=function(e){var t=e.value,r=e.setValue,a=e.disabled,n=e.error;return Object(v.jsxs)(yt.a,Object(te.a)(Object(te.a)({error:void 0!==n,disabled:!0===a},e.FormControlProps),{},{children:[Object(v.jsx)(Pt.a,{component:"legend",children:"Classifica\xe7\u0101o"}),Object(v.jsx)(x.a,{paddingTop:1,children:Object(v.jsx)(Ct.a,{name:"rating",onChange:function(e){r(e.target.value)},value:t,row:!0,children:Zt.map((function(e,t){return Object(v.jsx)(et.a,Object(te.a)({},e),t)}))})}),n&&Object(v.jsx)(St.a,{id:"type-helper-text",children:n.message})]}))},Jt=r(413),$t=r.n(Jt),er=r(719),tr=a.forwardRef((function(e,t){var r=Object(a.useRef)(),n=Object(a.useState)(""),c=Object(p.a)(n,2),o=c[0],i=c[1],s=Object(te.a)(Object(te.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(te.a)(Object(te.a)({readOnly:!0},e.TextFieldProps&&e.TextFieldProps.InputProps&&Object(te.a)({},e.TextFieldProps.InputProps)),{},{endAdornment:Object(v.jsx)(er.a,{position:"end",children:e.ButtonFile})}),value:o}),l=Object(te.a)(Object(te.a)({},e.InputFileProps),{},{hidden:!0,ref:r,onChange:function(t){var r=t.target.files;r.length&&i(Array.from(r).map((function(e){return e.name})).join(",")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(a.useImperativeHandle)(t,(function(){return{openWindow:function(){return r.current.click()},clear:function(){return i("")}}})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",Object(te.a)({type:"file"},l)),Object(v.jsx)(de.a,Object(te.a)({},s))]})})),rr=a.forwardRef((function(e,t){var r=Object(a.useRef)(),n=e.label,c=e.accept,o=e.setValue,i=e.disabled,s=e.error;return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return r.current.clear()}}})),Object(v.jsx)(yt.a,Object(te.a)(Object(te.a)({error:void 0!==s,disabled:!0===i,fullWidth:!0,margin:"normal"},e.FormControlProps),{},{children:Object(v.jsx)(tr,{ref:r,TextFieldProps:{label:n,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff"},disabled:!0===i},InputFileProps:{accept:c,onChange:function(e){var t=e.target.files;t.length&&o(t[0])},disabled:!0===i},ButtonFile:Object(v.jsx)(b.a,{endIcon:Object(v.jsx)($t.a,{}),variant:"contained",color:"primary",onClick:function(){return r.current.openWindow()},disabled:!0===i,children:"Adicionar"})})}))})),ar=r(703),nr=r(705),cr=r(226),or=r.n(cr),ir=r(727),sr=r(706),lr=a.forwardRef((function(e,t){var r=e.AutocompleteProps,n=e.debounceTime,c=void 0===n?300:n,o=e.fetchOptions,i=r,s=i.freeSolo,l=i.onOpen,u=i.onClose,d=i.onInputChange,b=Object(a.useState)(!1),j=Object(p.a)(b,2),f=j[0],h=j[1],m=Object(a.useState)(""),O=Object(p.a)(m,2),g=O[0],x=O[1],y=Object(De.a)(g,c),P=Object(p.a)(y,1)[0],C=Object(a.useContext)(_e),k=Object(a.useState)([]),S=Object(p.a)(k,2),w=S[0],F=S[1],I=Object(te.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(te.a)({},e.TextFieldProps)),A=Object(te.a)(Object(te.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},r&&Object(te.a)({},r)),{},{open:f,options:w,loading:C,onOpen:function(){h(!0),l&&l()},onClose:function(){h(!1),u&&u()},onInputChange:function(e,t){x(t),d&&d()},renderInput:function(e){return Object(v.jsx)(de.a,Object(te.a)(Object(te.a)(Object(te.a)({},e),I),{},{InputProps:Object(te.a)(Object(te.a)({},e.InputProps),{},{endAdornment:Object(v.jsxs)(a.Fragment,{children:[C&&Object(v.jsx)(sr.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}});return Object(a.useEffect)((function(){f||s||F([])}),[s,f]),Object(a.useEffect)((function(){if(f&&(""!==P||!s)){var e=!0;return Object(R.a)(T.a.mark((function t(){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o(P);case 3:r=t.sent,e&&F(r),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}}),[s,P,f,o]),Object(a.useImperativeHandle)(t,(function(){return{clear:function(){x(""),F([])}}})),Object(v.jsx)(ir.a,Object(te.a)({},A))})),ur=r(209),dr=Object(s.a)((function(e){return Object(ur.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),br=function(e){var t=dr();return Object(v.jsx)(it.a,Object(te.a)(Object(te.a)({container:!0,wrap:"wrap",className:t.root},e),{},{children:e.children}))},pr=r(99),jr=r.n(pr),fr=function(e){var t=e.onDelete,r=e.children,a=Object(ot.a)(e,["onDelete","children"]);return Object(v.jsx)(it.a,Object(te.a)(Object(te.a)({item:!0},a),{},{children:Object(v.jsxs)(it.a,{container:!0,alignItems:"center",spacing:3,children:[Object(v.jsx)(it.a,{item:!0,xs:1,children:Object(v.jsx)(j.a,{size:"small",color:"inherit",onClick:t,children:Object(v.jsx)(jr.a,{})})}),Object(v.jsx)(it.a,{item:!0,xs:9,md:10,children:r})]})}))},hr=function(e,t){var r=Object(ve.b)();return{addItem:function(a){a&&""!==a&&(e.find((function(e){return e.id===a.id}))?r.enqueueSnackbar("Item j\xe1 adiconado",{variant:"info"}):(e.unshift(a),t(e)))},removeItem:function(r){var a=e.findIndex((function(e){return e.id===r.id}));-1!==a&&(e.splice(a,1),t(e))}}},mr=function(){var e=Object(ve.b)().enqueueSnackbar;return Object(a.useCallback)(function(){var t=Object(R.a)(T.a.mark((function t(r){var a,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r;case 3:return a=t.sent,n=a.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),q.a.isCancel(t.t0)||e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])};function Or(e,t){return e.filter((function(e){return void 0!==e.categories&&0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var gr=a.forwardRef((function(e,t){var r=e.genres,n=e.categories,c=e.setGenres,o=e.setCategories,i=e.error,s=e.disabled,l=mr(),u=hr(r,c),b=u.addItem,p=u.removeItem,j=hr(n,o).removeItem,f=Object(a.useRef)(),h=Object(ce.a)(),m=Object(a.useCallback)((function(e){return l(Rt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[l]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return f.current.clear()}}})),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(lr,{ref:f,fetchOptions:m,TextFieldProps:{label:"G\xeaneros",error:void 0!==i},AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},onChange:function(e,t){return b(t)},disabled:s}}),Object(v.jsx)(St.a,{style:{height:h.spacing(3)},children:"Escolha os g\xeaneros do v\xeddeo"}),Object(v.jsxs)(yt.a,Object(te.a)(Object(te.a)({error:void 0!==i,disabled:!0===s},e.FormControlProps),{},{fullWidth:!0,margin:"normal",children:[Object(v.jsx)(br,{children:r.map((function(e,t){return Object(v.jsx)(fr,{onDelete:function(){n.filter((function(t){var a=Or(r,t);return 1===a.length&&-1!==a.findIndex((function(t){return t.id===e.id}))})).forEach((function(e){return j(e)})),p(e)},xs:12,children:Object(v.jsx)(d.a,{children:e.name})},t)}))}),i&&Object(v.jsx)(St.a,{children:i.message})]}))]})})),xr=r(118),vr=Object(s.a)({genreSubtitle:{fontSize:"0.8rem",color:xr.a[800]}}),yr=a.forwardRef((function(e,t){var r=e.categories,n=e.setCategories,c=e.genres,o=e.disabled,i=e.error,s=mr(),l=hr(r,n),u=l.addItem,b=l.removeItem,p=Object(a.useRef)(),j=Object(ce.a)(),f=vr(),h=Object(a.useCallback)((function(){return s(G.list({queryParams:{genres:c.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[s,c]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return p.current.clear()}}})),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(lr,{ref:p,fetchOptions:h,TextFieldProps:{label:"Categorias",error:void 0!==i},AutocompleteProps:{clearOnEscape:!0,freeSolo:!1,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},onChange:function(e,t){return u(t)},disabled:!0===o||!c.length}}),Object(v.jsx)(St.a,{style:{height:j.spacing(3)},children:"Escolha pelo menos uma categoria de cada g\xeanero"}),Object(v.jsxs)(yt.a,Object(te.a)(Object(te.a)({error:void 0!==i,disabled:!0===o},e.FormControlProps),{},{fullWidth:!0,margin:"normal",children:[Object(v.jsx)(br,{children:r.map((function(e,t){var r=Or(c,e).map((function(e){return e.name})).join(",");return Object(v.jsxs)(fr,{onDelete:function(){return b(e)},xs:12,children:[Object(v.jsx)(d.a,{noWrap:!0,children:e.name}),Object(v.jsxs)(d.a,{noWrap:!0,className:f.genreSubtitle,children:["G\xeaneros: ",r]})]},t)}))}),i&&Object(v.jsx)(St.a,{children:i.message})]}))]})})),Pr=a.forwardRef((function(e,t){var r=e.castMembers,n=e.setCastMembers,c=e.error,o=e.disabled,i=mr(),s=hr(r,n),l=s.addItem,u=s.removeItem,b=Object(a.useRef)(),p=Object(a.useCallback)((function(e){return i(jt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}),[i]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return b.current.clear()}}})),Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(lr,{ref:b,fetchOptions:p,TextFieldProps:{label:"Membros de elenco",error:void 0!==c},AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionSelected:function(e,t){return e.id===t.id},getOptionLabel:function(e){return e.name},onChange:function(e,t){return l(t)},disabled:o}}),Object(v.jsxs)(yt.a,Object(te.a)(Object(te.a)({error:void 0!==c,disabled:!0===o},e.FormControlProps),{},{fullWidth:!0,margin:"normal",children:[Object(v.jsx)(br,{children:r.map((function(e,t){return Object(v.jsx)(fr,{onDelete:function(){return u(e)},xs:6,children:Object(v.jsx)(d.a,{children:e.name})},t)}))}),c&&Object(v.jsx)(St.a,{children:c.message})]}))]})})),Cr=r(704),kr=r(683),Sr=r(680),wr=r(225),Fr=r.n(wr),Tr=r(224),Rr=r.n(Tr),Ir=r(268),Ar=r.n(Ir),Dr=r(676),Er=r(722),Nr=r(359),Lr=r(713),Br=r(223),qr=r.n(Br),Mr=r(421);function Vr(e){return 1===e.progress||Ur(e)}function Ur(e){return _r(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function _r(e){return"video"in e}var zr,Gr=Object(s.a)((function(e){return{progressContainer:{position:"relative"},progress:{position:"absolute",left:0},progressBackground:{color:xr.a[300]}}})),Hr=function(e){var t=Gr(),r=e.size,a=e.uploadOrFile,n=Ur(a);return Object(v.jsx)(Mr.a,{in:a.progress<1,timeout:{enter:100,exit:2e3},children:Object(v.jsxs)("div",{className:t.progressContainer,children:[Object(v.jsx)(sr.a,{variant:"static",value:100,className:t.progressBackground,size:r}),Object(v.jsx)(sr.a,{className:t.progress,variant:"static",value:n?0:100*a.progress,size:r})]})})},Wr=r(723),Yr=r(221),Xr=r.n(Yr),Qr=r(222),Zr=r.n(Qr),Kr=r(65),Jr=r(162),$r=r.n(Jr),ea=Object(we.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),ta=ea.Types,ra=ea.Creators,aa={uploads:[]},na=Object(we.createReducer)(aa,(zr={},Object(i.a)(zr,ta.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;if(0===t.payload.files.length)return e;var r=ca(e,t.payload.video.id);if(-1!==r&&e.uploads[r].progress<1)return e;var a=-1===r?e.uploads:$r()(e.uploads,{$splice:[[r,1]]});return{uploads:[].concat(Object(Wt.a)(a),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(i.a)(zr,ta.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;console.log("removeUpload"),console.log(e),console.log(e);var r=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(r.length===e.uploads.length)return e;return{uploads:r}})),Object(i.a)(zr,ta.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=oa(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c)return e;var s=e.uploads[c],l=s.files[o];if(l.progress===t.payload.progress)return e;var u=$r()(e.uploads,Object(i.a)({},c,{$apply:function(e){var r=$r()(e.files,Object(i.a)({},o,{$set:Object(te.a)(Object(te.a)({},l),{},{progress:t.payload.progress})})),a=ia(r);return Object(te.a)(Object(te.a)({},e),{},{progress:a,files:r})}}));return{uploads:u}})),Object(i.a)(zr,ta.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=oa(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c)return e;var s=e.uploads[c],l=s.files[o],u=$r()(e.uploads,Object(i.a)({},c,{files:Object(i.a)({},o,{$set:Object(te.a)(Object(te.a)({},l),{},{error:t.payload.error,progress:1})})}));return{uploads:u}})),zr));function ca(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}function oa(e,t,r){var a=ca(e,t);if(-1===a)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[a].files,r);return-1===n?{}:{indexUpload:a,indexFile:n}}function ia(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}var sa=Object(s.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main}}})),la=function(e){var t=sa(),r=e.upload,n=e.hover,c=Object(Kr.b)(),o=Ur(r),i=Object(a.useState)(!1),s=Object(p.a)(i,2),l=s[0],u=s[1],d=Object(De.a)(l,2500),b=Object(p.a)(d,1)[0];return Object(a.useEffect)((function(){u(Vr(r))}),[r]),b?Object(v.jsx)(Mr.a,{in:!0,timeout:{enter:1e3},children:Object(v.jsxs)(Wr.a,{children:[Object(v.jsxs)("span",{hidden:n,children:[1===r.progress&&!o&&Object(v.jsx)(j.a,{className:t.successIcon,children:Object(v.jsx)(Xr.a,{})}),o&&Object(v.jsx)(j.a,{className:t.errorIcon,children:Object(v.jsx)(Zr.a,{})})]}),Object(v.jsx)("span",{hidden:!n,children:Object(v.jsx)(j.a,{color:"primary",onClick:function(){return c(ra.removeUpload({id:r.video.id}))},children:Object(v.jsx)(jr.a,{})})})]})}):null},ua=Object(s.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),da=function(e){var t=e.upload,r=ua(),n=Ur(t),c=Object(a.useState)(!1),o=Object(p.a)(c,2),i=o[0],s=o[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ye.a,{title:n?"N\xe3o foi poss\xedvel fazer upload, clique pra mais detalhes":"",placement:"left",disableFocusListener:!0,disableTouchListener:!0,children:Object(v.jsxs)(Dr.a,{className:r.listItem,button:!0,onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(v.jsx)(Er.a,{className:r.movieIcon,children:Object(v.jsx)(qr.a,{})}),Object(v.jsx)(Nr.a,{className:r.listItemText,primary:Object(v.jsx)(d.a,{noWrap:!0,variant:"subtitle2",color:"inherit",children:t.video.title})}),Object(v.jsx)(Hr,{size:30,uploadOrFile:t}),Object(v.jsx)(la,{upload:t,hover:i})]})}),Object(v.jsx)(Lr.a,{component:"li"})]})},ba=Object(s.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),pa=a.forwardRef((function(e,t){var r=e.id,n=ba(),c=Object(ve.b)().closeSnackbar,o=Object(a.useState)(!0),s=Object(p.a)(o,2),l=s[0],u=s[1],b=Object(Kr.c)((function(e){return e.upload.uploads})),f=function(e){return e.filter((function(e){return!Vr(e)})).length}(b);return Object(v.jsxs)(ar.a,{ref:t,className:n.card,children:[Object(v.jsxs)(Cr.a,{classes:{root:n.cardActionRoot},children:[Object(v.jsxs)(d.a,{variant:"subtitle2",className:n.title,children:["Fazendo o upload de ",f," v\xeddeo(s)"]}),Object(v.jsxs)("div",{className:n.icons,children:[Object(v.jsx)(j.a,{color:"inherit",onClick:function(){return u(!l)},children:Object(v.jsx)(Rr.a,{className:Ar()(n.expand,Object(i.a)({},n.expandOpen,!l))})}),Object(v.jsx)(j.a,{color:"inherit",onClick:function(){return c(r)},children:Object(v.jsx)(Fr.a,{})})]})]}),Object(v.jsx)(kr.a,{in:l,children:Object(v.jsx)(Sr.a,{className:n.list,children:b.map((function(e,t){return Object(v.jsx)(da,{upload:e},t)}))})})]})})),ja=or()((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),fa=Ne.e().shape({title:Ne.g().label("T\xedtulo").required().max(255),description:Ne.g().label("Sinopse").required(),year_launched:Ne.d().label("Ano de lan\xe7amento").required().min(1),duration:Ne.d().label("Dura\xe7\xe3o").required().min(1),rating:Ne.g().label("Classifica\xe7\xe3o").required(),genres:Ne.a().label("G\xeaneros").required().test({message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:Ne.a().label("Categorias").required(),cast_members:Ne.a().label("Membros de elenco").required()}),ha=Object.keys(ht),ma=function(){var e=Object(rt.b)({resolver:Object(at.a)(fa),defaultValues:{rating:"",opened:!1,genres:[],categories:[],cast_members:[]}}),t=e.register,r=e.handleSubmit,n=e.getValues,c=e.setValue,o=e.watch,i=e.reset,s=e.errors,l=e.trigger,u=e.formState;ut(u.submitCount,s);var b=Object(Ee.g)().id,j=Object(ve.b)().enqueueSnackbar,f=Object(Ee.f)(),h=Object(a.useState)(null),m=Object(p.a)(h,2),O=m[0],g=m[1],x=Object(a.useContext)(_e),y=Object(ce.a)(),P=Object(oe.a)(y.breakpoints.up("md")),C=Object(a.useRef)(),k=Object(a.useRef)(),S=Object(a.useRef)(),w=Object(a.useRef)(Object(ne.zipObject)(ha,ha.map((function(){return Object(a.createRef)()})))),F=Object(Kr.b)(),I=Object(a.useCallback)((function(e){Object.keys(w.current).forEach((function(e){return w.current[e].current.clear()})),C.current.clear(),k.current.clear(),S.current.clear(),i(e)}),[C,k,S,w,i]);function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(R.a)(T.a.mark((function e(t,r){var a,n,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(ne.omit)(t,[].concat(Object(Wt.a)(ha),["cast_members","genres","categories"]))).cast_members_id=t.cast_members.map((function(e){return e.id})),a.genres_id=t.genres.map((function(e){return e.id})),a.categories_id=t.categories.map((function(e){return e.id})),e.prev=4,n=O?Mt.update(O.id,a):Mt.create(a),e.next=8,n;case 8:c=e.sent,o=c.data,j("V\xeddeo salvo com sucesso!",{variant:"success"}),E(o.data),b&&I(O),r?b?f.replace("/videos/".concat(o.data.id,"/edit")):f.push("/videos/".concat(o.data.id,"/edit")):f.push("/videos"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),b&&I(O),j("N\xe3o foi poss\xedvel salvar as informa\xe7\xf5es",{variant:"error"});case 21:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function E(e){var t=ha.filter((function(e){return n()[e]})).map((function(e){return{fileField:e,file:n()[e]}}));t.length&&(F(ra.addUpload({video:e,files:t})),j("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var r=e;return Object(v.jsx)(pa,{id:r})}}))}Object(a.useEffect)((function(){["rating","opened","genres","categories","cast_members"].concat(Object(Wt.a)(ha)).forEach((function(e){return t({name:e})}))}),[t]),Object(a.useEffect)((function(){b&&function(){var e=Object(R.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.get(b);case 3:t=e.sent,r=t.data,g(r.data),i(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),j("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[j,b,i]);var N=ja();return Object(v.jsxs)(lt,{GridItemProps:{xs:12},onSubmit:r(A),children:[Object(v.jsxs)(it.a,{container:!0,spacing:5,children:[Object(v.jsxs)(it.a,{item:!0,xs:12,md:6,children:[Object(v.jsx)(de.a,{name:"title",label:"T\xedtulo",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==s.title,helperText:s.title&&s.title.message}),Object(v.jsx)(de.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==s.description,helperText:s.description&&s.description.message}),Object(v.jsxs)(it.a,{container:!0,spacing:1,children:[Object(v.jsx)(it.a,{item:!0,xs:6,children:Object(v.jsx)(de.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==s.year_launched,helperText:s.year_launched&&s.year_launched.message})}),Object(v.jsx)(it.a,{item:!0,xs:6,children:Object(v.jsx)(de.a,{name:"duration",label:"Dura\xe7\u0101o",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:x,InputLabelProps:{shrink:!0},error:void 0!==s.duration,helperText:s.duration&&s.duration.message})})]}),Object(v.jsx)(Pr,{ref:C,error:s.cast_members,castMembers:o("cast_members"),setCastMembers:function(e){return c("cast_members",e,{shouldValidate:!0})},disabled:x}),Object(v.jsx)("br",{}),Object(v.jsxs)(it.a,{container:!0,spacing:2,children:[Object(v.jsx)(it.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(gr,{ref:S,error:s.genres,genres:o("genres"),categories:o("categories"),setGenres:function(e){return c("genres",e,{shouldValidate:!0})},setCategories:function(e){return c("categories",e,{shouldValidate:!0})},disabled:x})}),Object(v.jsx)(it.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(yr,{ref:k,error:s.categories,categories:o("categories"),setCategories:function(e){return c("categories",e,{shouldValidate:!0})},genres:o("genres"),disabled:x})})]}),Object(v.jsx)("br",{})]}),Object(v.jsxs)(it.a,{item:!0,xs:12,md:6,children:[Object(v.jsx)(Kt,{value:o("rating")+"",setValue:function(e){return c("rating",e,{shouldValidate:!0})},error:s.rating,disabled:x,FormControlProps:{margin:P?"none":"normal"}}),Object(v.jsx)(ar.a,{className:N.cardUpload,children:Object(v.jsxs)(nr.a,{children:[Object(v.jsx)(d.a,{color:"primary",variant:"h6",children:"Imagens"}),Object(v.jsx)(rr,{ref:w.current.thumb_file,label:"Thumb",accept:"image/*",setValue:function(e){return c("thumb_file",e)},error:null,disabled:x}),Object(v.jsx)(rr,{ref:w.current.banner_file,label:"Banner",accept:"image/*",setValue:function(e){return c("banner_file",e)},error:null,disabled:x})]})}),Object(v.jsx)(ar.a,{className:N.cardUpload,children:Object(v.jsxs)(nr.a,{children:[Object(v.jsx)(d.a,{color:"primary",variant:"h6",children:"V\xeddeos"}),Object(v.jsx)(rr,{ref:w.current.trailer_file,label:"Trailer",accept:"video/mp4",setValue:function(e){return c("trailer_file",e)},error:null,disabled:x}),Object(v.jsx)(rr,{ref:w.current.video_file,label:"V\xeddeo",accept:"video/mp4",setValue:function(e){return c("video_file",e)},error:null,disabled:x})]})}),Object(v.jsx)(ar.a,{className:N.cardOpened,children:Object(v.jsx)(nr.a,{className:N.cardContentOpened,children:Object(v.jsx)(et.a,{control:Object(v.jsx)(tt.a,{name:"opened",color:"primary",onChange:function(){c("opened",!n().opened)},checked:o("opened"),disabled:x}),label:Object(v.jsx)(d.a,{color:"primary",variant:"subtitle2",children:"Quero que este conte\xfado apare\xe7a na se\xe7\u0101o de lan\xe7amentos"}),labelPlacement:"end"})})})]})]}),Object(v.jsx)(ct,{disabledButtons:!1,handleSave:function(){l().then((function(e){e&&A(n(),null)}))}})]})},Oa=function(){var e=Object(Ee.g)().id;return Object(v.jsx)(P,{title:e?"Editar v\xeddeo":"Criar v\xeddeo",children:Object(v.jsx)(ma,{})})},ga=function(e){return Object(v.jsx)(P,{title:"Dasboard"})},xa=r(732),va=r(715),ya=r(714),Pa=(r(415),or()((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),Ca=function(e){var t=e.uploadOrFile,r=Pa(),n=Object(Kr.b)(),c=Ur(t),o=Object(a.useState)(!1),i=Object(p.a)(o,2),s=i[0],l=i[1],u=Object(De.a)(s,2500),d=Object(p.a)(u,1)[0],b=t.video?t.video.id:"",f=_r(t);return Object(a.useEffect)((function(){l(Vr(t))}),[t]),d?Object(v.jsx)(Mr.a,{in:!0,timeout:{enter:1e3},children:Object(v.jsxs)(v.Fragment,{children:[1===t.progress&&!c&&Object(v.jsx)(Xr.a,{className:r.successIcon}),c&&Object(v.jsx)(Zr.a,{className:r.errorIcon}),f&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Lr.a,{className:r.divider,orientation:"vertical"}),Object(v.jsx)(j.a,{onClick:function(){return n(ra.removeUpload({id:b}))},children:Object(v.jsx)(jr.a,{color:"primary"})}),Object(v.jsx)(j.a,{component:k.b,to:"/videos/".concat(b,"/edit"),children:Object(v.jsx)(Ue.a,{color:"primary"})})]})]})}):null},ka=Object(s.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}})),Sa=function(e){var t=e.uploadOrFile,r=ka();return Object(v.jsx)(Dr.a,{children:Object(v.jsxs)(it.a,{container:!0,alignItems:"center",children:[Object(v.jsxs)(it.a,{className:r.gridTitle,item:!0,xs:12,md:9,children:[Object(v.jsx)(qr.a,{className:r.icon}),Object(v.jsx)(d.a,{color:"inherit",children:e.children})]}),Object(v.jsx)(it.a,{item:!0,xs:12,md:3,children:Object(v.jsxs)(it.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end",children:[Object(v.jsx)(Hr,{size:48,uploadOrFile:t}),Object(v.jsx)(Ca,{uploadOrFile:t})]})})]})})},wa=Object(s.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),Fa=[{name:"dashboard",label:"Dashboard",path:"/",component:ga,exact:!0},{name:"categories.list",label:"Categorias",path:"/categories",component:$e,exact:!0},{name:"categories.create",label:"Criar categoria",path:"/categories/create",component:pt,exact:!0},{name:"categories.edit",label:"Editar categoria",path:"/categories/:id/edit",component:pt,exact:!0},{name:"cast_members.list",label:"Membros de elencos",path:"/cast-members",component:vt,exact:!0},{name:"cast_members.create",label:"Criar membro de elenco",path:"/cast-members/create",component:Tt,exact:!0},{name:"cast_members.edit",label:"Editar membros de elencos",path:"/cast-members/:id/edit",component:Tt,exact:!0},{name:"genres.list",label:"G\xeaneros",path:"/genres",component:Et,exact:!0},{name:"genres.create",label:"Criar g\xeanero",path:"/genres/create",component:Bt,exact:!0},{name:"genres.edit",label:"Editar g\xeaneros",path:"/genres/:id/edit",component:Bt,exact:!0},{name:"videos.list",label:"Videos",path:"/videos",component:Ht,exact:!0},{name:"videos.create",label:"Criar videos",path:"/videos/create",component:Oa,exact:!0},{name:"videos.edit",label:"Editar videos",path:"/videos/:id/edit",component:Oa,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(e){var t=wa(),r=Object(Kr.c)((function(e){return e.upload.uploads}));return Object(v.jsx)(P,{title:"Uploads",children:r.map((function(e,r){return Object(v.jsx)(ar.a,{elevation:5,children:Object(v.jsxs)(nr.a,{children:[Object(v.jsx)(Sa,{uploadOrFile:e,children:e.video.title}),Object(v.jsxs)(xa.a,{style:{margin:0},children:[Object(v.jsx)(va.a,{className:t.panelSummary,expandIcon:Object(v.jsx)(Rr.a,{className:t.expandedIcon}),children:Object(v.jsx)(d.a,{children:" Ver Detalhes"})}),Object(v.jsx)(ya.a,{style:{padding:"0px"},children:Object(v.jsx)(it.a,{item:!0,xs:12,children:Object(v.jsx)(Sr.a,{dense:!0,style:{padding:"0px"},children:e.files.map((function(e,t){return Object(v.jsxs)(a.Fragment,{children:[Object(v.jsx)(Lr.a,{}),Object(v.jsx)(Sa,{uploadOrFile:e,children:"".concat(ht[e.fileField]," - ").concat(e.filename)})]},t)}))})})})]})]})},r)}))})},exact:!0}],Ta=["dashboard","categories.list","cast_members.list","genres.list","videos.list","uploads"],Ra=function(){var e=Fa.filter((function(e){return Ta.includes(e.name)})),t=n.a.useState(null),r=Object(p.a)(t,2),a=r[0],c=r[1],o=Boolean(a),i=function(){return c(null)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.a,{color:"inherit",edge:"start","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return c(e.currentTarget)},children:Object(v.jsx)(O.a,{})}),Object(v.jsx)(f.a,{id:"menu-appbar",open:o,anchorEl:a,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:Ta.map((function(t,r){var a=e.find((function(e){return e.name===t}));return Object(v.jsx)(h.a,{component:k.b,to:a.path,onClick:i,children:a.label},r)}))})]})},Ia=Object(s.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(i.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Aa=function(){var e=Ia();return Object(v.jsx)(l.a,{children:Object(v.jsxs)(u.a,{className:e.toolbar,children:[Object(v.jsx)(Ra,{}),Object(v.jsx)(d.a,{className:e.title,children:Object(v.jsx)("img",{src:"data:image/png;base64,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",alt:"Codeflix",className:e.logo})}),Object(v.jsx)(b.a,{color:"inherit",children:"Login"})]})})},Da=r(707),Ea=function(){return Object(v.jsx)(Ee.c,{children:Fa.map((function(e,t){return Object(v.jsx)(Ee.a,{path:e.path,component:e.component,exact:!0===e.exact},t)}))})},Na=r(721),La=r(729),Ba=r(417),qa=r.n(Ba),Ma={"/inbox":"Inbox","/inbox/important":"Important","/trash":"Trash","/spam":"Spam","/drafts":"Drafts"};Fa.forEach((function(e){return Ma[e.path]=e.label}));var Va=Object(s.a)((function(e){return Object(ur.a)({linkRouter:{color:e.palette.secondary.main,"&:focus, $:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),Ua=function(e){return Object(v.jsx)(Na.a,Object(te.a)(Object(te.a)({},e),{},{component:k.b}))};function _a(){var e=Va();return Object(v.jsx)(g.a,{children:Object(v.jsx)(x.a,{dir:"lft",paddingTop:2,paddingBottom:1,children:Object(v.jsx)(Ee.a,{children:function(t){return function(t){var r=t.pathname.split("/").filter((function(e){return e}));return r.unshift("/"),Object(v.jsxs)(La.a,{"aria-label":"breadcrumb",children:[Object(v.jsx)(Ua,{color:"inherit",to:"/",children:"Home"}),r.map((function(t,a){var n=a===r.length-1,c="".concat(r.slice(0,a+1).join("/").replace("//","/")),o=Object.keys(Ma).find((function(e){return new qa.a(e).match(c)}));return void 0!==o&&(n?Object(v.jsx)(d.a,{color:"textPrimary",children:Ma[o]},c):Object(v.jsx)(Ua,{color:"inherit",to:c,className:e.linkRouter,children:Ma[o]},c))}))]})}(t.location)}})})})}var za=Object(s.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main},variantError:{backgroundColor:e.palette.error.main},variantInfo:{backgroundColor:e.palette.primary.main}}})),Ga=function(e){var t,r={classes:za(),autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},children:a.createElement("div"),ref:function(e){return t=e},action:function(e){return Object(v.jsx)(j.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)},children:Object(v.jsx)(Fr.a,{})})}},n=Object(te.a)(Object(te.a)({},r),e);return Object(v.jsx)(ve.a,Object(te.a)(Object(te.a)({},n),{},{children:e.children}))},Ha=r(720);function Wa(e){return Object(te.a)(Object(te.a)({},e),{},{palette:Object(te.a)(Object(te.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var Ya=function(e){var t=Object(a.useContext)(_e);return Object(v.jsx)(W.a,{theme:Wa,children:Object(v.jsx)(Mr.a,{in:t,timeout:{exit:300},children:Object(v.jsx)(Ha.a,{style:{position:"fixed",width:"100%",zIndex:9999}})})})},Xa=function(e){var t=Object(a.useState)(!1),r=Object(p.a)(t,2),n=r[0],c=r[1],o=Object(a.useState)(0),i=Object(p.a)(o,2),s=i[0],l=i[1];function u(){l((function(e){return e-1}))}return Object(a.useMemo)((function(){var e=!0,t=function(e,t){var r,a=[],n=Object(U.a)(z);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.request.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&t.headers&&!t.headers.hasOwnProperty("x-ignore-loading")&&(c(!0),l((function(e){return e+1}))),t})),r=function(e,t){var r,a=[],n=Object(U.a)(z);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.response.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&t.config&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&u(),t}),(function(t){return!e||t.config&&t.config.headers.hasOwnProperty("x-ignore-loading")||u(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){z[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){z[t].interceptors.response.eject(e)}))}(r)}}),[]),Object(a.useEffect)((function(){s||c(!1)}),[s]),Object(v.jsx)(_e.Provider,{value:n,children:e.children})},Qa=function(){return Object(v.jsx)(n.a.Fragment,{children:Object(v.jsx)(Xa,{children:Object(v.jsx)(W.a,{theme:K,children:Object(v.jsxs)(Ga,{children:[Object(v.jsx)(Da.a,{}),Object(v.jsxs)(k.a,{basename:"/admin",children:[Object(v.jsx)(Ya,{}),Object(v.jsx)(Aa,{}),Object(v.jsxs)(x.a,{paddingTop:"70px",children:[Object(v.jsx)(_a,{}),Object(v.jsx)(Ea,{})]})]})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Za=r(135),Ka=r(161),Ja=r(81),$a=T.a.mark(tn),en=T.a.mark(rn);function tn(){var e,t,r,a,n,c,o;return T.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ja.a)(ta.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(Ja.e)(e);case 6:t=i.sent,r=t.payload,a=Object(U.a)(r.files),i.prev=9,a.s();case 11:if((n=a.n()).done){i.next=25;break}return c=n.value,i.prev=13,i.next=16,Object(Ja.c)(rn,{video:r.video,fileInfo:c});case 16:o=i.sent,console.log(o),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(13),console.log(i.t0);case 23:i.next=11;break;case 25:i.next=30;break;case 27:i.prev=27,i.t1=i.catch(9),a.e(i.t1);case 30:return i.prev=30,a.f(),i.finish(30);case 33:i.next=3;break;case 35:case"end":return i.stop()}}),$a,null,[[9,27,30,33],[13,20]])}function rn(e){var t,r,a,n,c,o;return T.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,r=e.fileInfo,i.next=3,Object(Ja.c)(an,{id:t.id,fileInfo:r});case 3:a=i.sent;case 4:return i.prev=5,i.next=8,Object(Ja.e)(a);case 8:if(n=i.sent,c=n.progress,!(o=n.response)){i.next=13;break}return i.abrupt("return",o);case 13:return i.next=15,Object(Ja.d)(ra.updateProgress({video:t,fileField:r.fileField,progress:c}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(Ja.d)(ra.setUploadError({video:t,fileField:r.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),en,null,[[5,17]])}function an(e){var t=e.id,r=e.fileInfo;return Object(Ka.c)((function(e){Mt.partialUpdate(t,Object(i.a)({_method:"PATCH"},r.fileField,r.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var r=t.loaded/t.total;e({progress:r})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(Ka.a)}));return function(){}}))}var nn=T.a.mark(cn);function cn(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ja.b)([tn()]);case 2:case"end":return e.stop()}}),nn)}var on=Object(Ka.b)(),sn=Object(Za.d)(Object(Za.b)({upload:na}),Object(Za.a)(on));on.run(cn);var ln=sn;o.a.render(Object(v.jsx)(Kr.a,{store:ln,children:Object(v.jsx)(Qa,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[670,1,2]]]);
//# sourceMappingURL=main.ec17e5e4.chunk.js.map