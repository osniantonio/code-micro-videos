{"version":3,"sources":["components/Page.tsx","util/http/http-resource.ts","util/http/index.ts","util/http/category-http.ts","theme.ts","components/Badge.tsx","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","components/Table/FilterResetButton.tsx","store/filter/index.ts","hooks/useFilter.ts","util/vendor/yup.ts","components/loading/LoadingContext.tsx","components/DeleteDialog.tsx","hooks/useDeleteCollection.ts","pages/category/Table.tsx","pages/category/PageList.tsx","components/SubmitActions.tsx","components/DefaultForm.tsx","hooks/useSnackbarFormError.ts","pages/category/Form.tsx","pages/category/PageForm.tsx","util/http/cast-member-http.ts","util/models.ts","pages/cast-members/Table.tsx","pages/cast-members/PageList.tsx","pages/cast-members/Form.tsx","pages/cast-members/PageForm.tsx","util/http/genre-http.ts","pages/genres/Table.tsx","pages/genres/PageList.tsx","pages/genres/Form.tsx","pages/genres/PageForm.tsx","util/http/video-http.ts","pages/video/Table.tsx","pages/video/PageList.tsx","components/Rating.tsx","pages/video/form/RatingField.tsx","components/InputFile.tsx","pages/video/form/UploadField.tsx","components/AsyncAutoComplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useCollectionManager.ts","hooks/useHttpHandle.ts","util/models-filters.ts","pages/video/form/GenreField.tsx","pages/video/form/CategoryField.tsx","pages/video/form/CastMemberField.tsx","store/upload/getters.ts","components/UploadProgress.tsx","store/upload/index.ts","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/form/index.tsx","pages/video/PageForm.tsx","pages/Dashboard.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","static/img/logo.png","routes/AppRouter.tsx","components/Breadcrumbs.tsx","components/SnackbarProvider.tsx","components/Spinner.tsx","components/loading/LoadingProvider.tsx","App.tsx","serviceWorker.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["useStyles","makeStyles","titles","color","Page","props","classes","Container","Typography","className","component","variant","title","Box","paddingTop","children","HttpResource","http","resource","cancelList","options","this","cancel","axios","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","patch","put","delete","error","isCancel","serialize","booleansAsIntegers","Object","values","filter","el","File","length","httpVideo","create","baseURL","process","instances","categoryHttp","palette","primary","main","contrastText","secondary","dark","background","default","red","success","green","theme","createMuiTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","backgroundColor","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","MUIDataTableFilterList","marginBottom","localTheme","BadgeYes","Chip","label","BadgeNo","DebouncedTableSearch","handleTextChange","event","value","target","setState","text","debouncedOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","undefined","state","debounce","bind","debouceTime","prevProps","prevState","snapshot","e","document","addEventListener","removeEventListener","Grow","appear","in","timeout","ref","rootRef","searchIcon","TextField","autoFocus","InputProps","textLabels","toolbar","search","onChange","fullWidth","inputRef","searchField","placeholder","searchPlaceholder","IconButton","clearIcon","onClick","React","PureComponent","withStyles","display","flex","marginTop","marginRight","name","Table","debouncedSearchTime","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","debounceSearchTime","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","newProps","merge","forEach","column","key","width","setColumnsWidth","map","omit","loading","applyLoading","responsive","originalProps","FilterResetButton","Tooltip","handleClick","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","clearExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","CLEAR_EXTRA_FILTER","useFilter","history","useHistory","filterManager","FilterManager","getStateFromURL","useReducer","filterState","dispatch","useDebounce","debounceTime","debouncedFilterState","useState","totalRecords","setTotalRecords","debouncedState","applyOrdersInColumns","useEffect","replaceHistory","setLocale","mixed","required","notType","string","max","min","number","array","schema","rowsPerPageOptions","tableRef","createValidationSchema","current","changeRowsPerPage","changePage","resetTablePagination","changedColumn","direction","includes","cast","sortDirection","newText","replace","pathname","location","URLSearchParams","formatSearchParams","newLocation","clearSearchText","oldState","nextState","isEqual","push","substr","yup","shape","transform","isNaN","parseInt","nullable","toLowerCase","LoadingContext","createContext","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","columnsDefinitions","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","enqueueSnackbar","useSnackbar","subscribed","useRef","setData","useContext","filteredSearch","getData","a","list","meta","total","console","log","isCancelledRequest","confirmed","ids","index","join","deleteCollection","pushHistory","serverSide","count","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeSort","onRowsDelete","rowsDeleted","PageList","Fab","size","submit","margin","spacing","SubmitActions","buttonProps","disabled","disabledButtons","handleSave","type","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","useSnackbarFormError","submitCount","errors","hasErrors","keys","validationSchema","Form","useForm","resolver","yupResolver","defaultValues","is_active","register","getValues","setValue","handleSubmit","watch","trigger","formState","useParams","category","setCategory","setLoading","onSubmit","formData","update","setTimeout","xs","md","InputLabelProps","shrink","helperText","message","multiline","rows","FormControlLabel","control","Checkbox","checked","labelPlacement","then","isValid","PageForm","parametros","castMemberHttp","CastMemberTypeMap","1","2","VideoFileFieldsMap","thumb_file","banner_file","trailer_file","video_file","castMemberNames","indexColumnType","findIndex","c","columnType","typeFilterValue","filterList","serverSideFilterList","invert","JSON","stringify","onFilterChange","columnIndex","changeExtraFilter","castMember","setCastMember","FormControl","FormLabel","RadioGroup","Radio","FormHelperText","genreHttp","filterType","setCategories","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","categories_id","genre","setGenre","hasErrorById","getErroMessageById","isSubscribed","promises","Promise","categoriesResponse","genreResponse","select","SelectProps","multiple","MenuItem","videoHttp","height","fontSize","borderRadius","justifyContent","backgroundColors","Rating","style","rating","ratings","RatingField","FormControlProps","row","InputFile","fileRef","filename","setFilename","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","endIcon","AsyncAutoComplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setOptions","autoCompleteProps","loadingText","noOptionsText","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","useCollectionManager","collection","setCollettion","snackbar","addItem","find","i","unshift","removeItem","splice","useHttpHandled","useCallback","request","Axios","getGenresFromCategory","genres","cat","GenreField","setGenres","autoCompleteHttp","removeCategory","autoCompleteRef","catch","clearOnEscape","getOptionSelected","option","getOptionLabel","genresFromCategory","g","genreSubtitle","grey","CategoryField","noWrap","CastMemberField","castMembers","setCastMembers","isFinished","obj","progress","hasError","isUploadType","some","progressContainer","left","progressBackground","UploadProgress","uploadOrFile","Fade","enter","exit","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexUpload","indexFile","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","useStyle","successIcon","errorIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","listItem","movieIcon","minWidth","listItemText","marginLeft","UploadItem","itemHover","setItemHover","placement","disableFocusListener","disableTouchListener","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classNames","Collapse","List","cardUpload","cardOpened","cardContentOpened","description","year_launched","test","every","v","parent","cast_members","fileFields","Index","opened","setVideo","isGreaterMd","up","castMemberRef","categoriesRef","genresRef","uploadRef","zipObject","createRef","resetForm","field","cast_member","uploadFiles","persist","anchorOrigin","vertical","horizontal","content","shouldValidate","vale","CardContent","Dashboard","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","path","exact","CategoryList","CategoryForm","CastMemberList","CastMemberForm","GenreList","GenreForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","listRoutes","Menu","menuRoutes","route","anchorEl","setAnchorEl","Boolean","edge","aria-label","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","breadcrumbNameMap","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","last","slice","RouteParser","match","makeBreadcrumb","variantSuccess","variantError","variantInfo","SnackbarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","makeLocalTheme","Spinner","LinearProgress","zIndex","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","useMemo","requestsIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","response","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","App","Fragment","CssBaseline","basename","window","hostname","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"mTAGMA,EAAYC,YAAW,CACzBC,OAAQ,CACJC,MAAO,aAQFC,EAA4B,SAACC,GACtC,IAAMC,EAAUN,IAChB,OACI,eAACO,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAYC,UAAWH,EAAQJ,OAAQQ,UAAU,KAAKC,QAAQ,KAA9D,SACKN,EAAMO,QAEX,cAACC,EAAA,EAAD,CAAKC,WAAY,EAAjB,SACKT,EAAMU,e,2ICXFC,E,WAGnB,WAAsBC,EAA+BC,GAAW,yBAA1CD,OAAyC,KAAVC,WAAU,KAFvDC,WAAuC,K,wCAI/C,SAAcC,GACRC,KAAKF,YACPE,KAAKF,WAAWG,OAAO,0BAEzBD,KAAKF,WAAaI,IAAMC,YAAYC,SACpC,IAAMC,EAA6B,CACjCC,YAAaN,KAAKF,WAAWS,OAM/B,OAHIR,GAAWA,EAAQS,cACrBH,EAAOI,OAASV,EAAQS,aAEnBR,KAAKJ,KAAKc,IAAOV,KAAKH,SAAUQ,K,iBAGzC,SAAaM,GACX,OAAOX,KAAKJ,KAAKc,IAAV,UAAoBV,KAAKH,SAAzB,YAAqCc,M,oBAG9C,SAAgBC,GACd,IAAIC,EAAWb,KAAKc,aAAaF,GACjC,OAAOZ,KAAKJ,KAAKmB,KAAQf,KAAKH,SAAUgB,K,2BAG1C,SACEF,EACAC,EACAb,GAEA,IAAIc,EAAWD,EACXZ,KAAKgB,aAAaJ,KACpBC,EAAWb,KAAKiB,YAAYL,IAHH,MAKDb,GAAW,GAA7BH,EALmB,EAKnBA,KAAMS,EALa,EAKbA,OACd,OAAQN,GAAYH,GAASA,EAAKsB,QAE9BlB,KAAKJ,KAAKmB,KAAV,UAAqBf,KAAKH,SAA1B,YAAsCc,GAAME,EAAUR,GADtDL,KAAKJ,KAAKuB,MAAV,UAAsBnB,KAAKH,SAA3B,YAAuCc,GAAME,EAAUR,K,oBAI7D,SACEM,EACAC,EACAb,GAEA,IAAIc,EAAWD,EACXZ,KAAKgB,aAAaJ,KACpBC,EAAWb,KAAKiB,YAAYL,IAHH,MAKDb,GAAW,GAA7BH,EALmB,EAKnBA,KAAMS,EALa,EAKbA,OACd,OAAQN,GAAYH,GAASA,EAAKsB,QAE9BlB,KAAKJ,KAAKmB,KAAV,UAAqBf,KAAKH,SAA1B,YAAsCc,GAAME,EAAUR,GADtDL,KAAKJ,KAAKwB,IAAV,UAAoBpB,KAAKH,SAAzB,YAAqCc,GAAME,EAAUR,K,oBAI3D,SAAgBM,GACd,OAAOX,KAAKJ,KAAKyB,OAAV,UAAuBrB,KAAKH,SAA5B,YAAwCc,M,8BAGjD,SAA0BH,GACxB,IAAMH,EAA6B,GAInC,OAHIG,IACFH,EAAM,OAAaG,GAEdR,KAAKJ,KAAKyB,OAAV,UAAuBrB,KAAKH,UAAYQ,K,gCAGjD,SAAmBiB,GACjB,OAAOpB,IAAMqB,SAASD,K,0BAGxB,SAAqBV,GACnB,OAAOZ,KAAKgB,aAAaJ,GAAQZ,KAAKiB,YAAYL,GAAQA,I,yBAG5D,SAAoBA,GAClB,OAAOY,oBAAUZ,EAAM,CAAEa,oBAAoB,M,0BAG/C,SAAqBb,GACnB,OAAyE,IAAlEc,OAAOC,OAAOf,GAAMgB,QAAO,SAACC,GAAD,OAAQA,aAAcC,QAAMC,W,aC5FrDC,EAAY9B,IAAM+B,OAAO,CACpCC,QAASC,8BAGLC,EAAY,CAACJ,GCHnB,IAEeK,EAFM,IAAI1C,EAAaqC,EAAW,c,6CCI3CM,EAA0B,CAC9BC,QAAS,CACPC,KAAM,UACNC,aAAc,QAEhBC,UAAW,CACTF,KAAM,UACNC,aAAc,OACdE,KAAM,WAERC,WAAY,CACVC,QAAS,WAEXvB,MAAO,CACLkB,KAAMM,IAAI,MAEZC,QAAS,CACPP,KAAMQ,IAAM,KACZP,aAAc,SAiGHQ,EA7FDC,YAAe,CAC3BZ,UACAa,UAAW,CACTC,aAAc,CACZC,MAAO,CACLC,UAAW,SAGfC,oBAAqB,CACnBC,KAAM,CACJC,UAAW,OACXC,gBAAiBpB,EAASM,WAAYC,SAExCc,KAAM,CACJ7E,MAAQwD,EAASC,QAAsCC,KACvD,6BAA8B,CAC5B1D,MAAQwD,EAASI,UAAwCC,OAG7DiB,WAAY,CACV9E,MAAQwD,EAASI,UAAwCC,KACzD,6BAA8B,CAC5B7D,MAAQwD,EAASI,UAAwCC,QAI/DkB,qBAAsB,CACpBC,YAAa,CACXrE,WAAY,EACZsE,cAAe,EACfL,gBAAkBpB,EAASC,QAAsCC,KACjE1D,MAAO,UACP,eAAgB,CACd4E,gBAAiB,YAGrBM,WAAY,CACVlF,MAAO,QAETmF,WAAY,CACVC,WAAY,UAEdC,cAAe,CACbrF,MAAO,kBACP,QAAS,CACPA,MAAO,qBAIbsF,uBAAwB,CACtBC,WAAY,CACVX,gBAAkBpB,EAASC,QAAsCC,KACjE,SAAU,CACR1D,MAAO,qBAIbwF,qBAAsB,CACpBd,KAAM,CACJ1E,MAAQwD,EAASI,UAAwCF,KACzD,6BAA8B,CAC5B1D,MAAQwD,EAASI,UAAwCF,QAI/D+B,0BAA2B,CACzBhF,MAAO,CACLT,MAAQwD,EAASC,QAAsCC,MAEzDgC,WAAY,CACV1F,MAAQwD,EAASC,QAAsCC,OAG3DiC,oBAAqB,CACnBjB,KAAM,CACJ,mBAAoB,CAClBE,gBAAiBpB,EAASM,WAAYC,WAI5C6B,uBAAwB,CACtBlB,KAAM,CACJ1E,MAAQwD,EAASC,QAAsCC,OAG3DmC,uBAAwB,CACtBnB,KAAM,CACJoB,aAAc,YC/GhBC,EAAa3B,YAAe,CAChCZ,QAAS,CACPC,QAASU,EAAMX,QAAQS,QACvBL,UAAWO,EAAMX,QAAQhB,SAIhBwD,EAAW,WACtB,OACE,cAAC,IAAD,CAAkB7B,MAAO4B,EAAzB,SACE,cAACE,EAAA,EAAD,CAAMC,MAAO,MAAOlG,MAAO,eAKpBmG,GAAU,WACrB,OACE,cAAC,IAAD,CAAkBhC,MAAO4B,EAAzB,SACE,cAACE,EAAA,EAAD,CAAMC,MAAO,WAAOlG,MAAO,iB,2JCM3BoG,G,oDACJ,WAAYlG,GAAQ,IAAD,uBACjB,cAAMA,IAeRmG,iBAAmB,SAACC,GAClB,IAAMC,EAAQD,EAAME,OAAOD,MAC3B,EAAKE,SACH,CACEC,KAAMH,IAER,kBAAM,EAAKI,kBAAkBJ,OAtBd,EA0BnBI,kBAAoB,SAACJ,GACnB,EAAKrG,MAAM0G,SAASL,IA3BH,EA+DnBM,UAAY,SAACP,GACW,KAAlBA,EAAMQ,SACR,EAAK5G,MAAM6G,UAjEI,IAETC,EAAe,EAAK9G,MAApB8G,WACJT,EAAQS,EAHK,OAIbA,QAAmCC,IAArBD,EAAWT,QAC3BA,EAAQS,EAAWT,OAErB,EAAKW,MAAQ,CACXR,KAAMH,GAER,EAAKI,kBAAoBQ,oBACvB,EAAKR,kBAAkBS,KAAvB,iBACA,EAAKlH,MAAMmH,aAZI,E,sDA8BnB,SAAmBC,EAAWC,EAAWC,GAAW,IAAD,OACzCR,EAAe9F,KAAKhB,MAApB8G,WAER,GACEA,QACqBC,IAArBD,EAAWT,OACXe,EAAUN,aAAe9F,KAAKhB,MAAM8G,WACpC,CACA,IAAMT,EAAQS,EAAWT,MAEzB,GAAIA,EACFrF,KAAKuF,SACH,CACEC,KAAMH,IAER,kBAAM,EAAKrG,MAAM0G,SAASL,WAG5B,IACErF,KAAKhB,MAAM6G,SACX,MAAOU,Q,+BAKf,WACEC,SAASC,iBAAiB,UAAWzG,KAAK2F,WAAW,K,kCAGvD,WACEa,SAASE,oBAAoB,UAAW1G,KAAK2F,WAAW,K,oBAS1D,WAAU,IAAD,SAC0C3F,KAAKhB,MAA9CC,EADD,EACCA,QAASc,EADV,EACUA,QAAS8F,EADnB,EACmBA,OAAQC,EAD3B,EAC2BA,WAE9BT,EAAQrF,KAAKgG,MAAMR,KAMvB,OAJIM,QAAmCC,IAArBD,EAAWT,QAC3BA,EAAQS,EAAWT,OAInB,cAACsB,GAAA,EAAD,CAAMC,QAAM,EAACC,IAAI,EAAMC,QAAS,IAAhC,SACE,sBAAK1H,UAAWH,EAAQuD,KAAMuE,IAAK,SAAClF,GAAD,OAAS,EAAKmF,QAAUnF,GAA3D,UACE,cAAC,KAAD,CAAYzC,UAAWH,EAAQgI,aAC/B,cAACC,GAAA,EAAD,CACE9H,UAAWH,EAAQ6G,WACnBqB,WAAW,EACXC,WAAY,CACV,eAAgBrH,EAAQsH,WAAWC,QAAQC,OAC3C,aAAcxH,EAAQsH,WAAWC,QAAQC,QAE3ClC,MAAOA,GAAS,GAChBmC,SAAUxH,KAAKmF,iBACfsC,WAAW,EACXC,SAAU,SAAC7F,GAAD,OAAS,EAAK8F,YAAc9F,GACtC+F,YAAa7H,EAAQ8H,oBAEvB,cAACC,EAAA,EAAD,CAAY1I,UAAWH,EAAQ8I,UAAWC,QAASnC,EAAnD,SACE,cAAC,KAAD,e,GAjGuBoC,IAAMC,eAyG1BC,iBA7Ha,SAAClF,GAAD,MAAY,CACtCT,KAAM,CACJ4F,QAAS,OACTC,KAAM,YAERpB,WAAY,CACVnI,MAAOmE,EAAMX,QAAQkD,KAAK9C,UAC1B4F,UAAW,OACXC,YAAa,OAEfzC,WAAY,CACVuC,KAAM,SAERN,UAAW,CACT,UAAW,CACTjJ,MAAOmE,EAAMX,QAAQhB,MAAMkB,UA8Gc,CAAEgG,KAAM,sBAAxCL,CACbjD,ICJauD,GA1DDR,cAAuD,SAACjJ,EAAO+H,GAoCzE,IArGwB2B,EAmEYC,EAkC9B1F,EAAQ2F,qBAAiBC,gBACzBC,EAAaC,aAAc9F,EAAM+F,YAAYC,KAAK,OAElDC,GAxGkBR,EAwGkB1J,EAAMmK,mBAxGuB,CACvEC,OAAO,EACPC,UAAU,EACVhC,WAAY,CACRiC,KAAM,CACFC,QAAS,6BACTC,QAAS,eAEbC,WAAY,CACRC,KAAM,uBACNC,SAAU,qBACVC,YAAa,iBACbC,YAAa,MAEjBvC,QAAS,CACLC,OAAQ,QACRuC,YAAa,eACbV,MAAO,WACPW,YAAa,cACbC,YAAa,mBAEjBpI,OAAQ,CACJqI,IAAK,QACL1K,MAAO,UACP2K,MAAO,UAEXH,YAAa,CACTxK,MAAO,cACP4K,UAAW,kCAEfC,aAAc,CACV5E,KAAM,4BACNnE,OAAQ,UACRgJ,WAAY,mCAGpBC,mBAAoB,SAACxE,EACAyE,EACAC,EACAzK,GACjB,OAAO,cAAC,GAAD,CACP+F,WAAYA,EACZJ,SAAU6E,EACV1E,OAAQ2E,EACRzK,QAASA,EACToG,YAAauC,OA6DX+B,EAAWC,iBACb,CAAC3K,QAAS6I,qBAAUM,IACpBlK,EACA,CAAC2J,SA1C+BA,EA0CK3J,EAAM2J,QArC/C,SAAyBA,GACrBA,EAAQgC,SAAS,SAACC,EAAQC,GACnBD,EAAOE,QACY7H,EAAME,UACdU,qBAAqBC,YAA/B,sBAA0D+G,EAAK,EAA/D,MAAuE,CACnEC,MAAOF,EAAOE,WAT1BC,CAAgBpC,GACTA,EAAQqC,KAAI,SAAAJ,GAAM,OAAIK,gBAAKL,EAAQ,gBAc9C,WACI,IAAMvD,EAAcoD,EAAS1K,QAAgBsH,WAC7CA,EAAWiC,KAAKC,SAA+B,IAArBkB,EAASS,QAC1B,iBACE7D,EAAWiC,KAAKC,QAwB/B4B,GApBKV,EAAS1K,QAAgBqL,WAAatC,EAAa,kBAAoB,UAuB5E,IAAMuC,EAnBK,6BACAJ,gBAAKR,EAAU,YADtB,IAEI1D,QAmBR,OACI,cAAC,IAAD,CAAkB9D,MAAOA,EAAzB,SACI,cAAC,KAAD,gBAAkBoI,S,+CCxHxB1M,GAAYC,aAAW,SAACqE,GAAD,MAAY,CACvC6E,WAAa7E,EAAME,UAAkBI,oBAAoBI,SAkB5C2H,GAX6C,SAACtM,GAC3D,IAAMC,EAAUN,KAChB,OACE,cAAC4M,GAAA,EAAD,CAAShM,MAAO,eAAhB,SACE,cAACuI,EAAA,EAAD,CAAYE,QAAShJ,EAAMwM,YAA3B,SACE,cAAC,KAAD,CAAcpM,UAAWH,EAAQ6I,kB,aCNN2D,yBAqBjC,CACAC,UAAW,CAAC,WACZC,QAAS,CAAC,WACVC,WAAY,CAAC,WACbC,SAAU,CAAC,WACXC,SAAU,CAAC,WACXC,kBAAmB,CAAC,WACpBC,iBAAkB,CAAC,aA5BNC,G,GAAAA,MAAOC,G,GAAAA,SA+BTC,GAAuB,CAClC5E,OAAQ,KACRkC,WAAY,CACV2C,KAAM,EACNC,SAAU,IAEZC,MAAO,CACLC,KAAM,KACNC,IAAK,OAcMC,GAVCC,yBAA8BP,IAAjB,qBAC1BF,GAAMU,YAWT,WAA2E,IAAxD3G,EAAuD,uDAA/CmG,GAAeS,EAAgC,uCACxE,OAAO,6BACF5G,GADL,IAEEuB,OAAQqF,EAAOC,QAAQtF,OACvBkC,WAAW,6BACNzD,EAAMyD,YADD,IAER2C,KAAM,SAlBiB,eAE1BH,GAAMa,UAqBT,WAAuE,IAAtD9G,EAAqD,uDAA7CmG,GAAeS,EAA8B,uCACpE,OAAO,6BACF5G,GADL,IAEEyD,WAAW,6BACNzD,EAAMyD,YADD,IAER2C,KAAMQ,EAAOC,QAAQT,YA5BE,eAG1BH,GAAMc,cA8BT,WAA6E,IAAzD/G,EAAwD,uDAAhDmG,GAAeS,EAAiC,uCAC1E,OAAO,6BACF5G,GADL,IAEEyD,WAAW,6BACNzD,EAAMyD,YADD,IAER4C,SAAUO,EAAOC,QAAQR,gBAtCF,eAI1BJ,GAAMe,WAuCT,WAAyE,IAAvDhH,EAAsD,uDAA9CmG,GAAeS,EAA+B,uCACtE,OAAO,6BACF5G,GADL,IAEEyD,WAAW,6BACNzD,EAAMyD,YADD,IAER2C,KAAM,IAERE,MAAO,CACLC,KAAMK,EAAOC,QAAQN,KACrBC,IAAKI,EAAOC,QAAQL,UApDG,eAK1BP,GAAMgB,WAoDT,WAAyE,IAAhCL,EAA+B,uCACtE,OAAOA,EAAOC,QAAQ7G,SA1DK,eAM1BiG,GAAMiB,qBAuDT,WAGG,IAFDlH,EAEA,uDAFQmG,GACRS,EACA,uCACA,OAAO,6BACF5G,GADL,IAEEmH,YAAY,6BACPnH,EAAMmH,aACNP,EAAOC,cArEa,eAO1BZ,GAAMmB,oBAmET,WAGG,IAFDpH,EAEA,uDAFQmG,GACRS,EACA,uCACA,OAAO,6BACF5G,GADL,IAEEmH,YAAaP,EAAOC,aAhFK,K,iCChBd,SAASQ,GAAUtN,GAChC,IAAMuN,EAAUC,eACVC,EAAgB,IAAIC,GAAJ,6BAAuB1N,GAAvB,IAAgCuN,aAChDnB,EAAgBqB,EAAcE,kBAHuB,EAI3BC,qBAE9BlB,GAASN,GANgD,mBAIpDyB,EAJoD,KAIvCC,EAJuC,OAQ5BC,aAAYF,EAAa7N,EAAQgO,cAAzDC,EARoD,sBAUnBC,mBAAiB,GAVE,mBAUpDC,EAVoD,KAUtCC,EAVsC,KAsB3D,OAVAX,EAAcxH,MAAQ4H,EACtBJ,EAAcY,eAAiBJ,EAC/BR,EAAcK,SAAWA,EAEzBL,EAAca,uBAEdC,qBAAU,WACRd,EAAce,mBACb,IAEI,CACL5F,QAAS6E,EAAc7E,QACvB6E,gBACAI,cACAI,uBACAH,WACAK,eACAC,mBClEJK,aAAU,CACRC,MAAO,CACLC,SAAU,yBACVC,QAAS,4BAEXC,OAAQ,CACNC,IAAK,qDACLC,IAAK,sDAEPC,OAAQ,CACNF,IAAK,0CACLC,IAAK,2CAEPE,MAAO,CACLH,IAAK,mDACLC,IAAK,sDDuDF,IAAMrB,GAAb,WAYE,WAAY1N,GAAgC,yBAX5CkP,YAW2C,OAV3CjJ,MAAqB,KAUsB,KAT3C6H,SAAoC,KASO,KAR3ClF,aAQ2C,OAP3CiB,iBAO2C,OAN3CsF,wBAM2C,OAL3C5B,aAK2C,OAJ3Cc,eAA8B,KAIa,KAH3Ce,cAG2C,OAF3ChC,iBAE2C,MAEvCxE,EAME5I,EANF4I,QACAiB,EAKE7J,EALF6J,YACAsF,EAIEnP,EAJFmP,mBACA5B,EAGEvN,EAHFuN,QACA6B,EAEEpP,EAFFoP,SACAhC,EACEpN,EADFoN,YAEFnN,KAAK2I,QAAUA,EACf3I,KAAK4J,YAAcA,EACnB5J,KAAKkP,mBAAqBA,EAC1BlP,KAAKsN,QAAUA,EACftN,KAAKmP,SAAWA,EAChBnP,KAAKmN,YAAcA,EACnBnN,KAAKoP,yBA3BT,wDA8BE,WACEpP,KAAKmP,SAASE,QAAQC,kBAAkBtP,KAAK4J,aAC7C5J,KAAKmP,SAASE,QAAQE,WAAW,KAhCrC,+BAmCE,SAAkBlK,GAChBrF,KAAK6N,SAAS3B,GAASH,kBAAkB1G,MApC7C,8BAuCE,WACErF,KAAK6N,SAAS3B,GAASF,iBAAiB,KACxChM,KAAKwP,yBAzCT,0BA4CE,SAAanK,GACXrF,KAAK6N,SAAS3B,GAASR,UAAU,CAAEnE,OAAQlC,OA7C/C,wBAgDE,SAAW+G,GACTpM,KAAK6N,SAAS3B,GAASP,QAAQ,CAAES,KAAMA,EAAO,OAjDlD,+BAoDE,SAAkBC,GAChBrM,KAAK6N,SAAS3B,GAASN,WAAW,CAAES,SAAUA,OArDlD,wBAwDE,SAAWoD,EAAuBC,GAChC1P,KAAK6N,SACH3B,GAASL,SAAS,CAChBU,KAAMkD,EACNjD,IAAKkD,EAAUC,SAAS,QAAU,OAAS,SAG/C3P,KAAKwP,yBA/DT,yBAkEE,WACE,IAAMrD,EAAa,6BACdnM,KAAKiP,OAAOW,KAAK,KADH,IAEjBrI,OAAQ,CAAElC,MAAO,QAGnBrF,KAAK6N,SACH3B,GAASJ,SAAS,CAChB9F,MAAOmG,KAIXnM,KAAKwP,yBA9ET,kCAiFE,WAAwB,IAAD,OACrBxP,KAAK2I,QAAU3I,KAAK2I,QAAQqC,KAAI,SAACJ,GAC/B,OAAOA,EAAOpC,OAAS,EAAKxC,MAAMsG,MAAMC,KAAjC,6BAEE3B,GAFF,IAGD7K,QAAQ,6BACH6K,EAAO7K,SADL,IAEL8P,cAAe,EAAK7J,MAAMsG,MAAME,QAGpC5B,OA3FV,6BA+FE,SAAgBpF,GACd,IAAIsK,EAAUtK,EAKd,OAJIA,QAAuBO,IAAfP,EAAKH,QACfyK,EAAUtK,EAAKH,OAGVyK,IArGX,4BAwGE,WACE9P,KAAKsN,QAAQyC,QAAQ,CACnBC,SAAUhQ,KAAKsN,QAAQ2C,SAASD,SAChCzI,OAAQ,IAAM,IAAI2I,gBAAgBlQ,KAAKmQ,sBACvCnK,MAAOhG,KAAKoO,mBA5GlB,yBAgHE,WACE,IAAMgC,EAAc,CAClBJ,SAAUhQ,KAAKsN,QAAQ2C,SAASD,SAChCzI,OAAQ,IAAM,IAAI2I,gBAAgBlQ,KAAKmQ,sBACvCnK,MAAM,6BACDhG,KAAKoO,gBADL,IAEH7G,OAAQvH,KAAKqQ,gBAAgBrQ,KAAKoO,eAAe7G,WAI/C+I,EAAWtQ,KAAKsN,QAAQ2C,SAASjK,MACjCuK,EAAYvQ,KAAKoO,eAEnBoC,mBAAQF,EAAUC,IAItBvQ,KAAKsN,QAAQmD,KAAKL,KAjItB,gCAoIE,WACE,IAAM7I,EAASvH,KAAKqQ,gBAAgBrQ,KAAKoO,eAAe7G,QAExD,OAAO,oEACDA,GAAqB,KAAXA,GAAiB,CAAEA,OAAQA,IACG,IAAxCvH,KAAKoO,eAAe3E,WAAW2C,MAAc,CAC/CA,KAAMpM,KAAKoO,eAAe3E,WAAW2C,OAES,KAA5CpM,KAAKoO,eAAe3E,WAAW4C,UAAmB,CACpDA,SAAUrM,KAAKoO,eAAe3E,WAAW4C,WAEvCrM,KAAKoO,eAAe9B,MAAMC,MAAQ,CACpCA,KAAMvM,KAAKoO,eAAe9B,MAAMC,KAChCC,IAAKxM,KAAKoO,eAAe9B,MAAME,MAE7BxM,KAAKmN,aACPnN,KAAKmN,YAAYgD,mBAAmBnQ,KAAKoO,mBApJjD,6BAwJE,WACE,IAAM5N,EAAc,IAAI0P,gBACtBlQ,KAAKsN,QAAQ2C,SAAS1I,OAAOmJ,OAAO,IAGtC,OAAO1Q,KAAKiP,OAAOW,KAAZ,cACLrI,OAAQ/G,EAAYE,IAAI,UACxB+I,WAAY,CACV2C,KAAM5L,EAAYE,IAAI,QACtB2L,SAAU7L,EAAYE,IAAI,aAE5B4L,MAAO,CACLC,KAAM/L,EAAYE,IAAI,QACtB8L,IAAKhM,EAAYE,IAAI,SAEnBV,KAAKmN,aAAe,CACtBA,YAAanN,KAAKmN,YAAYO,gBAAgBlN,QAxKtD,oCA6KE,WAAkC,IAAD,OAC/BR,KAAKiP,OAAS0B,OAAaC,MAAb,cACZrJ,OAAQoJ,OAELE,WAAU,SAACxL,GAAD,OAAaA,QAAQU,KAC/BlD,QAAQ,IACX4G,WAAYkH,OAAaC,MAAM,CAC7BxE,KAAMuE,OAEHE,WAAU,SAACxL,GAAD,OACTyL,MAAMzL,IAAU0L,SAAS1L,GAAS,OAAIU,EAAYV,KAEnDxC,QAAQ,GACXwJ,SAAUsE,OAEPE,WAAU,SAACxL,GAAD,OACTyL,MAAMzL,KAAW,EAAK6J,mBAAmBS,SAASoB,SAAS1L,SACvDU,EACAV,KAELxC,QAAQ7C,KAAK4J,eAElB0C,MAAOqE,OAAaC,MAAM,CACxBrE,KAAMoE,OAEHK,WACAH,WAAU,SAACxL,GAOV,OANoB,EAAKsD,QACtB/G,QACC,SAACgJ,GAAD,OAAaA,EAAO7K,UAAmC,IAAxB6K,EAAO7K,QAAQwM,QAE/CvB,KAAI,SAACJ,GAAD,OAAYA,EAAOpC,QAEPmH,SAAStK,GAASA,OAAQU,KAE9ClD,QAAQ,MACX2J,IAAKmE,OAEFK,WACAH,WAAU,SAACxL,GACV,OAAQA,GAAU,CAAC,MAAO,QAAQsK,SAAStK,EAAM4L,eAE7C5L,OADAU,KAGLlD,QAAQ,SAET7C,KAAKmN,aAAe,CACtBA,YAAanN,KAAKmN,YAAYiC,gCA5NtC,K,wCErEe8B,GAFQC,yBAAc,G,kDCYxBC,GAA4C,SAACpS,GAAW,IAC3DqS,EAAsBrS,EAAtBqS,KAAMC,EAAgBtS,EAAhBsS,YAEd,OACE,eAACC,GAAA,EAAD,CAAQF,KAAMA,EAAMG,QAAS,kBAAMF,GAAY,IAA/C,UACE,cAACG,GAAA,EAAD,uCACA,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,8DAIF,eAACC,GAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQ7J,QAAS,kBAAMsJ,GAAY,IAAQxS,MAAO,UAAlD,sBAGA,cAAC+S,EAAA,EAAD,CAAQ7J,QAAS,kBAAMsJ,GAAY,IAAOxS,MAAO,UAAWqI,WAAS,EAArE,4BCPO2K,GApBa,WAAO,IAAD,EACgB7D,oBAAS,GADzB,mBACzB8D,EADyB,KACPC,EADO,OAEQ/D,mBAErC,CAAErN,KAAM,KAJqB,mBAEzBqR,EAFyB,KAEXC,EAFW,KAYhC,OANA5D,qBAAU,WACJ2D,EAAarR,KAAKmB,QACpBiQ,GAAoB,KAErB,CAACC,IAEG,CACLF,mBACAC,sBACAC,eACAC,oBCGEC,GAAoC,CACxC,CACE3J,KAAM,KACNxD,MAAO,KACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,IAGZ,CACE4G,KAAM,OACNxD,MAAO,OACP8F,MAAO,MACP/K,QAAS,CACP6B,QAAQ,IAGZ,CACE4G,KAAM,YACNxD,MAAO,SACPjF,QAAS,CACPqS,cAAe,CACbC,MAAO,CAAC,MAAO,aAEjBzQ,QAAQ,EACR0Q,iBALO,SAKUjN,EAAOkN,EAAWC,GACjC,OAAOnN,EAAQ,cAAC,EAAD,IAAe,cAAC,GAAD,MAGlCyF,MAAO,MAET,CACEtC,KAAM,aACNxD,MAAO,YACPjF,QAAS,CACPuS,iBADO,SACUjN,EAAOkN,EAAWC,GACjC,OAAO,+BAAOC,IAAOC,IAASrN,GAAQ,iBAExCzD,QAAQ,GAEVkJ,MAAO,OAET,CACEtC,KAAM,UACNxD,MAAO,cACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,EACR0Q,iBAAkB,SAACjN,EAAOkN,EAAWC,GACnC,OACE,cAAC,KAAD,CACE1T,MAAO,YACPO,UAAWsT,IACXC,GAAE,sBAAiBL,EAAUM,QAAQ,GAAnC,SAHJ,SAKE,cAAC,KAAD,UAWN3D,GAAqB,CAAC,GAAI,GAAI,IA2JrBzG,GAzJD,WAAO,IACXqK,EAAoBC,eAApBD,gBACFE,EAAaC,kBAAO,GAFR,EAGMhF,mBAAqB,IAH3B,mBAGXrN,EAHW,KAGLsS,EAHK,KAIZ/D,EAAW8D,mBAEX/H,EAAUiI,qBAAWjC,IANT,EAadY,KAJFC,EATgB,EAShBA,iBACAC,EAVgB,EAUhBA,oBACAC,EAXgB,EAWhBA,aACAC,EAZgB,EAYhBA,gBAZgB,EAqBd7E,GAAU,CACZ1E,QAASwJ,GACTvI,YA1BgB,GA2BhBsF,mBAAoBA,GACpBnB,aA9BiB,IA+BjBoB,aAVA3B,EAhBgB,EAgBhBA,cACAI,EAjBgB,EAiBhBA,YACAM,EAlBgB,EAkBhBA,aACAC,EAnBgB,EAmBhBA,gBACAH,EApBgB,EAoBhBA,qBASIoF,EAAiB5F,EAAc6C,gBACnCrC,EAAqBzG,QA9BL,SAiDH8L,IAjDG,2EAiDlB,8BAAAC,EAAA,+EAE2BjR,EAAakR,KAA6B,CAC/D/S,YAAa,CACX+G,OAAQiG,EAAc6C,gBAAgBrC,EAAqBzG,QAC3D6E,KAAM4B,EAAqBvE,WAAW2C,KACtCC,SAAU2B,EAAqBvE,WAAW4C,SAC1CE,KAAMyB,EAAqB1B,MAAMC,KACjCC,IAAKwB,EAAqB1B,MAAME,OARxC,gBAEY5L,EAFZ,EAEYA,KAUJoS,EAAW3D,UACb6D,EAAQtS,EAAKA,MACbuN,EAAgBvN,EAAK4S,KAAKC,QAdhC,mDAiBIC,QAAQC,IAAR,OACItR,EAAauR,mBAAb,MAlBR,mDAqBId,EAAgB,uDAA4C,CAC1DxT,QAAS,UAtBf,0DAjDkB,kEA4ElB,WAA0BuU,GAA1B,iBAAAP,EAAA,yDACOO,EADP,uBAEI7B,GAAoB,GAFxB,0CAOU8B,EAAM7B,EAAarR,KACtBoK,KAAI,SAAC3F,GAAD,OAAWzE,EAAKyE,EAAM0O,OAAOpT,MACjCqT,KAAK,KATZ,SAWU3R,EAAa4R,iBAAiB,CAAEH,QAX1C,YAcM7B,EAAarR,KAAKmB,SAAWiM,EAAqBvE,WAAW4C,UAC7D2B,EAAqBvE,WAAW2C,KAAO,GAf7C,iBAiBYA,EAAO4B,EAAqBvE,WAAW2C,KAAO,EACpDoB,EAAc+B,WAAWnD,GAlB/B,yCAoBYiH,IApBZ,QAuBIrB,GAAoB,GAEpBc,EAAgB,mCAAoC,CAClDxT,QAAS,YA1Bf,kDA6BIoU,QAAQC,IAAR,MACAb,EAAgB,8CAAyC,CACvDxT,QAAS,UA/Bf,2DA5EkB,sBAgHlB,OA/EAgP,qBAAU,WAKR,OAJA0E,EAAW3D,SAAU,EACrB7B,EAAc0G,cACdb,IAEO,WACLL,EAAW3D,SAAU,KAGtB,CACD+D,EACApF,EAAqBvE,WAAW2C,KAChC4B,EAAqBvE,WAAW4C,SAChC2B,EAAqB1B,QAmErB,eAAC,WAAD,WACE,cAAC,GAAD,CAAc+E,KAAMU,EAAkBT,YAlHxB,8CAmHd,cAAC,GAAD,CACE/R,MAAM,aACNoJ,QAAS6E,EAAc7E,QACvB/H,KAAMA,EACNsK,QAASA,EACT/B,mBA5HoB,IA6HpBpC,IAAKoI,EACLpP,QAAS,CACPoU,YAAY,EACZrO,WAAY8H,EAAYrG,OACxB6E,KAAMwB,EAAYnE,WAAW2C,KAAO,EACpCxC,YAAagE,EAAYnE,WAAW4C,SACpC6C,mBAAoBA,GACpBkF,MAAOlG,EACPtM,QAAQ,EACRyS,cAAe,WACb,OACE,cAAC,GAAD,CACE7I,YAAa,kBAAMgC,EAAc8G,kBAIvCC,eAAgB,SAAClP,GAAD,OAAWmI,EAAcgH,aAAanP,IACtDoP,aAAc,SAACrI,GAAD,OAAUoB,EAAc+B,WAAWnD,IACjDsI,oBAAqB,SAACrI,GAAD,OACnBmB,EAAc8B,kBAAkBjD,IAClCsI,mBAAoB,SAAClF,EAAuBC,GAAxB,OAClBlC,EAAcoH,WAAWnF,EAAeC,IAC1CmF,aAAc,SAACC,GAEb,OADA5C,EAAgB4C,IACT,UC/MJC,GArBE,WACf,OACE,eAAC,EAAD,CAAMxV,MAAO,oBAAb,UACE,cAACC,EAAA,EAAD,CAAKgN,IAAK,MAAOzI,cAAe,EAAhC,SACE,cAACiR,EAAA,EAAD,CACEzV,MAAM,sBACNT,MAAO,YACPmW,KAAK,QACL5V,UAAWsT,IACXC,GAAG,qBALL,SAOE,cAAC,IAAD,QAGJ,cAACpT,EAAA,EAAD,UACE,cAAC,GAAD,U,sCClBFb,GAAYC,aAAW,SAACqE,GAC5B,MAAO,CACLiS,OAAQ,CACNC,OAAQlS,EAAMmS,QAAQ,QAkCbC,GAxBqC,SAACrW,GAEnD,IAEMsW,EAA2B,CAC/BlW,UAHcT,KAGKuW,OACnBpW,MAAO,YACPQ,QAAS,YACTiW,cAC4BxP,IAA1B/G,EAAMwW,iBAAwCxW,EAAMwW,iBAGxD,OACE,eAAChW,EAAA,EAAD,CAAKgN,IAAK,MAAV,UACE,cAACqF,EAAA,EAAD,2BAAQ/S,MAAO,WAAewW,GAA9B,IAA2CtN,QAAShJ,EAAMyW,WAA1D,qBAGA,cAAC5D,EAAA,EAAD,6BAAYyD,GAAZ,IAAyBI,KAAK,SAA9B,8C,oBC9BA/W,GAAYC,aAAW,SAACqE,GAAD,MAAY,CACvC0S,SAAU,CACRC,QAAS3S,EAAMmS,QAAQ,EAAG,QAYjBS,GAA0C,SAAC7W,GACtD,IAAMC,EAAUN,KACRmX,EAAgD9W,EAAhD8W,mBAAoBC,EAA4B/W,EAA5B+W,cAAkBC,EAFkB,aAERhX,EAFQ,wCAGhE,OACE,kDAAUgX,GAAV,aACE,cAACC,GAAA,EAAD,2BAAMC,WAAS,GAAKJ,GAApB,aACE,cAACG,GAAA,EAAD,2BAAM7W,UAAWH,EAAQ0W,SAAUQ,MAAI,GAAKJ,GAA5C,aACG/W,EAAMU,mBCTF0W,GAdc,SAACC,EAAaC,GAAY,IAC7CxD,EAAoBC,eAApBD,gBAERxE,qBAAU,WACR,IAAMiI,EAA2C,IAA/B7U,OAAO8U,KAAKF,GAAQvU,OAClCsU,EAAc,GAAKE,GACrBzD,EACE,mEACA,CAAExT,QAAS,YAGd,CAAC+W,EAAaC,EAAQxD,KCMrB2D,GAAmB9F,OAAaC,MAAM,CAC1CpI,KAAMmI,OAAa3L,MAAM,QAAQ0J,WAAWG,IAAI,OAGrC6H,GAAO,WAAO,IAAD,EAWpBC,aAAmD,CACrDC,SAAUC,aAAYJ,IACtBK,cAAe,CACbC,WAAW,KAZbC,EAFsB,EAEtBA,SACAC,EAHsB,EAGtBA,UACAC,EAJsB,EAItBA,SACAC,EALsB,EAKtBA,aACAb,EANsB,EAMtBA,OACApM,EAPsB,EAOtBA,MACAkN,EARsB,EAQtBA,MACAC,EATsB,EAStBA,QACAC,EAVsB,EAUtBA,UAQFlB,GAAqBkB,EAAUjB,YAAaC,GAlBpB,IAmBjBxD,EAAmBC,eAAnBD,gBACDxF,EAAUC,eACR5M,EAAY4W,eAAZ5W,GArBgB,EAsBQsN,mBAA0B,MAtBlC,mBAsBjBuJ,EAtBiB,KAsBPC,EAtBO,OAuBMxJ,oBAAkB,GAvBxB,mBAuBjB/C,EAvBiB,KAuBRwM,EAvBQ,cAiDTC,EAjDS,gFAiDxB,WAAwBC,EAAUxS,GAAlC,mBAAAkO,EAAA,sEAEIoE,GAAW,GACL9X,EAAQ4X,EAEVnV,EAAawV,OAAOL,EAAS7W,GAAIiX,GADjCvV,EAAaJ,OAAO2V,GAJ5B,SAO2BhY,EAP3B,gBAOYgB,EAPZ,EAOYA,KAERkS,EAAgB,8BAA+B,CAC7CxT,QAAS,YAGXwY,YAAW,WACT1S,EACIzE,EACE2M,EAAQyC,QAAR,sBAA+BnP,EAAKA,KAAKD,GAAzC,UACA2M,EAAQmD,KAAR,sBAA4B7P,EAAKA,KAAKD,GAAtC,UACF2M,EAAQmD,KAAK,kBAEnBiH,GAAW,GApBf,kDAsBI5E,EAAgB,8CAAuC,CACrDxT,QAAS,UAvBf,yBA0BIoY,GAAW,GA1Bf,8EAjDwB,sBA+ExB,OAtDApJ,qBAAU,WACR0I,EAAS,CAAExO,KAAM,gBAChB,CAACwO,IAEJ1I,qBAAU,WACH3N,GAGL,uCAAC,8BAAA2S,EAAA,sEAEGoE,GAAW,GAFd,SAG0BrV,EAAa3B,IAAIC,GAH3C,gBAGWC,EAHX,EAGWA,KACR6W,EAAY7W,EAAKA,MACjBsJ,EAAMtJ,EAAKA,MALd,kDAOGkS,EAAgB,yDAA4C,CAC1DxT,QAAS,UARd,yBAWGoY,GAAW,GAXd,6EAAD,yDAcC,CAAC/W,EAAIuJ,EAAO4I,IAiCb,eAAC,GAAD,CAAaiD,cAAe,CAACgC,GAAG,GAAIC,GAAG,GAAIL,SAAUR,EAAaQ,GAAlE,UACE,cAACzQ,GAAA,EAAD,CACEsB,KAAM,OACNxD,MAAO,OACP1F,QAAS,WACTmI,WAAS,EACTwQ,gBAAiB,CAAEC,QAAQ,GAC3B5W,WAA0ByE,IAAnBuQ,EAAM,KACb6B,gBAA+BpS,IAAnBuQ,EAAM,MAA0BA,EAAM,KAAS8B,QAC3D7C,SAAUrK,EACVxD,SAAUsP,IAEZ,cAAC9P,GAAA,EAAD,CACEsB,KAAM,cACNxD,MAAO,kBACP1F,QAAS,WACT6V,OAAQ,SACR1N,WAAS,EACTwQ,gBAAiB,CAAEC,QAAQ,GAC3BG,WAAS,EACTC,KAAK,IACL/C,SAAUrK,EACVxD,SAAUsP,IAEZ,cAACuB,GAAA,EAAD,CACEhD,SAAUrK,EACVsN,QACE,cAACC,GAAA,EAAD,CACEjQ,KAAM,YACN1J,MAAO,UACP0I,SAAU,kBAAM0P,EAAS,aAAcD,IAAS,YAChDyB,QAAStB,EAAM,eAGnBpS,MAAO,SACP2T,eAAgB,QAElB,cAAC,GAAD,CACEnD,gBAAiBtK,EACjBuK,WAAY,kBACV4B,IAAUuB,MAAK,SAACC,GACdA,GAAWlB,EAASV,IAAa,gBCnI9B6B,GATE,WACb,IAAMC,EAAiBxB,eACvB,OACI,cAAC,EAAD,CAAMhY,MAAQwZ,EAAWpY,GAAyB,mBAApB,kBAA9B,SACI,cAAC,GAAD,OCJGqY,GAFQ,IAAIrZ,EAAaqC,EAAW,gBCuCtCiX,GAA4C,CACvDC,EAAG,UACHC,EAAG,QAUQC,GAAqB,CAChCC,WAAY,YACZC,YAAa,SACbC,aAAc,UACdC,WAAY,aCpCRC,GAAkB/X,OAAOC,OAAOsX,IAEhC9G,GAAoC,CACxC,CACE3J,KAAM,KACNxD,MAAO,KACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,IAGZ,CACE4G,KAAM,OACNxD,MAAO,OACPjF,QAAS,CACP6B,QAAQ,IAGZ,CACE4G,KAAM,OACNxD,MAAO,OACPjF,QAAS,CACPqS,cAAe,CACbC,MAAOoH,IAETnH,iBAJO,SAIUjN,EAAekN,EAAWC,GACzC,OAAOyG,GAAkB5T,MAI/B,CACEmD,KAAM,aACNxD,MAAO,YACPjF,QAAS,CACP6B,QAAQ,EACR0Q,iBAFO,SAEUjN,EAAOkN,EAAWC,GACjC,OAAO,qCAAQC,IAAOC,IAASrN,GAAQ,cAAhC,UAIb,CACEmD,KAAM,UACNxD,MAAO,cACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,EACR0Q,iBAAkB,SAACjN,EAAOkN,EAAWC,GACnC,OACE,cAAC,KAAD,CACE1T,MAAO,YACPO,UAAWsT,IACXC,GAAE,wBAAmBL,EAAUM,QAAQ,GAArC,SAHJ,SAKE,cAAC,KAAD,UAWN3D,GAAqB,CAAC,GAAI,GAAI,IA6NrBzG,GA3ND,WAAO,IACXqK,EAAoBC,eAApBD,gBACFE,EAAaC,kBAAO,GAFR,EAGMhF,mBAAuB,IAH7B,mBAGXrN,EAHW,KAGLsS,EAHK,KAIZ/D,EAAW8D,mBAEX/H,EAAUiI,qBAAWjC,IANT,EAadY,KAJFC,EATgB,EAShBA,iBACAC,EAVgB,EAUhBA,oBACAC,EAXgB,EAWhBA,aACAC,EAZgB,EAYhBA,gBAZgB,EAsBd7E,GAAU,CACZ1E,QAASwJ,GACTvI,YA3BgB,GA4BhBsF,mBAAoBA,GACpBnB,aA/BiB,IAgCjBoB,WACAhC,YAAa,CACXiC,uBAAwB,WACtB,OAAOuB,OAAaC,MAAM,CACxB8E,KAAM/E,OAEHK,WACAH,WAAU,SAACxL,GACV,OAAQA,GAAUoU,GAAgB9J,SAAStK,GAEvCA,OADAU,KAGLlD,QAAQ,SAGfsN,mBAAoB,WAClB,OAAOnC,EAAqBb,YAArB,gBAEGa,EAAqBb,YAAYuI,MAAQ,CAC3CA,KAAM1H,EAAqBb,YAAYuI,YAG3C3P,GAEN2H,gBAAiB,SAAClN,GAChB,MAAO,CACLkV,KAAMlV,EAAYE,IAAI,aArC5B8M,EAhBgB,EAgBhBA,cACAI,EAjBgB,EAiBhBA,YACAM,EAlBgB,EAkBhBA,aACAC,EAnBgB,EAmBhBA,gBACAH,EApBgB,EAoBhBA,qBACArF,EArBgB,EAqBhBA,QAsCI+Q,EAAkB/Q,EAAQgR,WAAU,SAACC,GAAD,MAAkB,SAAXA,EAAEpR,QAC7CqR,EAAalR,EAAQ+Q,GACrBI,EACJlM,EAAYT,aAAgBS,EAAYT,YAAYuI,KACrDmE,EAAW9Z,QAAgBga,WAAaD,EACrC,CAACA,GACD,GAEJ,IAAME,EAAuBrR,EAAQqC,KAAI,SAACJ,GAAD,MAAY,MACjDkP,IACFE,EAAqBN,GAAmB,CAACI,IAG3C,IAAM1G,EAAiB5F,EAAc6C,gBACnCrC,EAAqBzG,QAzEL,SA8FH8L,IA9FG,2EA8FlB,8BAAAC,EAAA,+EAE2B0F,GAAezF,KAA+B,CACnE/S,YAAY,cACV+G,OAAQiG,EAAc6C,gBAAgBrC,EAAqBzG,QAC3D6E,KAAM4B,EAAqBvE,WAAW2C,KACtCC,SAAU2B,EAAqBvE,WAAW4C,SAC1CE,KAAMyB,EAAqB1B,MAAMC,KACjCC,IAAKwB,EAAqB1B,MAAME,KAC5BwB,EAAqBb,aACvBa,EAAqBb,YAAYuI,MAAQ,CACvCA,KAAMuE,kBAAOhB,IACXjL,EAAqBb,YAAYuI,UAZ/C,gBAEY9U,EAFZ,EAEYA,KAgBJoS,EAAW3D,UACb6D,EAAQtS,EAAKA,MACbuN,EAAgBvN,EAAK4S,KAAKC,QApBhC,mDAuBIC,QAAQC,IAAR,OAEIqF,GAAepF,mBAAf,MAzBR,mDA6BId,EAAgB,uDAA4C,CAC1DxT,QAAS,UA9Bf,0DA9FkB,kEAiIlB,WAA0BuU,GAA1B,iBAAAP,EAAA,yDACOO,EADP,uBAEI7B,GAAoB,GAFxB,0CAOU8B,EAAM7B,EAAarR,KACtBoK,KAAI,SAAC3F,GAAD,OAAWzE,EAAKyE,EAAM0O,OAAOpT,MACjCqT,KAAK,KATZ,SAWUgF,GAAe/E,iBAAiB,CAAEH,QAX5C,YAcM7B,EAAarR,KAAKmB,SAAWiM,EAAqBvE,WAAW4C,UAC7D2B,EAAqBvE,WAAW2C,KAAO,GAf7C,iBAiBYA,EAAO4B,EAAqBvE,WAAW2C,KAAO,EACpDoB,EAAc+B,WAAWnD,GAlB/B,yCAoBYiH,IApBZ,QAuBIrB,GAAoB,GAEpBc,EAAgB,mCAAoC,CAClDxT,QAAS,YA1Bf,kDA6BIoU,QAAQC,IAAR,MACAb,EAAgB,8CAAyC,CACvDxT,QAAS,UA/Bf,2DAjIkB,sBAqKlB,OAzFAgP,qBAAU,WAKR,OAJA0E,EAAW3D,SAAU,EACrB7B,EAAc0G,cACdb,IAEO,WACLL,EAAW3D,SAAU,KAGtB,CACD+D,EACApF,EAAqBvE,WAAW2C,KAChC4B,EAAqBvE,WAAW4C,SAChC2B,EAAqB1B,MAErB4N,KAAKC,UAAUnM,EAAqBb,eA2EpC,eAAC,WAAD,WACE,cAAC,GAAD,CAAckE,KAAMU,EAAkBT,YAvKxB,8CAwKd,cAAC,GAAD,CACE/R,MAAO,oBACPoJ,QAAS6E,EAAc7E,QACvB/H,KAAMA,EACNsK,QAASA,EACT/B,mBAjLoB,IAkLpBpC,IAAKoI,EACLpP,QAAS,CACPia,uBACA7F,YAAY,EACZrO,WAAY8H,EAAYrG,OACxB6E,KAAMwB,EAAYnE,WAAW2C,KAAO,EACpCxC,YAAagE,EAAYnE,WAAW4C,SACpC6C,mBAAoBA,GACpBkF,MAAOlG,EACPmG,cAAe,WACb,OACE,cAAC,GAAD,CACE7I,YAAa,kBAAMgC,EAAc8G,kBAIvC8F,eAAgB,SAACxP,EAAQmP,EAAYrE,GACnC,IAAM2E,EAAc1R,EAAQgR,WAAU,SAACC,GAAD,OAAOA,EAAEpR,OAASoC,KAEpDyP,GAAeN,EAAWM,GAC5B7M,EAAc8M,kBAAd,eACG1P,EAASmP,EAAWM,GAAatY,OAC9BgY,EAAWM,GAAa,GACxB,OAGN7M,EAAcxB,oBAGlBuI,eAAgB,SAAClP,GAAD,OAAWmI,EAAcgH,aAAanP,IACtDoP,aAAc,SAACrI,GAAD,OAAUoB,EAAc+B,WAAWnD,IACjDsI,oBAAqB,SAACrI,GAAD,OACnBmB,EAAc8B,kBAAkBjD,IAClCsI,mBAAoB,SAAClF,EAAuBC,GAAxB,OAClBlC,EAAcoH,WAAWnF,EAAeC,IAC1CmF,aAAc,SAACC,GAEb,OADA5C,EAAgB4C,IACT,UChRJC,GArBE,WACf,OACE,eAAC,EAAD,CAAMxV,MAAO,iCAAb,UACE,cAACC,EAAA,EAAD,CAAKgN,IAAK,MAAOzI,cAAe,EAAhC,SACE,cAACiR,EAAA,EAAD,CACEzV,MAAM,6BACNT,MAAO,YACPmW,KAAK,QACL5V,UAAWsT,IACXC,GAAG,uBALL,SAOE,cAAC,IAAD,QAGJ,cAACpT,EAAA,EAAD,UACE,cAAC,GAAD,U,kDCAFiX,GAAmB9F,OAAaC,MAAM,CAC1CpI,KAAMmI,OAAa3L,MAAM,QAAQ0J,WAAWG,IAAI,KAChD6G,KAAM/E,OAAa3L,MAAM,QAAQ0J,aAGtBgI,GAAO,WAAO,IAAD,EAWpBC,aAAwB,CAC1BC,SAAUC,aAAYJ,MAVtBO,EAFsB,EAEtBA,SACAC,EAHsB,EAGtBA,UACAE,EAJsB,EAItBA,aACAD,EALsB,EAKtBA,SACAZ,EANsB,EAMtBA,OACApM,EAPsB,EAOtBA,MACAkN,EARsB,EAQtBA,MACAC,EATsB,EAStBA,QACAC,EAVsB,EAUtBA,UAKFlB,GAAqBkB,EAAUjB,YAAaC,GAfpB,IAgBjBxD,EAAmBC,eAAnBD,gBACDxF,EAAUC,eACR5M,EAAY4W,eAAZ5W,GAlBgB,EAmBYsN,mBAA4B,MAnBxC,mBAmBjBsM,EAnBiB,KAmBLC,EAnBK,OAoBMvM,oBAAkB,GApBxB,mBAoBjB/C,EApBiB,KAoBRwM,EApBQ,cA8CTC,EA9CS,gFA8CxB,WAAwBC,EAAUxS,GAAlC,mBAAAkO,EAAA,sEAEIoE,GAAW,GACL9X,EAAQ2a,EAEVvB,GAAenB,OAAO0C,EAAW5Z,GAAIiX,GADrCoB,GAAe/W,OAAO2V,GAJ9B,SAO2BhY,EAP3B,gBAOYgB,EAPZ,EAOYA,KAERkS,EAAgB,qCAAsC,CACpDxT,QAAS,YAGXwY,YAAW,WACT1S,EACIzE,EACE2M,EAAQyC,QAAR,wBAAiCnP,EAAKA,KAAKD,GAA3C,UACA2M,EAAQmD,KAAR,wBAA8B7P,EAAKA,KAAKD,GAAxC,UACF2M,EAAQmD,KAAK,oBAEnBiH,GAAW,GApBf,kDAsBI5E,EAAgB,qDAA8C,CAC5DxT,QAAS,UAvBf,yBA0BIoY,GAAW,GA1Bf,8EA9CwB,sBA4ExB,OAtDApJ,qBAAU,WACR0I,EAAS,CAAExO,KAAM,WAChB,CAACwO,IAEJ1I,qBAAU,WACH3N,GAGL,uCAAC,8BAAA2S,EAAA,sEAEGoE,GAAW,GAFd,SAG0BsB,GAAetY,IAAIC,GAH7C,gBAGWC,EAHX,EAGWA,KACR4Z,EAAc5Z,EAAKA,MACnBsJ,EAAMtJ,EAAKA,MALd,kDAOGkS,EAAgB,yDAA4C,CAC1DxT,QAAS,UARd,yBAWGoY,GAAW,GAXd,6EAAD,yDAcC,CAAC/W,EAAIuJ,EAAO4I,IAiCb,eAAC,GAAD,CAAaiD,cAAe,CAACgC,GAAG,GAAIC,GAAG,GAAIL,SAAUR,EAAaQ,GAAlE,UACE,cAACzQ,GAAA,EAAD,CACEsB,KAAM,OACNxD,MAAO,OACP1F,QAAS,WACTmI,WAAS,EACTwQ,gBAAiB,CAAEC,QAAQ,GAC3B5W,WAA0ByE,IAAnBuQ,EAAM,KACb6B,gBAA+BpS,IAAnBuQ,EAAM,MAA0BA,EAAM,KAAS8B,QAC3D7C,SAAUrK,EACVxD,SAAUsP,IAEZ,eAACyD,GAAA,EAAD,CACEtF,OAAQ,SACR7T,WAAuByE,IAAhBuQ,EAAOZ,KACdH,SAAUrK,EAHZ,UAKE,cAACwP,GAAA,EAAD,CAAWrb,UAAW,SAAtB,kBACA,eAACsb,GAAA,EAAD,CACEnS,KAAM,OACNhB,SAAU,SAACjB,GACT2Q,EAAS,OAAQnG,SAASxK,EAAEjB,OAAOD,SAErCA,MAAO+R,EAAM,QAAU,GALzB,UAOE,cAACmB,GAAA,EAAD,CACElT,MAAM,IACNmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAM,YAER,cAACuT,GAAA,EAAD,CACElT,MAAM,IACNmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAM,YAGTsR,EAAOZ,MACN,cAACmF,GAAA,EAAD,CAAgBla,GAAG,mBAAnB,SACG2V,EAAOZ,KAAK0C,aAInB,cAAC,GAAD,CACE5C,gBAAiBtK,EACjBuK,WAAY,kBACV4B,IAAUuB,MAAK,SAACC,GACdA,GAAWlB,EAASV,IAAa,gBCzI9B6B,GATE,WACb,IAAMC,EAAiBxB,eACvB,OACI,cAAC,EAAD,CAAMhY,MAAQwZ,EAAWpY,GAAgC,0BAA3B,yBAA9B,SACI,cAAC,GAAD,OCJGma,GAFG,IAAInb,EAAaqC,EAAW,UCoBxCmQ,GAAoC,CACxC,CACE3J,KAAM,KACNxD,MAAO,KACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,IAGZ,CACE4G,KAAM,OACNxD,MAAO,OACPjF,QAAS,CACP6B,QAAQ,IAGZ,CACE4G,KAAM,aACNxD,MAAO,aACPjF,QAAS,CACPgb,WAAY,cACZ3I,cAAe,CACbC,MAAO,IAETC,iBALO,SAKUjN,EAAOkN,EAAWC,GACjC,OACE,iCACG,IACAnN,EAAM2F,KAAI,SAAC3F,GAAD,OAA0BA,EAAMmD,QAAMwL,KAAK,MAAO,UAMvE,CACExL,KAAM,YACNxD,MAAO,SACPjF,QAAS,CACPqS,cAAe,CACbC,MAAO,CAAC,MAAO,aAEjBC,iBAJO,SAIUjN,EAAOkN,EAAWC,GACjC,OAAOnN,EAAQ,cAAC,EAAD,IAAe,cAAC,GAAD,OAIpC,CACEmD,KAAM,aACNxD,MAAO,YACPjF,QAAS,CACP6B,QAAQ,EACR0Q,iBAFO,SAEUjN,EAAOkN,EAAWC,GACjC,OAAO,qCAAQC,IAAOC,IAASrN,GAAQ,cAAhC,UAIb,CACEmD,KAAM,UACNxD,MAAO,cACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,EACR0Q,iBAAkB,SAACjN,EAAOkN,EAAWC,GACnC,OACE,cAAC,KAAD,CACE1T,MAAO,YACPO,UAAWsT,IACXC,GAAE,kBAAaL,EAAUM,QAAQ,GAA/B,SAHJ,SAKE,cAAC,KAAD,UAWN3D,GAAqB,CAAC,GAAI,GAAI,IAuPrBzG,GArPM,WAAO,IAClBqK,EAAoBC,eAApBD,gBADiB,EAED7E,mBAAkB,IAFjB,mBAElBrN,EAFkB,KAEZsS,EAFY,KAGnBF,EAAaC,kBAAO,GACpB9D,EAAW8D,mBAJQ,EAMWhF,mBAAqB,IANhC,mBAMN+M,GANM,WAOnB9P,EAAUiI,qBAAWjC,IAPF,EAcrBY,KAJFC,EAVuB,EAUvBA,iBACAC,EAXuB,EAWvBA,oBACAC,EAZuB,EAYvBA,aACAC,EAbuB,EAavBA,gBAbuB,EAuBrB7E,GAAU,CACZ1E,QAASwJ,GACTvI,YA5BgB,GA6BhBsF,mBAAoBA,GACpBnB,aAhCiB,IAiCjBoB,SAAUA,EACVhC,YAAa,CACXiC,uBAAwB,WACtB,OAAOuB,OAAaC,MAAM,CACxBqK,WAAYtK,OAETK,WACAH,WAAU,SAACxL,GACV,OAAQA,GAAmB,KAAVA,EAA2BA,EAAM6V,MAAM,UAAxBnV,KAEjClD,QAAQ,SAGfsN,mBAAoB,SAAC/B,GACnB,OAAOA,EAAejB,YAAf,gBAEGiB,EAAejB,YAAY8N,YAAc,CAC3CA,WAAY7M,EAAejB,YAAY8N,WAAWjH,KAAK,YAG3DjO,GAEN2H,gBAAiB,SAAClN,GAChB,MAAO,CACLya,WAAYza,EAAYE,IAAI,mBAnClCiI,EAjBuB,EAiBvBA,QACA6E,EAlBuB,EAkBvBA,cACAI,EAnBuB,EAmBvBA,YACAI,EApBuB,EAoBvBA,qBACAE,EArBuB,EAqBvBA,aACAC,EAtBuB,EAsBvBA,gBAoCIgN,EAAwBxS,EAAQgR,WACpC,SAACC,GAAD,MAAkB,eAAXA,EAAEpR,QAEL4S,EAAmBzS,EAAQwS,GAC3BE,EACJrN,EAAqBb,aACrBa,EAAqBb,YAAY8N,WAClCG,EAAiBrb,QAAgBga,WAAasB,GAE3C,GAEJ,IAAMrB,EAAuBrR,EAAQqC,KAAI,SAACJ,GAAD,MAAY,MACjDyQ,IACFrB,EAAqBmB,GAAyBE,GAGhD/M,qBAAU,WAwBR,OAvBA0E,EAAW3D,SAAU,EAErB,sBAAC,8BAAAiE,EAAA,+EAE0BjR,EAAakR,KAAK,CAAE/S,YAAa,CAAEyJ,IAAK,MAFlE,gBAEWrJ,EAFX,EAEWA,KAEJoS,EAAW3D,UACb2L,EAAcpa,EAAKA,MAClBwa,EAAiBrb,QAAgBqS,cAAcC,MAAQzR,EAAKA,KAAKoK,KAChE,SAACwM,GAAD,OAAcA,EAAShP,SAP9B,mDAWGkL,QAAQC,IAAR,OACItR,EAAauR,mBAAb,MAZP,mDAeGd,EAAgB,uDAA4C,CAC1DxT,QAAS,UAhBd,wDAAD,GAqBO,WACL0T,EAAW3D,SAAU,KAGtB,CAACyD,IAEJ,IAAMM,EAAiB5F,EAAc6C,gBACnCrC,EAAqBzG,QAzGE,SA6HV8L,IA7HU,2EA6HzB,8BAAAC,EAAA,+EAE2BwH,GAAUvH,KAA0B,CACzD/S,YAAY,cACV+G,OAAQiG,EAAc6C,gBAAgBrC,EAAqBzG,QAC3D6E,KAAM4B,EAAqBvE,WAAW2C,KACtCC,SAAU2B,EAAqBvE,WAAW4C,SAC1CE,KAAMyB,EAAqB1B,MAAMC,KACjCC,IAAKwB,EAAqB1B,MAAME,KAC5BwB,EAAqBb,aACvBa,EAAqBb,YAAY8N,YAAc,CAC7CA,WAAYjN,EAAqBb,YAAY8N,WAAWjH,KAAK,SAXzE,gBAEYpT,EAFZ,EAEYA,KAcJoS,EAAW3D,UACb6D,EAAQtS,EAAKA,MACbuN,EAAgBvN,EAAK4S,KAAKC,QAlBhC,mDAqBIC,QAAQC,IAAR,OACImH,GAAUlH,mBAAV,MAtBR,mDAyBId,EAAgB,uDAA4C,CAC1DxT,QAAS,UA1Bf,0DA7HyB,kEA4JzB,WAA0BuU,GAA1B,iBAAAP,EAAA,yDACOO,EADP,uBAEI7B,GAAoB,GAFxB,0CAOU8B,EAAM7B,EAAarR,KACtBoK,KAAI,SAAC3F,GAAD,OAAWzE,EAAKyE,EAAM0O,OAAOpT,MACjCqT,KAAK,KATZ,SAWU8G,GAAU7G,iBAAiB,CAAEH,QAXvC,YAcM7B,EAAarR,KAAKmB,SAAWiM,EAAqBvE,WAAW4C,UAC7D2B,EAAqBvE,WAAW2C,KAAO,GAf7C,iBAiBYA,EAAO4B,EAAqBvE,WAAW2C,KAAO,EACpDoB,EAAc+B,WAAWnD,GAlB/B,yCAoBYiH,IApBZ,QAuBIrB,GAAoB,GAEpBc,EAAgB,mCAAoC,CAClDxT,QAAS,YA1Bf,kDA6BIoU,QAAQC,IAAR,MACAb,EAAgB,8CAAyC,CACvDxT,QAAS,UA/Bf,2DA5JyB,sBAgMzB,OApFAgP,qBAAU,WAIR,OAHA0E,EAAW3D,SAAU,EACrBgE,IACA7F,EAAc0G,cACP,WACLlB,EAAW3D,SAAU,KAGtB,CACD+D,EACApF,EAAqBvE,WAAW2C,KAChC4B,EAAqBvE,WAAW4C,SAChC2B,EAAqB1B,MAErB4N,KAAKC,UAAUnM,EAAqBb,eAuEpC,eAAC,WAAD,WACE,cAAC,GAAD,CAAckE,KAAMU,EAAkBT,YAlMjB,8CAmMrB,cAAC,GAAD,CACE/R,MAAO,aACPoJ,QAAS6E,EAAc7E,QACvB/H,KAAMA,EACNsK,QAASA,EACT/B,mBA5MoB,IA6MpBpC,IAAKoI,EACLpP,QAAS,CACPoU,YAAY,EACZrO,WAAY8H,EAAYrG,OACxB6E,KAAMwB,EAAYnE,WAAW2C,KAAO,EACpCxC,YAjNU,GAkNVsF,mBAAoBA,GACpBkF,MAAOlG,EACPmG,cAAe,WACb,OACE,cAAC,GAAD,CACE7I,YAAa,kBAAMgC,EAAc8G,kBAIvC8F,eAAgB,SAACxP,EAAQmP,EAAYrE,GACnC,IAAM2E,EAAc1R,EAAQgR,WAAU,SAACC,GAAD,OAAOA,EAAEpR,OAASoC,KAEpDyP,GAAeN,EAAWM,GAC5B7M,EAAc8M,kBAAd,eACG1P,EAASmP,EAAWM,GAAatY,OAC9BgY,EAAWM,GACX,OAGN7M,EAAcxB,oBAGlBuI,eAAgB,SAAClP,GAAD,OAAWmI,EAAcgH,aAAanP,IACtDoP,aAAc,SAACrI,GAAD,OAAUoB,EAAc+B,WAAWnD,IACjDsI,oBAAqB,SAACrI,GAAD,OACnBmB,EAAc8B,kBAAkBjD,IAClCsI,mBAAoB,SAAClF,EAAuBC,GAAxB,OAClBlC,EAAcoH,WAAWnF,EAAeC,IAC1CmF,aAAc,SAACC,GAEb,OADA5C,EAAgB4C,IACT,UC3TJC,GArBE,WACf,OACE,eAAC,EAAD,CAAMxV,MAAO,yBAAb,UACE,cAACC,EAAA,EAAD,CAAKgN,IAAK,MAAOzI,cAAe,EAAhC,SACE,cAACiR,EAAA,EAAD,CACEzV,MAAM,sBACNT,MAAO,YACPmW,KAAK,QACL5V,UAAWsT,IACXC,GAAG,iBALL,SAOE,cAAC,IAAD,QAGJ,cAACpT,EAAA,EAAD,UACE,cAAC,GAAD,UCFFiX,GAAmB9F,OAAaC,MAAM,CAC1CpI,KAAMmI,OAAa3L,MAAM,QAAQ0J,WAAWG,IAAI,KAChDyM,cAAe3K,OAAY3L,MAAM,cAAc8J,IAAI,GACnDiI,UAAWpG,OAAc3L,MAAM,UAAU0J,aAG9BgI,GAAO,WAAO,IAAD,EAWpBC,aAA4C,CAC9CC,SAAUC,aAAYJ,IACtBK,cAAe,CACbwE,cAAe,GACfvE,WAAW,KAbbC,EAFsB,EAEtBA,SACAC,EAHsB,EAGtBA,UACAE,EAJsB,EAItBA,aACAD,EALsB,EAKtBA,SACAE,EANsB,EAMtBA,MACAd,EAPsB,EAOtBA,OACApM,EARsB,EAQtBA,MACAmN,EATsB,EAStBA,QACAC,EAVsB,EAUtBA,UASFlB,GAAqBkB,EAAUjB,YAAaC,GAnBpB,IAoBhBxD,EAAoBC,eAApBD,gBACFxF,EAAUC,eArBQ,EAsBEU,mBAAuB,MAtBzB,mBAsBjBsN,EAtBiB,KAsBVC,EAtBU,OAuBYvN,mBAAqB,IAvBjC,mBAuBjBgN,EAvBiB,KAuBLD,EAvBK,KAwBhBra,EAAY4W,eAAZ5W,GAxBgB,EAyBMsN,oBAAkB,GAzBxB,mBAyBjB/C,EAzBiB,KAyBRwM,EAzBQ,KA2BlB+D,EAAe,SAACna,EAAYX,GAChC,YAAqBoF,IAAdzE,EAAMX,IAGT+a,EAAqB,SAACpa,EAAYX,GACtC,YAAqBoF,IAAdzE,EAAMX,SAA2CoF,IAAtBzE,EAAMX,GAAIyX,QACxC9W,EAAMX,GAAIyX,aACVrS,GAlCkB,SA2FT4R,EA3FS,gFA2FxB,WAAwBC,EAAUxS,GAAlC,mBAAAkO,EAAA,sEAEIoE,GAAW,GACL9X,EAAQ2b,EAEVT,GAAUjD,OAAO0D,EAAM5a,GAAIiX,GAD3BkD,GAAU7Y,OAAO2V,GAJzB,SAO2BhY,EAP3B,gBAOYgB,EAPZ,EAOYA,KAERkS,EAAgB,8BAA4B,CAC1CxT,QAAS,YAGXwY,YAAW,WACT1S,EACIzE,EACE2M,EAAQyC,QAAR,kBAA2BnP,EAAKA,KAAKD,GAArC,UACA2M,EAAQmD,KAAR,kBAAwB7P,EAAKA,KAAKD,GAAlC,UACF2M,EAAQmD,KAAK,cAlBvB,kDAqBIqC,EAAgB,8CAAoC,CAClDxT,QAAS,UAtBf,yBAyBIoY,GAAW,GAzBf,8EA3FwB,sBAwHxB,OAnFApJ,qBAAU,WACR0I,EAAS,CAAExO,KAAM,oBAChB,CAACwO,IAEJ1I,qBAAU,WACR0I,EAAS,CAAExO,KAAM,gBAChB,CAACwO,IAEJ1I,qBAAU,WACRjM,EAAakR,OAAOqF,MAAK,gBAAGhY,EAAH,EAAGA,KAAH,OAAcoa,EAAcpa,EAAKA,WACzD,IAEH0N,qBAAU,WACR,IAAIqN,GAAe,EAoCnB,OAlCA,sBAAC,sCAAArI,EAAA,6DACCoE,GAAW,GACLkE,EAAW,CAACvZ,EAAakR,KAAK,CAAE/S,YAAa,CAAEyJ,IAAK,OAEtDtJ,GACFib,EAASnL,KAAKqK,GAAUpa,IAAIC,IAL/B,kBASqDkb,QAAQ5R,IAAI2R,GATjE,mCASUE,EATV,KAS8BC,EAT9B,KAWOJ,IACFX,EAAcc,EAAmBlb,KAAKA,MAElCD,IACF6a,EAASO,EAAcnb,KAAKA,MACtB0a,EAAgBS,EAAcnb,KAAKA,KAAKqa,WAAWjQ,KACvD,SAACwM,GAAD,OAAcA,EAAS7W,MAEzBuJ,EAAM,6BACD6R,EAAcnb,KAAKA,MADnB,IAEH0a,qBArBT,kDA0BGxI,EAAgB,yDAA4C,CAC1DxT,QAAS,UA3Bd,yBA8BGoY,GAAW,GA9Bd,4EAAD,GAkCO,WACLiE,GAAe,KAEhB,CAAChb,EAAIuJ,EAAO4I,IAgCb,eAAC,GAAD,CACEiD,cAAe,CAAEgC,GAAI,GAAIC,GAAI,GAC7BL,SAAUR,EAAaQ,GAFzB,UAIE,cAACzQ,GAAA,EAAD,CACEsB,KAAM,OACNxD,MAAO,OACP1F,QAAS,WACTmI,WAAS,EACTwQ,gBAAiB,CAAEC,QAAQ,GAC3B5W,MAAOma,EAAanF,EAAQ,QAC5B6B,WAAYuD,EAAmBpF,EAAQ,QACvCf,SAAUrK,EACVxD,SAAUsP,IAGZ,eAAC9P,GAAA,EAAD,CACE8U,QAAM,EACNxT,KAAM,gBACNnD,MAAO+R,EAAM,iBACbpS,MAAO,aACP1F,QAAS,WACT6V,OAAQ,SACR1N,WAAS,EACTD,SAAU,SAACjB,GACT2Q,EAAS,gBAAiB3Q,EAAEjB,OAAOD,QAErC4W,YAAa,CACXC,UAAU,GAEZ3G,SAAUrK,EACV5J,MAAOma,EAAanF,EAAQ,iBAC5B6B,WAAYuD,EAAmBpF,EAAQ,iBACvC2B,gBAAiB,CAAEC,QAAQ,GAjB7B,UAmBE,cAACiE,EAAA,EAAD,CAAU9W,MAAM,GAAGkQ,UAAQ,EAA3B,SACE,wDAGD0F,EAAWjQ,KAAI,SAACwM,EAAU3M,GAAX,OACd,cAACsR,EAAA,EAAD,CAAoB9W,MAAOmS,EAAS7W,GAApC,SACG6W,EAAShP,MADGqC,SAMnB,cAAC0N,GAAA,EAAD,CACEhD,SAAUrK,EACVsN,QACE,cAACC,GAAA,EAAD,CACEjQ,KAAM,YACN1J,MAAO,UACP0I,SAAU,kBAAM0P,EAAS,aAAcD,IAAS,YAChDyB,QAAStB,EAAM,eAGnBpS,MAAO,SACP2T,eAAgB,QAElB,cAAC,GAAD,CACEnD,gBAAiBtK,EACjBuK,WAAY,kBACV4B,IAAUuB,MAAK,SAACC,GACdA,GAAWlB,EAASV,IAAa,gBCrM9B6B,GATE,WACb,IAAMC,EAAiBxB,eACvB,OACI,cAAC,EAAD,CAAMhY,MAAQwZ,EAAWpY,GAAsB,mBAAjB,kBAA9B,SACI,cAAC,GAAD,O,UCJGyb,GAFG,IAAIzc,EAAaqC,EAAW,U,oBCkBxCmQ,GAAoC,CACxC,CACE3J,KAAM,KACNxD,MAAO,KACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,IAGZ,CACE4G,KAAM,QACNxD,MAAO,SACP8F,MAAO,MACP/K,QAAS,CACP6B,QAAQ,IAGZ,CACE4G,KAAM,SACNxD,MAAO,eACP8F,MAAO,MACP/K,QAAS,CACP6B,QAAQ,EACR0Q,iBAFO,SAEUjN,EAAOkN,EAAWC,GACjC,OACE,iCACG,IACAnN,EAAM2F,KAAI,SAAC3F,GAAD,OAA0BA,EAAMmD,QAAMwL,KAAK,MAAO,UAMvE,CACExL,KAAM,aACNxD,MAAO,aACP8F,MAAO,MACP/K,QAAS,CACPgb,WAAY,cACZ3I,cAAe,CACbC,MAAO,IAETC,iBALO,SAKUjN,EAAOkN,EAAWC,GACjC,OACE,iCACG,IACAnN,EAAM2F,KAAI,SAAC3F,GAAD,OAA0BA,EAAMmD,QAAMwL,KAAK,MAAO,UAMvE,CACExL,KAAM,aACNxD,MAAO,YACP8F,MAAO,MACP/K,QAAS,CACP6B,QAAQ,EACR0Q,iBAFO,SAEUjN,EAAOkN,EAAWC,GACjC,OAAO,qCAAQC,aAAOC,aAASrN,GAAQ,cAAhC,UAIb,CACEmD,KAAM,UACNxD,MAAO,cACP8F,MAAO,MACP/K,QAAS,CACPwM,MAAM,EACN3K,QAAQ,EACR0Q,iBAAkB,SAACjN,EAAOkN,EAAWC,GACnC,OACE,cAAC,KAAD,CACE1T,MAAO,YACPO,UAAWsT,IACXC,GAAE,kBAAaL,EAAUM,QAAQ,GAA/B,SAHJ,SAKE,cAAC,KAAD,UAWN3D,GAAqB,CAAC,GAAI,GAAI,IAwPrBzG,GAtPD,WAAO,IACXqK,EAAoBC,eAApBD,gBADU,EAEM7E,mBAAkB,IAFxB,mBAEXrN,EAFW,KAELsS,EAFK,KAGZF,EAAaC,kBAAO,GACpB9D,EAAW8D,mBAJC,EAMkBhF,qBANlB,mBAMC+M,GAND,aAYdlJ,KAJFC,EARgB,EAQhBA,iBACAC,EATgB,EAShBA,oBACAC,EAVgB,EAUhBA,aACAC,EAXgB,EAWhBA,gBAGIhH,EAAUiI,qBAAWjC,IAdT,EAuBd7D,GAAU,CACZ1E,QAASwJ,GACTvI,YA5BgB,GA6BhBsF,mBAAoBA,GACpBnB,aAhCiB,IAiCjBoB,SAAUA,EACVhC,YAAa,CACXiC,uBAAwB,WACtB,OAAOuB,OAAaC,MAAM,CACxBqK,WAAYtK,OAETK,WACAH,WAAU,SAACxL,GACV,OAAQA,GAAmB,KAAVA,EAA2BA,EAAM6V,MAAM,UAAxBnV,KAEjClD,QAAQ,SAGfsN,mBAAoB,SAAC/B,GACnB,OAAOA,EAAejB,YAAf,gBAEGiB,EAAejB,YAAY8N,YAAc,CAC3CA,WAAY7M,EAAejB,YAAY8N,WAAWjH,KAAK,YAG3DjO,GAEN2H,gBAAiB,SAAClN,GAChB,MAAO,CACLya,WAAYza,EAAYE,IAAI,mBAnClCiI,EAjBgB,EAiBhBA,QACA6E,EAlBgB,EAkBhBA,cACAI,EAnBgB,EAmBhBA,YACAI,EApBgB,EAoBhBA,qBACAE,EArBgB,EAqBhBA,aACAC,EAtBgB,EAsBhBA,gBAoCIgN,EAAwBxS,EAAQgR,WACpC,SAACC,GAAD,MAAkB,eAAXA,EAAEpR,QAEL4S,EAAmBzS,EAAQwS,GAC3BE,EACJrN,EAAqBb,aACrBa,EAAqBb,YAAY8N,WAClCG,EAAiBrb,QAAgBga,WAAasB,GAE3C,GAEJ,IAAMrB,EAAuBrR,EAAQqC,KAAI,SAACJ,GAAD,MAAY,MACjDyQ,IACFrB,EAAqBmB,GAAyBE,GAGhD/M,qBAAU,WAwBR,OAvBA0E,EAAW3D,SAAU,EAErB,sBAAC,8BAAAiE,EAAA,+EAE0BjR,EAAakR,KAAK,CAAE/S,YAAa,CAAEyJ,IAAK,MAFlE,gBAEWrJ,EAFX,EAEWA,KAEJoS,EAAW3D,UACb2L,EAAcpa,EAAKA,MAClBwa,EAAiBrb,QAAgBqS,cAAcC,MAAQzR,EAAKA,KAAKoK,KAChE,SAACwM,GAAD,OAAcA,EAAShP,SAP9B,mDAWGkL,QAAQC,IAAR,OACItR,EAAauR,mBAAb,MAZP,mDAeGd,EAAgB,uDAA4C,CAC1DxT,QAAS,UAhBd,wDAAD,GAqBO,WACL0T,EAAW3D,SAAU,KAGtB,CAACyD,IAEJ,IAAMM,EAAiB5F,EAAc6C,gBACnCrC,EAAqBzG,QAzGL,SA8HH8L,IA9HG,2EA8HlB,8BAAAC,EAAA,+EAE2B8I,GAAU7I,KAA0B,CACzD/S,YAAY,cACV+G,OAAQiG,EAAc6C,gBAAgBrC,EAAqBzG,QAC3D6E,KAAM4B,EAAqBvE,WAAW2C,KACtCC,SAAU2B,EAAqBvE,WAAW4C,SAC1CE,KAAMyB,EAAqB1B,MAAMC,KACjCC,IAAKwB,EAAqB1B,MAAME,KAC5BwB,EAAqBb,aACvBa,EAAqBb,YAAY8N,YAAc,CAC7CA,WAAYjN,EAAqBb,YAAY8N,WAAWjH,KAAK,SAXzE,gBAEYpT,EAFZ,EAEYA,KAcJoS,EAAW3D,UACb6D,EAAQtS,EAAKA,MACbuN,EAAgBvN,EAAK4S,KAAKC,QAlBhC,mDAqBIC,QAAQC,IAAR,OACIyI,GAAUxI,mBAAV,MAtBR,mDAyBId,EAAgB,uDAA4C,CAC1DxT,QAAS,UA1Bf,0DA9HkB,kEA6JlB,WAA0BuU,GAA1B,iBAAAP,EAAA,yDACOO,EADP,uBAEI7B,GAAoB,GAFxB,0CAOU8B,EAAM7B,EAAarR,KACtBoK,KAAI,SAAC3F,GAAD,OAAWzE,EAAKyE,EAAM0O,OAAOpT,MACjCqT,KAAK,KATZ,SAWUoI,GAAUnI,iBAAiB,CAAEH,QAXvC,YAcM7B,EAAarR,KAAKmB,SAAWiM,EAAqBvE,WAAW4C,UAC7D2B,EAAqBvE,WAAW2C,KAAO,GAf7C,iBAiBYA,EAAO4B,EAAqBvE,WAAW2C,KAAO,EACpDoB,EAAc+B,WAAWnD,GAlB/B,yCAoBYiH,IApBZ,QAuBIrB,GAAoB,GAEpBc,EAAgB,mCAAoC,CAClDxT,QAAS,YA1Bf,kDA6BIoU,QAAQC,IAAR,MACAb,EAAgB,8CAAyC,CACvDxT,QAAS,UA/Bf,2DA7JkB,sBAiMlB,OArFAgP,qBAAU,WAKR,OAJA0E,EAAW3D,SAAU,EACrBgE,IACA7F,EAAc0G,cAEP,WACLlB,EAAW3D,SAAU,KAGtB,CACD+D,EACApF,EAAqBvE,WAAW2C,KAChC4B,EAAqBvE,WAAW4C,SAChC2B,EAAqB1B,MAErB4N,KAAKC,UAAUnM,EAAqBb,eAuEpC,eAAC,WAAD,WACE,cAAC,GAAD,CAAckE,KAAMU,EAAkBT,YAnMxB,8CAoMd,cAAC,GAAD,CACE/R,MAAO,SACPqB,KAAMA,EACN+H,QAASA,EACTQ,mBA5MoB,IA6MpB+B,QAASA,EACTnE,IAAKoI,EACLpP,QAAS,CACPoU,YAAY,EACZrO,WAAY8H,EAAYrG,OACxB6E,KAAMwB,EAAYnE,WAAW2C,KAAO,EACpCxC,YAlNU,GAmNVsF,mBAAoBA,GACpBkF,MAAOlG,EACPmG,cAAe,WACb,OACE,cAAC,GAAD,CACE7I,YAAa,kBAAMgC,EAAc8G,kBAIvC8F,eAAgB,SAACxP,EAAQmP,EAAYrE,GACnC,IAAM2E,EAAc1R,EAAQgR,WAAU,SAACC,GAAD,OAAOA,EAAEpR,OAASoC,KAEpDyP,GAAeN,EAAWM,GAC5B7M,EAAc8M,kBAAd,eACG1P,EAASmP,EAAWM,GAAatY,OAC9BgY,EAAWM,GACX,OAGN7M,EAAcxB,oBAGlBuI,eAAgB,SAAClP,GAAD,OAAWmI,EAAcgH,aAAanP,IACtDoP,aAAc,SAACrI,GAAD,OAAUoB,EAAc+B,WAAWnD,IACjDsI,oBAAqB,SAACrI,GAAD,OACnBmB,EAAc8B,kBAAkBjD,IAClCsI,mBAAoB,SAAClF,EAAuBC,GAAxB,OAClBlC,EAAcoH,WAAWnF,EAAeC,IAC1CmF,aAAc,SAACC,GAEb,OADA5C,EAAgB4C,IACT,UCjUJC,GArBE,WACf,OACE,eAAC,EAAD,CAAMxV,MAAO,qBAAb,UACE,cAACC,EAAA,EAAD,CAAKgN,IAAK,MAAOzI,cAAe,EAAhC,SACE,cAACiR,EAAA,EAAD,CACEzV,MAAO,kBACP0V,KAAM,QACN5V,UAAWsT,IACXC,GAAI,iBACJ9T,MAAO,YALT,SAOE,cAAC,KAAD,QAGJ,cAACU,EAAA,EAAD,UACE,cAAC,GAAD,U,SCnBFb,GAAYC,YAAW,CAC3B4E,KAAM,CACJsH,MAAO,OACPuR,OAAQ,OACRC,SAAU,QACVxd,MAAO,OACPyd,aAAc,MACdnU,QAAS,OACTlE,WAAY,SACZsY,eAAgB,YAIdC,GAAmB,CACvB,EAAK,UACL,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,UACN,GAAM,WAqBOC,GAfuB,SAAC1d,GAErC,IAAMC,EAAUN,KAChB,OACE,cAACQ,EAAA,EAAD,CACEC,UAAWH,EAAQuE,KACnBmZ,MAAO,CACLjZ,gBAAiB+Y,GAAiBzd,EAAM4d,SAH5C,SAMG5d,EAAM4d,UChBPC,GAAmC,CACvC,CACExX,MAAO,IACPmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAO,cAAC,GAAD,CAAQ4X,OAAQ,MACvBjE,eAAgB,OAElB,CACEtT,MAAO,KACPmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAO,cAAC,GAAD,CAAQ4X,OAAQ,OACvBjE,eAAgB,OAElB,CACEtT,MAAO,KACPmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAO,cAAC,GAAD,CAAQ4X,OAAQ,OACvBjE,eAAgB,OAElB,CACEtT,MAAO,KACPmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAO,cAAC,GAAD,CAAQ4X,OAAQ,OACvBjE,eAAgB,OAElB,CACEtT,MAAO,KACPmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAO,cAAC,GAAD,CAAQ4X,OAAQ,OACvBjE,eAAgB,OAElB,CACEtT,MAAO,KACPmT,QAAS,cAACoC,GAAA,EAAD,CAAO9b,MAAO,YACvBkG,MAAO,cAAC,GAAD,CAAQ4X,OAAQ,OACvBjE,eAAgB,QAIPmE,GAA0C,SAAC9d,GAAW,IACzDqG,EAAqCrG,EAArCqG,MAAO6R,EAA8BlY,EAA9BkY,SAAU3B,EAAoBvW,EAApBuW,SAAUjU,EAAUtC,EAAVsC,MACnC,OACE,eAACmZ,GAAA,EAAD,2BACEnZ,WAAiByE,IAAVzE,EACPiU,UAAuB,IAAbA,GACNvW,EAAM+d,kBAHZ,cAKE,cAACrC,GAAA,EAAD,CAAWrb,UAAW,SAAtB,mCACA,cAACG,EAAA,EAAD,CAAKC,WAAY,EAAjB,SACE,cAACkb,GAAA,EAAD,CACEnS,KAAK,SACLhB,SAAU,SAACjB,GACT2Q,EAAS3Q,EAAEjB,OAAOD,QAEpBA,MAAOA,EACP2X,KAAG,EANL,SAQGH,GAAQ7R,KAAI,SAAChM,EAA8B6L,GAA/B,OACX,cAAC0N,GAAA,EAAD,gBAAgCvZ,GAAT6L,UAI5BvJ,GACC,cAACuZ,GAAA,EAAD,CAAgBla,GAAG,mBAAnB,SAAuCW,EAAM8W,e,+BCLtC6E,GAtDGhV,cAChB,SAACjJ,EAAO+H,GACN,IAAMmW,EAAUjK,mBADF,EAEkBhF,mBAAS,IAF3B,mBAEPkP,EAFO,KAEGC,EAFH,KAIRC,EAA8B,2BAClC/d,QAAS,YACNN,EAAMse,gBAFyB,IAGlClW,WAAW,2BACTmW,UAAU,GACNve,EAAMse,gBACRte,EAAMse,eAAelW,YADnB,gBAEGpI,EAAMse,eAAelW,aAJpB,IAMRoW,aACE,cAACC,GAAA,EAAD,CAAgBC,SAAU,MAA1B,SAAkC1e,EAAM2e,eAG5CtY,MAAO8X,IAGHS,EAAc,6BACf5e,EAAM6e,gBADS,IAElBC,QAAQ,EACR/W,IAAKmW,EACL1V,SAJkB,SAITpC,GACP,IAAM2Y,EAAQ3Y,EAAME,OAAOyY,MACvBA,EAAMhc,QACRqb,EACEY,MAAMC,KAAKF,GACR/S,KAAI,SAACkT,GAAD,OAAeA,EAAK1V,QACxBwL,KAAK,MAGRhV,EAAM6e,gBAAkB7e,EAAM6e,eAAerW,UAC/CxI,EAAM6e,eAAerW,SAASpC,MAUpC,OALA+Y,8BAAoBpX,GAAK,iBAAO,CAC9BqX,WAAY,kBAAMlB,EAAQ7N,QAAQgP,SAClCC,MAAO,kBAAMlB,EAAY,SAIzB,qCACE,oCAAO1H,KAAK,QAAWkI,IACvB,cAAC1W,GAAA,EAAD,gBAAemW,UCtDVkB,GAActW,cAGzB,SAACjJ,EAAO+H,GACR,IAAMmW,EAAUjK,mBAERjO,EAA6ChG,EAA7CgG,MAAOwZ,EAAsCxf,EAAtCwf,OAAQtH,EAA8BlY,EAA9BkY,SAAU3B,EAAoBvW,EAApBuW,SAAUjU,EAAUtC,EAAVsC,MAM3C,OAJA6c,8BAAoBpX,GAAK,iBAAO,CAC9BuX,MAAO,kBAAMpB,EAAQ7N,QAAQiP,aAI7B,cAAC7D,GAAA,EAAD,2BACEnZ,WAAiByE,IAAVzE,EACPiU,UAAuB,IAAbA,EACV9N,WAAS,EACT0N,OAAQ,UACJnW,EAAM+d,kBALZ,aAOE,cAAC,GAAD,CACEhW,IAAKmW,EACLI,eAAgB,CACdtY,MAAOA,EACPiT,gBAAiB,CAAEC,QAAQ,GAC3ByE,MAAO,CAAEjZ,gBAAiB,WAC1B6R,UAAuB,IAAbA,GAEZsI,eAAgB,CACdW,SACAhX,SAFc,SAELpC,GACP,IAAM2Y,EAAQ3Y,EAAME,OAAOyY,MAC3BA,EAAMhc,QAAUmV,EAAS6G,EAAM,KAEjCxI,UAAuB,IAAbA,GAEZoI,WACE,cAAC9L,EAAA,EAAD,CACE4M,QAAS,cAAC,KAAD,IACTnf,QAAS,YACTR,MAAO,UACPkJ,QAAS,kBAAMkV,EAAQ7N,QAAQ+O,cAC/B7I,UAAuB,IAAbA,EALZ,+B,6DC9BGmJ,GAAoBzW,cAG/B,SAACjJ,EAAO+H,GAAS,IACT4X,EAAwD3f,EAAxD2f,kBADQ,EACgD3f,EAArC+O,oBADX,MAC0B,IAD1B,EAC+B6Q,EAAiB5f,EAAjB4f,aAD/B,EAEqCD,EAA7CE,EAFQ,EAERA,SAAUC,EAFF,EAEEA,OAAQtN,EAFV,EAEUA,QAASuN,EAFnB,EAEmBA,cAFnB,EAGQ9Q,oBAAkB,GAH1B,mBAGToD,EAHS,KAGH2N,EAHG,OAIoB/Q,mBAAiB,IAJrC,mBAITnI,EAJS,KAIGmZ,EAJH,OAKcnR,aAAoBhI,EAAYiI,GAAvDmR,EALS,oBAMVhU,EAAUiI,qBAAWjC,IANX,EAOcjD,mBAAS,IAPvB,mBAOTlO,EAPS,KAOAof,EAPA,KASV9B,EAA8B,cAClClI,OAAQ,SACR7V,QAAS,WACTmI,WAAW,EACXwQ,gBAAiB,CAAEC,QAAQ,IACvBlZ,EAAMse,gBAAN,gBAA6Bte,EAAMse,iBAGnC8B,EAAyC,2BAC7CC,YAAa,gBACbC,cAAe,0BACXX,GAAiB,gBAASA,IAHe,IAI7CtN,OACAtR,QAASA,EACTmL,QAASA,EACT4T,OAP6C,WAQ3CE,GAAQ,GAGRF,GAAUA,KAEZtN,QAb6C,WAc3CwN,GAAQ,GAGRxN,GAAWA,KAEbuN,cAnB6C,SAmB/B3Z,EAAOC,GACnB4Z,EAAc5Z,GAGd0Z,GAAiBA,KAEnBQ,YAAa,SAAC9e,GAAD,OACX,cAACyG,GAAA,EAAD,0CACMzG,GACA4c,GAFN,IAGEjW,WAAU,6BACL3G,EAAO2G,YADF,IAERoW,aACE,eAAC,WAAD,WACGtS,GAAW,cAACsU,GAAA,EAAD,CAAkB1gB,MAAO,UAAWmW,KAAM,KACrDxU,EAAO2G,WAAWoW,wBAgD/B,OAxCAlP,qBAAU,WACH+C,GAASwN,GACZM,EAAW,MAEZ,CAACN,EAAUxN,IAEd/C,qBAAU,WAKR,GAAK+C,IAGuB,KAAxB6N,IAA8BL,GAAlC,CAIA,IAAIlD,GAAe,EAUnB,OATA,sBAAC,4BAAArI,EAAA,+EAEsBsL,EAAaM,GAFnC,OAESte,EAFT,OAGO+a,GACFwD,EAAWve,GAJhB,sGAAD,GASO,WACL+a,GAAe,MAEhB,CAACkD,EAAUK,EAAqB7N,EAAMuN,IAEzCT,8BAAoBpX,GAAK,iBAAO,CAC9BuX,MAAO,WACLW,EAAc,IACdE,EAAW,SAIR,cAACM,GAAA,EAAD,gBAAkBL,O,UC7HrBzgB,GAAYC,aAAW,SAACqE,GAAD,OAC3Byc,aAAa,CACXlc,KAAM,CACJE,gBAAiB,UACjB6Y,aAAc,MACd3G,QAAS3S,EAAMmS,QAAQ,EAAG,GAC1BtW,MAAOmE,EAAMX,QAAQI,UAAUF,WAgBtBmd,GAT0C,SAAC3gB,GACxD,IAAMC,EAAUN,KAChB,OACE,cAACsX,GAAA,EAAD,2BAAMC,WAAS,EAAC0J,KAAM,OAAQxgB,UAAWH,EAAQuE,MAAUxE,GAA3D,aACGA,EAAMU,a,oBCKEmgB,GAlBkD,SAAC7gB,GAAW,IACnE8gB,EAAiC9gB,EAAjC8gB,SAAUpgB,EAAuBV,EAAvBU,SAAasW,EAD2C,aACjChX,EADiC,yBAE1E,OACE,cAACiX,GAAA,EAAD,2BAAME,MAAI,GAAKH,GAAf,aACE,eAACC,GAAA,EAAD,CAAMC,WAAS,EAAChS,WAAY,SAAUkR,QAAS,EAA/C,UACE,cAACa,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,EAAf,SACE,cAACjQ,EAAA,EAAD,CAAYmN,KAAM,QAASnW,MAAO,UAAWkJ,QAAS8X,EAAtD,SACE,cAAC,KAAD,QAGJ,cAAC7J,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,EAAGC,GAAI,GAAtB,SACGtY,WCaIqgB,GA/Bc,SAC3BC,EACAC,GAEA,IAAMC,EAAWnN,eAEjB,MAAO,CACLoN,QADK,SACGhK,GACDA,GAAiB,KAATA,IAGE6J,EAAWI,MAAK,SAACC,GAAD,OAAOA,EAAE1f,KAAOwV,EAAKxV,MAElDuf,EAASpN,gBAAgB,uBAAqB,CAAExT,QAAS,UAI3D0gB,EAAWM,QAAQnK,GACnB8J,EAAcD,MAEhBO,WAdK,SAcMpK,GACT,IAAMpC,EAAQiM,EAAWrG,WAAU,SAAC0G,GAAD,OAAOA,EAAE1f,KAAOwV,EAAKxV,OACzC,IAAXoT,IAGJiM,EAAWQ,OAAOzM,EAAO,GACzBkM,EAAcD,OCJLS,GApBQ,WAAO,IACpB3N,EAAoBC,eAApBD,gBACR,OAAO4N,sBAAW,uCAChB,WAAOC,GAAP,iBAAArN,EAAA,+EAE2BqN,EAF3B,uBAEY/f,EAFZ,EAEYA,KAFZ,kBAGWA,GAHX,sCAKSggB,IAAMrf,SAAN,OACHuR,EAAgB,uDAA4C,CAC1DxT,QAAS,UAPjB,8DADgB,sDAchB,CAACwT,KClBE,SAAS+N,GAAsBC,EAAiBtJ,GACrD,OAAOsJ,EAAOlf,QAAO,SAAC2Z,GACpB,YACuBxV,IAArBwV,EAAMN,YAC8D,IAApEM,EAAMN,WAAWrZ,QAAO,SAACmf,GAAD,OAASA,EAAIpgB,KAAO6W,EAAS7W,MAAIoB,UC+B/D,IA6Feif,GA7FI/Y,cACjB,SAACjJ,EAAO+H,GAAS,IACP+Z,EACN9hB,EADM8hB,OAAQ7F,EACdjc,EADcic,WAAYgG,EAC1BjiB,EAD0BiiB,UAAWjG,EACrChc,EADqCgc,cAAe1Z,EACpDtC,EADoDsC,MAAOiU,EAC3DvW,EAD2DuW,SAEvD2L,EAAmBT,KAHX,EAIkBV,GAAqBe,EAAQG,GAArDd,EAJM,EAINA,QAASI,EAJH,EAIGA,WACGY,EAAmBpB,GACrC9E,EACAD,GAFMuF,WAKFa,EACJnO,mBACIhQ,EAAQ4F,eAER+V,EAAe8B,uBACnB,SAAC5a,GACC,OAAOob,EACLpG,GAAUvH,KAAK,CAAE/S,YAAa,CAAE+G,OAAQzB,EAAYmE,IAAK,OAExD2O,MAAK,SAAChY,GAAD,OAAUA,EAAKA,QACpBygB,OAAM,SAAC/f,GAAD,OAAWoS,QAAQC,IAAIrS,QAElC,CAAC4f,IAOH,OAJA/C,8BAAoBpX,GAAK,iBAAO,CAC9BuX,MAAO,kBAAM8C,EAAgB/R,QAAQiP,aAIrC,eAAC,WAAD,WACE,cAACI,GAAD,CACE3X,IAAKqa,EACLxC,aAAcA,EACdtB,eAAgB,CACdtY,MAAO,aACP1D,WAAiByE,IAAVzE,GAETqd,kBAAmB,CACjB2C,eAAe,EACfzC,UAAU,EACV0C,kBAAmB,SAACC,EAAQnc,GAAT,OAAmBmc,EAAO7gB,KAAO0E,EAAM1E,IAC1D8gB,eAAgB,SAACD,GAAD,OAAYA,EAAOhZ,MACnChB,SAAU,SAACpC,EAAOC,GAAR,OAAkB8a,EAAQ9a,IACpCkQ,SAAUA,KAGd,cAACsF,GAAA,EAAD,CAAgB8B,MAAO,CAAEN,OAAQpZ,EAAMmS,QAAQ,IAA/C,+CAGA,eAACqF,GAAA,EAAD,2BACEnZ,WAAiByE,IAAVzE,EACPiU,UAAuB,IAAbA,GACNvW,EAAM+d,kBAHZ,IAIEtV,WAAS,EACT0N,OAAQ,SALV,UAOE,cAAC,GAAD,UACG2L,EAAO9V,KAAI,SAACuQ,EAAO1Q,GAAR,OACV,cAAC,GAAD,CAEEiV,SAAU,WACuB7E,EAAWrZ,QACxC,SAAC4V,GACC,IAAMkK,EAAqBb,GACzBC,EACAtJ,GAEF,OACgC,IAA9BkK,EAAmB3f,SAGZ,IAFP2f,EAAmB/H,WACjB,SAACgI,GAAD,OAAOA,EAAEhhB,KAAO4a,EAAM5a,SAKPgK,SAAQ,SAACoW,GAAD,OAASI,EAAeJ,MACvDR,EAAWhF,IAEbxD,GAAI,GApBN,SAsBE,cAAC5Y,EAAA,EAAD,UAAaoc,EAAM/S,QArBdqC,QAyBVvJ,GAAS,cAACuZ,GAAA,EAAD,UAAiBvZ,EAAM8W,oB,UCjGrCzZ,GAAYC,YAAW,CAC3BgjB,cAAe,CACbtF,SAAU,SACVxd,MAAO+iB,KAAK,QAyGDC,GAxFO7Z,cAGpB,SAACjJ,EAAO+H,GAAS,IACTkU,EAAuDjc,EAAvDic,WAAYD,EAA2Chc,EAA3Cgc,cAAe8F,EAA4B9hB,EAA5B8hB,OAAQvL,EAAoBvW,EAApBuW,SAAUjU,EAAUtC,EAAVsC,MAC/C4f,EAAmBT,KAFT,EAGgBV,GAC9B9E,EACAD,GAFMmF,EAHQ,EAGRA,QAASI,EAHD,EAGCA,WAKXa,EACJnO,mBACIhQ,EAAQ4F,eACR5J,EAAUN,KAEVigB,EAAe8B,uBAAY,WAC/B,OAAOQ,EACL7e,EAAakR,KAAK,CAChB/S,YAAa,CACXsgB,OAAQA,EAAO9V,KAAI,SAACuQ,GAAD,OAAWA,EAAM5a,MAAIqT,KAAK,KAC7C/J,IAAK,OAIR2O,MAAK,SAAChY,GAAD,OAAUA,EAAKA,QACpBygB,OAAM,SAAC/f,GAAD,OAAWoS,QAAQC,IAAIrS,QAC/B,CAAC4f,EAAkBJ,IAMtB,OAJA3C,8BAAoBpX,GAAK,iBAAO,CAC9BuX,MAAO,kBAAM8C,EAAgB/R,QAAQiP,aAIrC,eAAC,WAAD,WACE,cAACI,GAAD,CACE3X,IAAKqa,EACLxC,aAAcA,EACdtB,eAAgB,CACdtY,MAAO,aACP1D,WAAiByE,IAAVzE,GAETqd,kBAAmB,CACjB2C,eAAe,EACfzC,UAAU,EACV0C,kBAAmB,SAACC,EAAQnc,GAAT,OAAmBmc,EAAO7gB,KAAO0E,EAAM1E,IAC1D8gB,eAAgB,SAACD,GAAD,OAAYA,EAAOhZ,MACnChB,SAAU,SAACpC,EAAOC,GAAR,OAAkB8a,EAAQ9a,IACpCkQ,UAAuB,IAAbA,IAAsBuL,EAAO/e,UAG3C,cAAC8Y,GAAA,EAAD,CAAgB8B,MAAO,CAAEN,OAAQpZ,EAAMmS,QAAQ,IAA/C,gEAIA,eAACqF,GAAA,EAAD,2BACEnZ,WAAiByE,IAAVzE,EACPiU,UAAuB,IAAbA,GACNvW,EAAM+d,kBAHZ,IAIEtV,WAAS,EACT0N,OAAQ,SALV,UAOE,cAAC,GAAD,UACG8F,EAAWjQ,KAAI,SAACwM,EAAU3M,GACzB,IAAM6W,EAAqBb,GAAsBC,EAAQtJ,GACtDxM,KAAI,SAACuQ,GAAD,OAAWA,EAAM/S,QACrBwL,KAAK,KAER,OACE,eAAC,GAAD,CAEE8L,SAAU,kBAAMS,EAAW/I,IAC3BO,GAAI,GAHN,UAKE,cAAC5Y,EAAA,EAAD,CAAY4iB,QAAQ,EAApB,SAA2BvK,EAAShP,OACpC,eAACrJ,EAAA,EAAD,CAAY4iB,QAAQ,EAAM3iB,UAAWH,EAAQ2iB,cAA7C,yBACYF,OANP7W,QAYZvJ,GAAS,cAACuZ,GAAA,EAAD,UAAiBvZ,EAAM8W,oBChG5B4J,GAAkB/Z,cAG7B,SAACjJ,EAAO+H,GAAS,IACTkb,EAAiDjjB,EAAjDijB,YAAaC,EAAoCljB,EAApCkjB,eAAgB5gB,EAAoBtC,EAApBsC,MAAOiU,EAAavW,EAAbuW,SAEtC2L,EAAmBT,KAHT,EAIgBV,GAC9BkC,EACAC,GAFM/B,EAJQ,EAIRA,QAASI,EAJD,EAICA,WAKXa,EACJnO,mBAEI2L,EAAe8B,uBACnB,SAAC5a,GACC,OAAOob,EACLlI,GAAezF,KAAK,CAAE/S,YAAa,CAAE+G,OAAQzB,EAAYmE,IAAK,OAE7D2O,MAAK,SAAChY,GAAD,OAAUA,EAAKA,QACpBygB,OAAM,SAAC/f,GAAD,OAAWoS,QAAQC,IAAIrS,QAElC,CAAC4f,IAOH,OAJA/C,8BAAoBpX,GAAK,iBAAO,CAC9BuX,MAAO,kBAAM8C,EAAgB/R,QAAQiP,aAIrC,eAAC,WAAD,WACE,cAACI,GAAD,CACE3X,IAAKqa,EACLxC,aAAcA,EACdtB,eAAgB,CACdtY,MAAO,oBACP1D,WAAiByE,IAAVzE,GAETqd,kBAAmB,CAEjB2C,eAAe,EACfzC,UAAU,EACV0C,kBAAmB,SAACC,EAAQnc,GAAT,OAAmBmc,EAAO7gB,KAAO0E,EAAM1E,IAC1D8gB,eAAgB,SAACD,GAAD,OAAYA,EAAOhZ,MACnChB,SAAU,SAACpC,EAAOC,GAAR,OAAkB8a,EAAQ9a,IACpCkQ,SAAUA,KAGd,eAACkF,GAAA,EAAD,2BACEnZ,WAAiByE,IAAVzE,EACPiU,UAAuB,IAAbA,GACNvW,EAAM+d,kBAHZ,IAIEtV,WAAS,EACT0N,OAAQ,SALV,UAOE,cAAC,GAAD,UACG8M,EAAYjX,KAAI,SAACuP,EAAY1P,GAAb,OACf,cAAC,GAAD,CAEEiV,SAAU,kBAAMS,EAAWhG,IAC3BxC,GAAI,EAHN,SAKE,cAAC5Y,EAAA,EAAD,UAAaob,EAAW/R,QAJnBqC,QAQVvJ,GAAS,cAACuZ,GAAA,EAAD,UAAiBvZ,EAAM8W,oB,oKC7FlC,SAAS+J,GAAWC,GACzB,OAAwB,IAAjBA,EAAIC,UAAkBC,GAASF,GAGjC,SAASE,GAASF,GACvB,OAAIG,GAAaH,GACAA,EACDrE,MAAMyE,MAAK,SAACtE,GAAD,OAAUA,EAAK5c,cAGlByE,IADTqc,EACD9gB,MAIT,SAASihB,GAAaH,GAC3B,MAAO,UAAWA,ECdpB,I,GAAMzjB,GAAYC,aAAW,SAACqE,GAAD,MAAmB,CAC9Cwf,kBAAmB,CACjB/E,SAAU,YAEZ2E,SAAU,CACR3E,SAAU,WACVgF,KAAM,GAERC,mBAAoB,CAClB7jB,MAAO+iB,KAAK,UAiCDe,GAxBuC,SAAC5jB,GACrD,IAAMC,EAAUN,KACRsW,EAAuBjW,EAAvBiW,KAAM4N,EAAiB7jB,EAAjB6jB,aACRvhB,EAAQghB,GAASO,GACvB,OACE,cAACC,GAAA,EAAD,CAAMjc,GAAIgc,EAAaR,SAAW,EAAGvb,QAAS,CAAEic,MAAO,IAAKC,KAAM,KAAlE,SACE,sBAAK5jB,UAAWH,EAAQwjB,kBAAxB,UACE,cAACjD,GAAA,EAAD,CACElgB,QAAS,SACT+F,MAAO,IACPjG,UAAWH,EAAQ0jB,mBACnB1N,KAAMA,IAER,cAACuK,GAAA,EAAD,CACEpgB,UAAWH,EAAQojB,SACnB/iB,QAAS,SACT+F,MAAO/D,EAAQ,EAA4B,IAAxBuhB,EAAaR,SAChCpN,KAAMA,U,qFC/BmBxJ,yBAiBjC,CACAwX,UAAW,CAAC,WACZC,aAAc,CAAC,WACfC,eAAgB,CAAC,WACjBC,eAAgB,CAAC,aArBJnX,G,GAAAA,MAAOC,G,GAAAA,SAuBTC,GAA6B,CACxCkX,QAAS,IAUI5W,GAPCC,yBAAoCP,IAAvB,qBAC1BF,GAAMqX,YA6CT,WAGgB,IAFdtd,EAEa,uDAFLmG,GACRS,EACa,uCACb,GAAoC,IAAhCA,EAAOC,QAAQkR,MAAMhc,OACvB,OAAOiE,EAET,IAAM+N,EAAQwP,GAAgBvd,EAAO4G,EAAOC,QAAQ2W,MAAM7iB,IAE1D,IAAe,IAAXoT,GAAgB/N,EAAMqd,QAAQtP,GAAOsO,SAAW,EAClD,OAAOrc,EAGT,IAAMqd,GACO,IAAXtP,EACI/N,EAAMqd,QACNxL,KAAO7R,EAAMqd,QAAS,CACpBI,QAAS,CAAC,CAAC1P,EAAO,MAG1B,MAAO,CACLsP,QAAQ,GAAD,oBACFA,GADE,CAEL,CACEG,MAAO5W,EAAOC,QAAQ2W,MACtBnB,SAAU,EACVtE,MAAOnR,EAAOC,QAAQkR,MAAM/S,KAAI,SAACkT,GAAD,MAAW,CACzCwF,UAAWxF,EAAKwF,UAChBvG,SAAUe,EAAKA,KAAK1V,KACpB6Z,SAAU,aA3ES,eAE1BpW,GAAM0X,eAgFT,WAGgB,IAFd3d,EAEa,uDAFLmG,GACRS,EACa,uCACb8G,QAAQC,IAAI,gBACZD,QAAQC,IAAI3N,GACZ0N,QAAQC,IAAI3N,GACZ,IAAMqd,EAAUrd,EAAMqd,QAAQzhB,QAC5B,SAACgiB,GAAD,OAAYA,EAAOJ,MAAM7iB,KAAOiM,EAAOC,QAAQlM,MAEjD,GAAI0iB,EAAQthB,SAAWiE,EAAMqd,QAAQthB,OACnC,OAAOiE,EAET,MAAO,CACLqd,QAASA,MAhGgB,eAG1BpX,GAAM4X,iBAiGT,WAGgB,IAFd7d,EAEa,uDAFQmG,GACrBS,EACa,uCACPkX,EAAUlX,EAAOC,QAAQ2W,MAAM7iB,GAC/B+iB,EAAY9W,EAAOC,QAAQ6W,UAFpB,EAGsBK,GACjC/d,EACA8d,EACAJ,GAHMM,EAHK,EAGLA,YAAaC,EAHR,EAGQA,UAMrB,GAA2B,qBAAhBD,EACT,OAAOhe,EAGT,IAAM4d,EAAS5d,EAAMqd,QAAQW,GACvB9F,EAAO0F,EAAO7F,MAAMkG,GAE1B,GAAI/F,EAAKmE,WAAazV,EAAOC,QAAQwV,SACnC,OAAOrc,EAGT,IAAMqd,EAAUxL,KAAO7R,EAAMqd,QAAP,eACnBW,EAAc,CACbE,OADa,SACNN,GACL,IAAM7F,EAAQlG,KAAO+L,EAAO7F,MAAR,eACjBkG,EAAY,CACXE,KAAK,6BAAMjG,GAAP,IAAamE,SAAUzV,EAAOC,QAAQwV,cAGxCA,EAAW+B,GAAwBrG,GACzC,OAAO,6BAAK6F,GAAZ,IAAoBvB,WAAUtE,cAKpC,MAAO,CAAEsF,cAzIkB,eAI1BpX,GAAMoY,kBAwIT,WAGgB,IAFdre,EAEa,uDAFLmG,GACRS,EACa,uCACPkX,EAAUlX,EAAOC,QAAQ2W,MAAM7iB,GAC/B+iB,EAAY9W,EAAOC,QAAQ6W,UAFpB,EAIsBK,GACjC/d,EACA8d,EACAJ,GAHMM,EAJK,EAILA,YAAaC,EAJR,EAIQA,UAMrB,GAA2B,qBAAhBD,EACT,OAAOhe,EAGT,IAAM4d,EAAS5d,EAAMqd,QAAQW,GACvB9F,EAAO0F,EAAO7F,MAAMkG,GAEpBZ,EAAUxL,KAAO7R,EAAMqd,QAAP,eACnBW,EAAc,CACbjG,MAAM,eACHkG,EAAY,CACXE,KAAK,6BAAMjG,GAAP,IAAa5c,MAAOsL,EAAOC,QAAQvL,MAAO+gB,SAAU,SAMhE,MAAO,CAAEgB,cA1KkB,KAS7B,SAASE,GAAgBvd,EAAoBrF,GAC3C,OAAOqF,EAAMqd,QAAQ1J,WAAU,SAACiK,GAAD,OAAYA,EAAOJ,MAAM7iB,KAAOA,KAOjE,SAASojB,GACP/d,EACA8d,EACAJ,GAEA,IAAMM,EAAcT,GAAgBvd,EAAO8d,GAE3C,IAAqB,IAAjBE,EACF,MAAO,GAGT,IACMC,EAhBR,SAAuBlG,EAA6B2F,GAClD,OAAO3F,EAAMpE,WAAU,SAACuE,GAAD,OAAUA,EAAKwF,YAAcA,KAelCY,CADHte,EAAMqd,QAAQW,GACUjG,MAAO2F,GAE9C,OAAsB,IAAfO,EAAmB,GAAK,CAAED,cAAaC,aAGhD,SAASG,GAAwBrG,GAC/B,IAAMwG,EAAaxG,EAAMhc,OAEzB,OAAKwiB,EAIexG,EAAMyG,QAAO,SAACC,EAAKvG,GAAN,OAAeuG,EAAMvG,EAAKmE,WAAU,GAEhDkC,EALZ,EC1DX,IAAMG,GAAW9lB,aAAW,SAACqE,GAAD,MAAmB,CAC7C0hB,YAAa,CACX7lB,MAAOmE,EAAMX,QAAQS,QAAQP,MAE/BoiB,UAAW,CACT9lB,MAAOmE,EAAMX,QAAQhB,MAAMkB,UAmDhBqiB,GA1CmC,SAAC7lB,GACjD,IAAMC,EAAUylB,KACRd,EAAkB5kB,EAAlB4kB,OAAQkB,EAAU9lB,EAAV8lB,MACVjX,EAAWkX,eACXzjB,EAAQghB,GAASsB,GAJoC,EAKnC3V,oBAAS,GAL0B,mBAKpD+W,EALoD,KAK9CC,EAL8C,OAMnCnX,aAAYkX,EAAM,MAAnCE,EANoD,oBAY3D,OAJA5W,qBAAU,WACR2W,EAAQ9C,GAAWyB,MAClB,CAACA,IAEGsB,EACL,cAACpC,GAAA,EAAD,CAAMjc,IAAI,EAAMC,QAAS,CAAEic,MAAO,KAAlC,SACE,eAACoC,GAAA,EAAD,WACE,uBAAMrH,OAAQgH,EAAd,UACuB,IAApBlB,EAAOvB,WAAmB/gB,GACzB,cAACwG,EAAA,EAAD,CAAY1I,UAAWH,EAAQ0lB,YAA/B,SACE,cAAC,KAAD,MAGHrjB,GACC,cAACwG,EAAA,EAAD,CAAY1I,UAAWH,EAAQ2lB,UAA/B,SACE,cAAC,KAAD,SAIN,sBAAM9G,QAASgH,EAAf,SACE,cAAChd,EAAA,EAAD,CACEhJ,MAAO,UACPkJ,QAAS,kBACP6F,EAAS3B,GAASgX,aAAa,CAAEviB,GAAIijB,EAAOJ,MAAM7iB,OAHtD,SAME,cAAC,KAAD,aAKN,MCtDAhC,GAAYC,aAAW,SAACqE,GAAD,MAAmB,CAC9CmiB,SAAU,CACR3lB,WAAY,MACZsE,cAAe,MACfsY,OAAQ,QAEVgJ,UAAW,CACTvmB,MAAOmE,EAAMX,QAAQhB,MAAMkB,KAC3B8iB,SAAU,QAEZC,aAAc,CACZC,WAAY,MACZjd,YAAa,OACbzJ,MAAOmE,EAAMX,QAAQkD,KAAK9C,eAQjB+iB,GAAwC,SAACzmB,GAAW,IACvD4kB,EAAW5kB,EAAX4kB,OACF3kB,EAAUN,KACV2C,EAAQghB,GAASsB,GAHuC,EAI5B3V,oBAAS,GAJmB,mBAIvDyX,EAJuD,KAI5CC,EAJ4C,KAM9D,OACE,qCACE,cAACpa,GAAA,EAAD,CACEhM,MACE+B,EAAQ,gEAA4D,GAEtEskB,UAAW,OACXC,sBAAsB,EACtBC,sBAAsB,EANxB,SAQE,eAACC,GAAA,EAAD,CACE3mB,UAAWH,EAAQmmB,SACnBY,QAAM,EACNC,YAAa,kBAAMN,GAAa,IAChCO,aAAc,kBAAMP,GAAa,IAJnC,UAME,cAACQ,GAAA,EAAD,CAAc/mB,UAAWH,EAAQomB,UAAjC,SACE,cAAC,KAAD,MAEF,cAACe,GAAA,EAAD,CACEhnB,UAAWH,EAAQsmB,aACnBhjB,QACE,cAACpD,EAAA,EAAD,CAAY4iB,QAAQ,EAAMziB,QAAS,YAAaR,MAAO,UAAvD,SACG8kB,EAAOJ,MAAMjkB,UAIpB,cAAC,GAAD,CAAgB0V,KAAM,GAAI4N,aAAce,IACxC,cAAC,GAAD,CAAcA,OAAQA,EAAQkB,MAAOY,SAGzC,cAACW,GAAA,EAAD,CAAShnB,UAAW,WCtDpBV,GAAYC,aAAW,SAACqE,GAAD,MAAmB,CAC9CqjB,KAAM,CACJxb,MAAO,KAETyb,eAAgB,CACd3Q,QAAS,mBACTlS,gBAAiBT,EAAMX,QAAQC,QAAQC,MAEzCjD,MAAO,CACLinB,WAAY,OACZ1nB,MAAOmE,EAAMX,QAAQC,QAAQE,cAE/BgkB,MAAO,CACLjB,WAAY,kBACZ1mB,MAAOmE,EAAMX,QAAQC,QAAQE,cAE/BikB,OAAQ,CACN7V,UAAW,eACX8V,WAAY1jB,EAAM2jB,YAAY3kB,OAAO,YAAa,CAChD4kB,SAAU5jB,EAAM2jB,YAAYC,SAASC,YAGzCC,WAAY,CACVlW,UAAW,iBACX8V,WAAY1jB,EAAM2jB,YAAY3kB,OAAO,YAAa,CAChD4kB,SAAU5jB,EAAM2jB,YAAYC,SAASC,YAGzCvT,KAAM,CACJ9T,WAAY,EACZsE,cAAe,OAuDJijB,GA/CQ/e,cACrB,SAACjJ,EAAO+H,GAAS,IACPpG,EAAO3B,EAAP2B,GACF1B,EAAUN,KACRsoB,EAAkBlU,eAAlBkU,cAHM,EAIkBhZ,oBAAkB,GAJpC,mBAIPiZ,EAJO,KAIGC,EAJH,KAMR9D,EAAU+D,cACd,SAACphB,GAAD,OAAWA,EAAM4d,OAAOP,WAGpBgE,ELpEH,SAAyBhE,GAC9B,OAAOA,EAAQzhB,QAAO,SAACgiB,GAAD,OAAazB,GAAWyB,MAAS7hB,OKmE7BulB,CAAgBjE,GAExC,OACE,eAACkE,GAAA,EAAD,CAAMxgB,IAAKA,EAAK3H,UAAWH,EAAQqnB,KAAnC,UACE,eAACkB,GAAA,EAAD,CAAavoB,QAAS,CAAEuE,KAAMvE,EAAQsnB,gBAAtC,UACE,eAACpnB,EAAA,EAAD,CAAYG,QAAS,YAAaF,UAAWH,EAAQM,MAArD,iCACuB8nB,EADvB,kBAGA,sBAAKjoB,UAAWH,EAAQwnB,MAAxB,UACE,cAAC3e,EAAA,EAAD,CACEhJ,MAAO,UACPkJ,QAAS,kBAAMmf,GAAaD,IAF9B,SAIE,cAAC,KAAD,CACE9nB,UAAWqoB,KAAWxoB,EAAQynB,OAAT,eAClBznB,EAAQ8nB,YAAcG,QAI7B,cAACpf,EAAA,EAAD,CAAYhJ,MAAO,UAAWkJ,QAAS,kBAAMif,EAActmB,IAA3D,SACE,cAAC,KAAD,YAIN,cAAC+mB,GAAA,EAAD,CAAU7gB,GAAIqgB,EAAd,SACE,cAACS,GAAA,EAAD,CAAMvoB,UAAWH,EAAQsU,KAAzB,SACG8P,EAAQrY,KAAI,SAAC4Y,EAAgB/Y,GAAjB,OACX,cAAC,GAAD,CAAsB+Y,OAAQA,GAAb/Y,gBCnDzBlM,GAAYC,MAAW,SAACqE,GAAD,MAAmB,CAC9C2kB,WAAY,CACVrL,aAAc,MACd7Y,gBAAiB,UACjByR,OAAQlS,EAAMmS,QAAQ,EAAG,IAE3ByS,WAAY,CACVtL,aAAc,MACd7Y,gBAAiB,WAEnBokB,kBAAmB,CACjB/jB,cAAed,EAAMmS,QAAQ,GAAK,qBAIhCqB,GAAmB9F,OAAaC,MAAM,CAC1CrR,MAAOoR,OAAa3L,MAAM,aAAU0J,WAAWG,IAAI,KACnDkZ,YAAapX,OAAa3L,MAAM,WAAW0J,WAC3CsZ,cAAerX,OAAa3L,MAAM,wBAAqB0J,WAAWI,IAAI,GACtE+X,SAAUlW,OAAa3L,MAAM,iBAAW0J,WAAWI,IAAI,GACvD8N,OAAQjM,OAAa3L,MAAM,uBAAiB0J,WAC5CoS,OAAQnQ,OAEL3L,MAAM,cACN0J,WACAuZ,KAAK,CACJ7P,QACE,4EACF6P,KAHI,SAGC5iB,GAAa,IAAD,OACf,OAAOA,EAAM6iB,OACX,SAACC,GAAD,OAGe,IAFbA,EAAElN,WAAWrZ,QAAO,SAACmf,GAAD,OAClB,EAAKqH,OAAOnN,WAAWjQ,KAAI,SAAC4O,GAAD,OAAOA,EAAEjZ,MAAIgP,SAASoR,EAAIpgB,OACrDoB,aAIZkZ,WAAYtK,OAAY3L,MAAM,cAAc0J,WAC5C2Z,aAAc1X,OAAY3L,MAAM,qBAAqB0J,aAGjD4Z,GAAa5mB,OAAO8U,KAAK4C,IA0XhBmP,GAzXD,WAAO,IAAD,EAWd5R,aAUH,CACCC,SAAUC,aAAYJ,IACtBK,cAAe,CACb8F,OAAQ,GACR4L,QAAQ,EACR1H,OAAQ,GACR7F,WAAY,GACZoN,aAAc,MA1BhBrR,EAFgB,EAEhBA,SACAG,EAHgB,EAGhBA,aACAF,EAJgB,EAIhBA,UACAC,EALgB,EAKhBA,SACAE,EANgB,EAMhBA,MACAlN,EAPgB,EAOhBA,MACAoM,EARgB,EAQhBA,OACAe,EATgB,EAShBA,QACAC,EAVgB,EAUhBA,UAsBFlB,GAAqBkB,EAAUjB,YAAaC,GAhC1B,IAkCV3V,EAAY4W,eAAZ5W,GACAmS,EAAoBC,eAApBD,gBACFxF,EAAUC,eApCE,EAqCQU,mBAAuB,MArC/B,mBAqCXuV,EArCW,KAqCJiF,EArCI,KAsCZvd,EAAUiI,qBAAWjC,IACrBjO,EAAQ4F,eACR6f,EAAc3f,aAAc9F,EAAM+F,YAAY2f,GAAG,OACjDC,EAAgB3V,mBAChB4V,EAAgB5V,mBAChB6V,EAAY7V,mBACZ8V,EAAY9V,iBAChB+V,qBACEV,GACAA,GAAWtd,KAAI,kBAAMie,2BAMnBpb,EAAWkX,eAEXmE,EAAYxI,uBAChB,SAAC9f,GACCc,OAAO8U,KAAKuS,EAAU1Z,SAAS1E,SAAQ,SAACwe,GAAD,OACrCJ,EAAU1Z,QAAQ8Z,GAAO9Z,QAAQiP,WAEnCsK,EAAcvZ,QAAQiP,QACtBuK,EAAcxZ,QAAQiP,QACtBwK,EAAUzZ,QAAQiP,QAClBpU,EAAMtJ,KAER,CAACgoB,EAAeC,EAAeC,EAAWC,EAAW7e,IAjErC,SAkGHyN,EAlGG,gFAkGlB,WAAwBC,EAAUxS,GAAlC,qBAAAkO,EAAA,6DACQzS,EAAWoK,gBAAK2M,EAAD,uBAChB0Q,IADgB,CAEnB,eACA,SACA,iBAEM,gBAAsB1Q,EAAQ,aAAiB5M,KACrD,SAACoe,GAAD,OAAiBA,EAAYzoB,MAE/BE,EAAQ,UAAgB+W,EAAQ,OAAW5M,KAAI,SAACuQ,GAAD,OAAWA,EAAM5a,MAChEE,EAAQ,cAAoB+W,EAAQ,WAAe5M,KACjD,SAACwM,GAAD,OAAcA,EAAS7W,MAZ3B,SAgBUf,EAAQ4jB,EAEVpH,GAAUvE,OAAO2L,EAAM7iB,GAAIE,GAD3Bub,GAAUna,OAAOpB,GAjBzB,SAmB2BjB,EAnB3B,gBAmBYgB,EAnBZ,EAmBYA,KACRkS,EAAgB,8BAA4B,CAAExT,QAAS,YACvD+pB,EAAYzoB,EAAKA,MACjBD,GAAMuoB,EAAU1F,GAEhBpe,EACIzE,EACE2M,EAAQyC,QAAR,kBAA2BnP,EAAKA,KAAKD,GAArC,UACA2M,EAAQmD,KAAR,kBAAwB7P,EAAKA,KAAKD,GAAlC,UACF2M,EAAQmD,KAAK,WA5BrB,kDA8BIiD,QAAQC,IAAR,MACAhT,GAAMuoB,EAAU1F,GAChB1Q,EAAgB,qDAA0C,CACxDxT,QAAS,UAjCf,2DAlGkB,sBAwIlB,SAAS+pB,EAAY7F,GACnB,IAAMzF,EAAoBuK,GACvB1mB,QAAO,SAACsc,GAAD,OAAUjH,IAAYiH,MAC7BlT,KAAI,SAAC0Y,GAAD,MAAgB,CACnBA,YACAxF,KAAMjH,IAAYyM,OAGjB3F,EAAMhc,SAIX8L,EAAS3B,GAAS+W,UAAU,CAAEO,QAAOzF,WAErCjL,EAAgB,GAAI,CAClBjI,IAAK,kBACLye,SAAS,EACTC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,QAAS,SAAC7e,EAAKuN,GACb,IAAMzX,EAAKkK,EACX,OAAO,cAAC,GAAD,CAAgBlK,GAAIA,QA3FjC2N,qBAAU,WACR,CACE,SACA,SACA,SACA,aACA,gBALF,oBAMKga,KACH3d,SAAQ,SAACnC,GAAD,OAAUwO,EAAS,CAAExO,KAAMA,SACpC,CAACwO,IAEJ1I,qBAAU,WACH3N,GAIL,uCAAC,8BAAA2S,EAAA,+EAE0B8I,GAAU1b,IAAIC,GAFxC,gBAEWC,EAFX,EAEWA,KACR6nB,EAAS7nB,EAAKA,MACdsJ,EAAMtJ,EAAKA,MAJd,gDAMG8S,QAAQC,IAAR,MACAb,EAAgB,uDAA4C,CAC1DxT,QAAS,UARd,yDAAD,yDAYC,CAACwT,EAAiBnS,EAAIuJ,IA0EzB,IAAMjL,EAAUN,KAChB,OACE,eAAC,GAAD,CAAaoX,cAAe,CAAEgC,GAAI,IAAMJ,SAAUR,EAAaQ,GAA/D,UACE,eAAC1B,GAAA,EAAD,CAAMC,WAAS,EAACd,QAAS,EAAzB,UACE,eAACa,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,GAAIC,GAAI,EAAvB,UACE,cAAC9Q,GAAA,EAAD,CACEsB,KAAM,QACNxD,MAAO,YACP1F,QAAS,WACTmI,WAAS,EACTC,SAAUsP,EACVzB,SAAUrK,EACV+M,gBAAiB,CAAEC,QAAQ,GAC3B5W,WAAiCyE,IAAzBuQ,EAAe/W,MACvB4Y,WAAa7B,EAAe/W,OAAU+W,EAAe/W,MAAM6Y,UAG7D,cAAClR,GAAA,EAAD,CACEsB,KAAM,cACNxD,MAAO,UACPqT,WAAS,EACTC,KAAK,IACLnD,OAAO,SACP7V,QAAS,WACTmI,WAAS,EACTC,SAAUsP,EACVzB,SAAUrK,EACV+M,gBAAiB,CAAEC,QAAQ,GAC3B5W,WAAuCyE,IAA/BuQ,EAAeyR,YACvB5P,WACG7B,EAAeyR,aAAgBzR,EAAeyR,YAAY3P,UAI/D,eAACnC,GAAA,EAAD,CAAMC,WAAS,EAACd,QAAS,EAAzB,UACE,cAACa,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,EAAf,SACE,cAAC7Q,GAAA,EAAD,CACEsB,KAAM,gBACNxD,MAAO,uBACP0Q,KAAM,SACNP,OAAO,SACP7V,QAAS,WACTmI,WAAS,EACTC,SAAUsP,EACVzB,SAAUrK,EACV+M,gBAAiB,CAAEC,QAAQ,GAC3B5W,WAAyCyE,IAAjCuQ,EAAe0R,cACvB7P,WACG7B,EAAe0R,eACf1R,EAAe0R,cAAc5P,YAKpC,cAACnC,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,EAAf,SACE,cAAC7Q,GAAA,EAAD,CACEsB,KAAM,WACNxD,MAAO,kBACP0Q,KAAM,SACNP,OAAO,SACP7V,QAAS,WACTmI,WAAS,EACTC,SAAUsP,EACVzB,SAAUrK,EACV+M,gBAAiB,CAAEC,QAAQ,GAC3B5W,WAAoCyE,IAA5BuQ,EAAeuQ,SACvB1O,WACG7B,EAAeuQ,UAAavQ,EAAeuQ,SAASzO,eAM7D,cAAC4J,GAAD,CACEjb,IAAK6hB,EACLtnB,MAAOgV,EAAO+R,aACdpG,YAAa7K,EAAM,gBACnB8K,eAAgB,SAAC7c,GAAD,OACd6R,EAAS,eAAgB7R,EAAO,CAAEskB,gBAAgB,KAEpDpU,SAAUrK,IAGZ,uBACA,eAAC+K,GAAA,EAAD,CAAMC,WAAS,EAACd,QAAS,EAAzB,UACE,cAACa,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,GAAIC,GAAI,EAAvB,SACE,cAAC,GAAD,CACEjR,IAAK+hB,EACLxnB,MAAOgV,EAAOwK,OACdA,OAAQ1J,EAAM,UACd6D,WAAY7D,EAAM,cAClB6J,UAAW,SAAC5b,GAAD,OACT6R,EAAS,SAAU7R,EAAO,CAAEskB,gBAAgB,KAE9C3O,cAAe,SAAC3V,GAAD,OACb6R,EAAS,aAAc7R,EAAO,CAAEskB,gBAAgB,KAElDpU,SAAUrK,MAGd,cAAC+K,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,GAAIC,GAAI,EAAvB,SACE,cAAC,GAAD,CACEjR,IAAK8hB,EACLvnB,MAAOgV,EAAO2E,WACdA,WAAY7D,EAAM,cAClB4D,cAAe,SAAC4O,GAAD,OACb1S,EAAS,aAAc0S,EAAM,CAAED,gBAAgB,KAEjD7I,OAAQ1J,EAAM,UACd7B,SAAUrK,SAKhB,0BAEF,eAAC+K,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,GAAIC,GAAI,EAAvB,UACE,cAAC,GAAD,CACE3S,MAAO+R,EAAM,UAAY,GACzBF,SAAU,SAAC7R,GAAD,OACR6R,EAAS,SAAU7R,EAAO,CAAEskB,gBAAgB,KAE9CroB,MAAOgV,EAAOsG,OACdrH,SAAUrK,EACV6R,iBAAkB,CAAE5H,OAAQuT,EAAc,OAAS,YAErD,cAACnB,GAAA,EAAD,CAAMnoB,UAAWH,EAAQ2oB,WAAzB,SACE,eAACiC,GAAA,EAAD,WACE,cAAC1qB,EAAA,EAAD,CAAYL,MAAO,UAAWQ,QAAS,KAAvC,qBAIA,cAACif,GAAD,CACExX,IAAKgiB,EAAU1Z,QAAV,WACLrK,MAAO,QACPwZ,OAAQ,UACRtH,SAAU,SAAC7R,GAAD,OAAW6R,EAAS,aAAc7R,IAC5C/D,MAAO,KACPiU,SAAUrK,IAGZ,cAACqT,GAAD,CACExX,IAAKgiB,EAAU1Z,QAAV,YACLrK,MAAO,SACPwZ,OAAQ,UACRtH,SAAU,SAAC7R,GAAD,OAAW6R,EAAS,cAAe7R,IAC7C/D,MAAO,KACPiU,SAAUrK,SAIhB,cAACqc,GAAA,EAAD,CAAMnoB,UAAWH,EAAQ2oB,WAAzB,SACE,eAACiC,GAAA,EAAD,WACE,cAAC1qB,EAAA,EAAD,CAAYL,MAAO,UAAWQ,QAAS,KAAvC,uBAGA,cAACif,GAAD,CACExX,IAAKgiB,EAAU1Z,QAAV,aACLrK,MAAO,UACPwZ,OAAQ,YACRtH,SAAU,SAAC7R,GAAD,OAAW6R,EAAS,eAAgB7R,IAC9C/D,MAAO,KACPiU,SAAUrK,IAGZ,cAACqT,GAAD,CACExX,IAAKgiB,EAAU1Z,QAAV,WACLrK,MAAO,WACPwZ,OAAQ,YACRtH,SAAU,SAAC7R,GAAD,OAAW6R,EAAS,aAAc7R,IAC5C/D,MAAO,KACPiU,SAAUrK,SAKhB,cAACqc,GAAA,EAAD,CAAMnoB,UAAWH,EAAQ4oB,WAAzB,SACE,cAACgC,GAAA,EAAD,CAAazqB,UAAWH,EAAQ6oB,kBAAhC,SACE,cAACvP,GAAA,EAAD,CACEC,QACE,cAACC,GAAA,EAAD,CACEjQ,KAAM,SACN1J,MAAO,UACP0I,SAAU,WACR0P,EAAS,UAAWD,IAAS,SAE/ByB,QAAStB,EAAM,UACf7B,SAAUrK,IAGdlG,MACE,cAAC7F,EAAA,EAAD,CAAYL,MAAM,UAAUQ,QAAQ,YAApC,sFAIFqZ,eAAgB,kBAO1B,cAAC,GAAD,CAAenD,iBAAiB,EAAOC,WAhN3C,WACE4B,IAAUuB,MAAK,SAACC,GACdA,GAAWlB,EAASV,IAAa,gBCjPxB6B,GATE,WAAO,IACZnY,EAAY4W,eAAZ5W,GACR,OACI,cAAC,EAAD,CAAMpB,MAAQoB,EAAqB,kBAAhB,iBAAnB,SACI,cAAC,GAAD,OCOGmpB,GAPG,SAAC9qB,GACf,OACI,cAAC,EAAD,CAAMO,MAAM,c,8BCKdZ,I,OAAYC,MAAW,SAACqE,GAC5B,MAAO,CACL0hB,YAAa,CACX7lB,MAAOmE,EAAMX,QAAQS,QAAQP,KAC7BgjB,WAAYviB,EAAMmS,QAAQ,IAE5BwP,UAAW,CACT9lB,MAAOmE,EAAMX,QAAQhB,MAAMkB,KAC3BgjB,WAAYviB,EAAMmS,QAAQ,IAE5B2U,QAAS,CACP1N,OAAQ,OACRmJ,WAAYviB,EAAMmS,QAAQ,GAC1B7M,YAAatF,EAAMmS,QAAQ,SAoDlByP,GA3CmC,SAAC7lB,GAAW,IACpD6jB,EAAiB7jB,EAAjB6jB,aACF5jB,EAAUN,KACVkP,EAAWkX,eACXzjB,EAAQghB,GAASO,GAJoC,EAKnC5U,oBAAS,GAL0B,mBAKpD+W,EALoD,KAK9CC,EAL8C,OAMnCnX,aAAYkX,EAAM,MAAnCE,EANoD,oBAOrDpB,EAAWjB,EAAqBW,MACjCX,EAAqBW,MAAM7iB,GAC5B,GACEqpB,EAAgBzH,GAAaM,GAMnC,OAJAvU,qBAAU,WACR2W,EAAQ9C,GAAWU,MAClB,CAACA,IAEGqC,EACL,cAACpC,GAAA,EAAD,CAAMjc,IAAI,EAAMC,QAAS,CAAEic,MAAO,KAAlC,SACE,qCAC6B,IAA1BF,EAAaR,WAAmB/gB,GAC/B,cAAC,KAAD,CAAiBlC,UAAWH,EAAQ0lB,cAErCrjB,GAAS,cAAC,KAAD,CAAWlC,UAAWH,EAAQ2lB,YAEvCoF,GACC,qCACE,cAAC3D,GAAA,EAAD,CAASjnB,UAAWH,EAAQ8qB,QAASE,YAAa,aAClD,cAACniB,EAAA,EAAD,CACEE,QAAS,kBAAM6F,EAAS3B,GAASgX,aAAa,CAAEviB,GAAImjB,MADtD,SAGE,cAAC,KAAD,CAAYhlB,MAAO,cAGrB,cAACgJ,EAAA,EAAD,CAAYzI,UAAWsT,IAAMC,GAAE,kBAAakR,EAAb,SAA/B,SACE,cAAC,KAAD,CAAUhlB,MAAO,sBAMzB,MCpEAH,GAAYC,aAAW,SAACqE,GAC5B,MAAO,CACLinB,UAAW,CACT9hB,QAAS,OACTtJ,MAAO,WAET6E,KAAM,CACJ7E,MAAOmE,EAAMX,QAAQhB,MAAMkB,KAC3B8iB,SAAU,YA6CDG,GApC+B,SAACzmB,GAAW,IAChD6jB,EAAiB7jB,EAAjB6jB,aACF5jB,EAAUN,KAShB,OACE,cAAConB,GAAA,EAAD,UACE,eAAC9P,GAAA,EAAD,CAAMC,WAAS,EAAChS,WAAY,SAA5B,UACE,eAAC+R,GAAA,EAAD,CAAM7W,UAAWH,EAAQirB,UAAW/T,MAAI,EAAC4B,GAAI,GAAIC,GAAI,EAArD,UARK,cAAC,KAAD,CAAW5Y,UAAWH,EAAQ0E,OAWjC,cAACxE,EAAA,EAAD,CAAYL,MAAO,UAAnB,SAA+BE,EAAMU,cAGvC,cAACuW,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,GAAIC,GAAI,EAAvB,SACE,eAAC/B,GAAA,EAAD,CACEC,WAAS,EACTxG,UAAW,MACXxL,WAAY,SACZimB,QAAS,WAJX,UAME,cAAC,GAAD,CAAgBlV,KAAM,GAAI4N,aAAcA,IACxC,cAAC,GAAD,CAAcA,aAAcA,eClClClkB,GAAYC,aAAW,SAACqE,GAC5B,MAAO,CACLmnB,aAAc,CACZ1mB,gBAAiBT,EAAMX,QAAQC,QAAQC,KACvC1D,MAAOmE,EAAMX,QAAQC,QAAQE,cAE/B4nB,aAAc,CACZvrB,MAAOmE,EAAMX,QAAQC,QAAQE,kBC0FpB6nB,GApGgB,CAC3B,CACI9hB,KAAM,YACNxD,MAAO,YACPulB,KAAM,IACNlrB,UAAWyqB,GACXU,OAAO,GAEX,CACIhiB,KAAM,kBACNxD,MAAO,aACPulB,KAAM,cACNlrB,UAAWorB,GACXD,OAAO,GAEX,CACIhiB,KAAM,oBACNxD,MAAO,kBACPulB,KAAM,qBACNlrB,UAAWqrB,GACXF,OAAO,GAEX,CACIhiB,KAAM,kBACNxD,MAAO,mBACPulB,KAAM,uBACNlrB,UAAWqrB,GACXF,OAAO,GAEX,CACIhiB,KAAM,oBACNxD,MAAO,qBACPulB,KAAM,gBACNlrB,UAAWsrB,GACXH,OAAO,GAEX,CACIhiB,KAAM,sBACNxD,MAAO,yBACPulB,KAAM,uBACNlrB,UAAWurB,GACXJ,OAAO,GAEX,CACIhiB,KAAM,oBACNxD,MAAO,4BACPulB,KAAM,yBACNlrB,UAAWurB,GACXJ,OAAO,GAEX,CACIhiB,KAAM,cACNxD,MAAO,aACPulB,KAAM,UACNlrB,UAAWwrB,GACXL,OAAO,GAEX,CACIhiB,KAAM,gBACNxD,MAAO,kBACPulB,KAAM,iBACNlrB,UAAWyrB,GACXN,OAAO,GAEX,CACIhiB,KAAM,cACNxD,MAAO,oBACPulB,KAAM,mBACNlrB,UAAWyrB,GACXN,OAAO,GAEX,CACIhiB,KAAM,cACNxD,MAAO,SACPulB,KAAM,UACNlrB,UAAW0rB,GACXP,OAAO,GAEX,CACIhiB,KAAM,gBACNxD,MAAO,eACPulB,KAAM,iBACNlrB,UAAW2rB,GACXR,OAAO,GAEX,CACIhiB,KAAM,cACNxD,MAAO,gBACPulB,KAAM,mBACNlrB,UAAW2rB,GACXR,OAAO,GAEX,CACIhiB,KAAM,UACNxD,MAAO,UACPulB,KAAM,WACNlrB,UD/EgC,SAACL,GACvC,IAAMC,EAAUN,KAEV0kB,EAAU+D,cACd,SAACphB,GAAD,OAAWA,EAAM4d,OAAOP,WAG1B,OACE,cAAC,EAAD,CAAM9jB,MAAO,UAAb,SACG8jB,EAAQrY,KAAI,SAAC4Y,EAAQ/Y,GAAT,OACX,cAAC0c,GAAA,EAAD,CAAM0D,UAAW,EAAjB,SACE,eAACpB,GAAA,EAAD,WACE,cAAC,GAAD,CAAYhH,aAAce,EAA1B,SAAmCA,EAAOJ,MAAMjkB,QAChD,eAAC2rB,GAAA,EAAD,CAAgBvO,MAAO,CAAExH,OAAQ,GAAjC,UACE,cAACgW,GAAA,EAAD,CACE/rB,UAAWH,EAAQmrB,aACnBgB,WAAY,cAAC,KAAD,CAAgBhsB,UAAWH,EAAQorB,eAFjD,SAIE,cAAClrB,EAAA,EAAD,8BAEF,cAACksB,GAAA,EAAD,CAAuB1O,MAAO,CAAE/G,QAAS,OAAzC,SACE,cAACK,GAAA,EAAD,CAAME,MAAI,EAAC4B,GAAI,GAAf,SACE,cAAC4P,GAAA,EAAD,CAAM2D,OAAO,EAAM3O,MAAO,CAAE/G,QAAS,OAArC,SACGgO,EAAO7F,MAAM/S,KAAI,SAACkT,EAAMrT,GAAP,OAChB,eAAC,WAAD,WACE,cAACwb,GAAA,EAAD,IACA,cAAC,GAAD,CAAYxD,aAAc3E,EAA1B,mBACM9E,GAAmB8E,EAAKwF,WAD9B,cAEIxF,EAAKf,cAJUtS,mBAdVA,SCsEzB2f,OAAO,IC5GTe,GAAa,CACf,YACA,kBACA,oBACA,cACA,cACA,WAGSC,GAAkB,WAE3B,IAAMC,EAAanB,GAAO1oB,QAAO,SAAA8pB,GAAK,OAAIH,GAAW5b,SAAS+b,EAAMljB,SAFnC,EAGDP,IAAMgG,SAAS,MAHd,mBAG1B0d,EAH0B,KAGhBC,EAHgB,KAI3Bva,EAAOwa,QAAQF,GAGfra,EAAc,kBAAMsa,EAAY,OAEtC,OACI,qCACI,cAAC9jB,EAAA,EAAD,CACIhJ,MAAM,UACNgtB,KAAK,QACLC,aAAY,cACZC,gBAAc,cACdC,gBAAc,OACdjkB,QAXO,SAAC5C,GAAD,OAAewmB,EAAYxmB,EAAM8mB,gBAK5C,SAQA,cAAC,IAAD,MAEA,cAAC,IAAD,CACIvrB,GAAG,cACH0Q,KAAMA,EACNsa,SAAWA,EACXna,QAASF,EACTiY,aAAc,CAACC,SAAU,SAAUC,WAAY,UAC/C0C,gBAAiB,CAAC3C,SAAU,MAAOC,WAAY,UAC/C2C,mBAAoB,KAPxB,SAUQb,GAAWvgB,KACP,SAACqhB,EAAWxhB,GACR,IAAM6gB,EAAQD,EAAWrL,MAAK,SAAAsL,GAAK,OAAIA,EAAMljB,OAAS6jB,KACtD,OACI,cAAClQ,EAAA,EAAD,CAEI9c,UAAWsT,IACXC,GAAI8Y,EAAMnB,KACVviB,QAASsJ,EAJb,SAMKoa,EAAM1mB,OALF6F,YC7CnClM,GAAYC,aAAY,SAACqE,GAAD,MAAmB,CAC7CqE,QAAS,CACL5D,gBAAiB,WAErBnE,MAAO,CACH+sB,SAAU,EACVC,UAAW,UAEfC,KAAK,aACD1hB,MAAO,KACN7H,EAAM+F,YAAY2f,GAAG,MAAO,CACzB7d,MAAO,UAKN2hB,GAAmB,WAC5B,IAAMxtB,EAAUN,KAChB,OACI,cAAC+tB,EAAA,EAAD,UACI,eAACC,EAAA,EAAD,CAASvtB,UAAWH,EAAQqI,QAA5B,UACI,cAAC,GAAD,IACA,cAACnI,EAAA,EAAD,CAAYC,UAAWH,EAAQM,MAA/B,SACI,qBAAKqtB,IC7BV,i+ID6BqBC,IAAI,WAAWztB,UAAWH,EAAQutB,SAEtD,cAAC3a,EAAA,EAAD,CAAQ/S,MAAM,UAAd,yB,UEPDguB,GAnBG,WACd,OACI,cAAC,KAAD,UAEQxC,GAAOtf,KACH,SAAC0gB,EAAO7gB,GAAR,OACI,cAAC,KAAD,CAEI0f,KAAMmB,EAAMnB,KACZlrB,UAAWqsB,EAAMrsB,UACjBmrB,OAAuB,IAAhBkB,EAAMlB,OAHR3f,S,yCCA3BkiB,GAA+C,CACnD,SAAU,QACV,mBAAoB,YACpB,SAAU,QACV,QAAS,OACT,UAAW,UAGbzC,GAAO3f,SACL,SAAC+gB,GAAD,OAAYqB,GAAkBrB,EAAMnB,MAAkBmB,EAAM1mB,SAG9D,IAAMrG,GAAYC,aAAW,SAACqE,GAAD,OAC3Byc,aAAa,CACXsN,WAAY,CACVluB,MAAOmE,EAAMX,QAAQI,UAAUF,KAC/B,oBAAqB,CACjB1D,MAAOmE,EAAMX,QAAQI,UAAUF,MAEnC,UAAY,CACR1D,MAAOmE,EAAMX,QAAQI,UAAUC,YAWnCsqB,GAAa,SAACjuB,GAAD,OACjB,cAAC2T,GAAA,EAAD,6BAAU3T,GAAV,IAAiBK,UAAW6tB,QAGf,SAASC,KACtB,IAAMluB,EAAUN,KAuChB,OACE,cAACO,EAAA,EAAD,UACE,cAACM,EAAA,EAAD,CAAKgN,IAAK,MAAO/M,WAAY,EAAGsE,cAAe,EAA/C,SACE,cAAC,KAAD,UACG,mBAzCT,SAAwBkM,GACtB,IAAMmd,EAAYnd,EAASD,SAASkL,MAAM,KAAKtZ,QAAO,SAACyrB,GAAD,OAAOA,KAG7D,OAFAD,EAAU9M,QAAQ,KAGhB,eAAC,KAAD,CAAgByL,aAAW,aAA3B,UACE,cAAC,GAAD,CAAYjtB,MAAM,UAAU8T,GAAG,IAA/B,kBAGCwa,EAAUpiB,KAAI,SAAC3F,EAAO0O,GACrB,IAAMuZ,EAAOvZ,IAAUqZ,EAAUrrB,OAAS,EACpC6Q,EAAE,UAAMwa,EACXG,MAAM,EAAGxZ,EAAQ,GACjBC,KAAK,KACLjE,QAAQ,KAAM,MACX2b,EAAQhqB,OAAO8U,KAAKuW,IAAmB3M,MAAK,SAACmK,GAAD,OAChD,IAAIiD,KAAYjD,GAAMkD,MAAM7a,MAG9B,YAAc7M,IAAV2lB,IAIG4B,EACL,cAACnuB,EAAA,EAAD,CAAYL,MAAM,cAAlB,SACGiuB,GAAkBrB,IADgB9Y,GAIrC,cAAC,GAAD,CAAY9T,MAAM,UAAU8T,GAAIA,EAAaxT,UAAWH,EAAQ+tB,WAAhE,SACGD,GAAkBrB,IADoB9Y,UAaA8a,CAA1C,EAAGzd,iBCnFd,IAAMtR,GAAYC,aAAW,SAACqE,GAC5B,MAAO,CACL0qB,eAAgB,CACdjqB,gBAAiBT,EAAMX,QAAQS,QAAQP,MAEzCorB,aAAc,CACZlqB,gBAAiBT,EAAMX,QAAQhB,MAAMkB,MAEvCqrB,YAAa,CACXnqB,gBAAiBT,EAAMX,QAAQC,QAAQC,UAKhCsrB,GAAoD,SAAC9uB,GAChE,IAAI+uB,EAEEC,EAAsC,CAC1C/uB,QAFcN,KAGdsvB,iBAAkB,IAClBC,SAAU,EACV3E,aAAc,CACZE,WAAY,QACZD,SAAU,OAEZ9pB,SAAUuI,gBAAoB,OAC9BlB,IAAK,SAAClF,GAAD,OAASksB,EAAsBlsB,GACpC+K,OAAQ,SAAC/B,GAAD,OACN,cAAC/C,EAAA,EAAD,CACEhJ,MAAO,UACP6d,MAAO,CAAEL,SAAU,IACnBtU,QAAS,kBAAM+lB,EAAoB9G,cAAcpc,IAHnD,SAKE,cAAC,KAAD,QAIAJ,EAAQ,6BAAQujB,GAAiBhvB,GACvC,OAAO,cAAC,KAAD,6BAAuByL,GAAvB,aAAkCzL,EAAMU,a,UCxCjD,SAASyuB,GAAelrB,GACtB,OAAO,6BACFA,GADL,IAEEX,QAAQ,6BACHW,EAAMX,SADJ,IAELC,QAASU,EAAMX,QAAQhB,MACvBoU,KAAM,WAOZ,IAiBe0Y,GAjByB,SAACpvB,GACvC,IAAMkM,EAAUiI,qBAAWjC,IAC3B,OACE,cAAC,IAAD,CAAkBjO,MAAOkrB,GAAzB,SACE,cAACrL,GAAA,EAAD,CAAMjc,GAAIqE,EAASpE,QAAS,CAAEkc,KAAM,KAApC,SACE,cAACqL,GAAA,EAAD,CACE1R,MAAO,CACLe,SAAU,QACV5S,MAAO,OACPwjB,OAAQ,aClBPC,GAAkB,SAACvvB,GAAW,IAAD,EACViP,oBAAS,GADC,mBACjC/C,EADiC,KACxBwM,EADwB,OAEAzJ,mBAAS,GAFT,mBAEjCugB,EAFiC,KAEnBC,EAFmB,KAyDxC,SAASC,IACPD,GAAgB,SAACpoB,GAAD,OAAeA,EAAY,KAG7C,OAzDAsoB,mBAAQ,WACN,IAAIhT,GAAe,EACbiT,EnERH,SACLC,EAGAC,GAEA,IADA,EACMhb,EAAgB,GADtB,cAEc1R,GAFd,IAEA,2BAAyB,CAAC,IAClBzB,EADiB,QACVouB,aAAapO,QAAQqO,IAAIH,EAAaC,GACnDhb,EAAIrD,KAAK9P,IAJX,8BAMA,OAAOmT,EmEHemb,EAA4B,SAAC5uB,GAS/C,OAPEsb,GACAtb,EAAO6uB,UACN7uB,EAAO6uB,QAAQC,eAAe,sBAE/BzX,GAAW,GACX+W,GAAgB,SAACpoB,GAAD,OAAeA,EAAY,MAEtChG,KAGH+uB,EnEAH,SACLP,EAGAC,GAEA,IADA,EACMhb,EAAgB,GADtB,cAEc1R,GAFd,IAEA,2BAAyB,CAAC,IAClBzB,EADiB,QACVouB,aAAaM,SAASL,IAAIH,EAAaC,GACpDhb,EAAIrD,KAAK9P,IAJX,8BAMA,OAAOmT,EmEXewb,EAClB,SAACD,GAQC,OANE1T,GACA0T,EAAShvB,SACRgvB,EAAShvB,OAAO6uB,QAAQC,eAAe,qBAExCT,IAEKW,KAET,SAAC/tB,GAQC,OANEqa,GACEra,EAAMjB,QACLiB,EAAMjB,OAAO6uB,QAAQC,eAAe,qBAEvCT,IAEK7S,QAAQ0T,OAAOjuB,MAI1B,OAAO,WACLqa,GAAe,EACgBiT,EnE9B/BjkB,SAAQ,SAAChK,EAAYoT,GACvB3R,EAAU2R,GAAOgb,aAAapO,QAAQ6O,MAAM7uB,MAkBzC,SAAyCmT,GAC9CA,EAAInJ,SAAQ,SAAChK,EAAYoT,GACvB3R,EAAU2R,GAAOgb,aAAaM,SAASG,MAAM7uB,MmEU3C8uB,CAAgCL,MAEjC,IAKH9gB,qBAAU,WACHkgB,GACH9W,GAAW,KAEZ,CAAC8W,IAOF,cAAC,GAAekB,SAAhB,CAAyBrqB,MAAO6F,EAAhC,SACGlM,EAAMU,YCtCEiwB,GAtBO,WACpB,OACE,cAAC,IAAMC,SAAP,UACE,cAAC,GAAD,UACE,cAAC,IAAD,CAAkB3sB,MAAOA,EAAzB,SACE,eAAC,GAAD,WACE,cAAC4sB,GAAA,EAAD,IACA,eAAC,IAAD,CAAeC,SAAS,SAAxB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,eAACtwB,EAAA,EAAD,CAAKC,WAAY,OAAjB,UACE,cAAC,GAAD,IACA,cAAC,GAAD,oBCbIosB,QACW,cAA7BkE,OAAO9f,SAAS+f,UAEe,UAA7BD,OAAO9f,SAAS+f,UAEhBD,OAAO9f,SAAS+f,SAASvC,MACvB,2D,6CCJWwC,I,YAkBPC,IAlBH,SAAUD,KAAV,mFACmB,OADnB,SACyBE,aAAclkB,GAAMqX,YAD7C,OACC8M,EADD,cAGkC,OAHlC,SAGwCC,aAAKD,GAH7C,gBAGKvjB,EAHL,EAGKA,QAHL,cAIoBA,EAAQkR,OAJ5B,0DAMkB,OAFVuS,EAJR,4BAMwBC,aAAKL,GAAY,CACtC1M,MAAO3W,EAAQ2W,MACf8M,aARH,QAMOjB,EANP,OAUC3b,QAAQC,IAAI0b,GAVb,mDAYC3b,QAAQC,IAAR,MAZD,uHAAA6c,IAAA,yGAkBP,SAAUN,GAAV,oFAQkB,OAPhB1M,EADF,EACEA,MACA8M,EAFF,EAEEA,SAFF,SAQwBC,aAAKE,GAAY,CAAE9vB,GAAI6iB,EAAM7iB,GAAI2vB,SAAUA,IARnE,OAQQI,EARR,cAWqC,OAXrC,kBAW2CL,aAAKK,GAXhD,mBAWcrO,EAXd,EAWcA,WAAUgN,EAXxB,EAWwBA,UAXxB,0CAaeA,GAbf,QAgBM,OAhBN,UAgBYjuB,aACJ8K,GAASiX,eAAe,CACtBK,QACAE,UAAW4M,EAAS5M,UACpBrB,cApBV,gCAwBM,OAxBN,oCAwBYjhB,aACJ8K,GAASkX,eAAe,CACtBI,QACAE,UAAW4M,EAAS5M,UACpBpiB,MAAM,EAAD,MA5Bf,iGAoCA,SAASmvB,GAAT,GAA2E,IAArD9vB,EAAoD,EAApDA,GAAI2vB,EAAgD,EAAhDA,SACxB,OAAOK,cAAa,SAACC,GACnBxU,GACGyU,cACClwB,EAFJ,aAIMmwB,QAAS,SACRR,EAAS5M,UAAY4M,EAASpS,MAEjC,CACEte,KAAM,CACJsB,SAAS,GAEXb,OAAQ,CACN6uB,QAAS,CACP,oBAAoB,GAEtB6B,iBAJM,SAIWC,GACf,GAAIA,EAAcC,iBAAkB,CAClC,IAAM5O,EAAW2O,EAAcE,OAASF,EAAcvd,MACtDmd,EAAQ,CAAEvO,kBAMnBzJ,MAAK,SAACyW,GAAD,OAAcuB,EAAQ,CAAEvB,SAAUA,OACvChO,OAAM,SAAC/f,GAAD,OAAWsvB,EAAQtvB,MACzB6vB,SAAQ,kBAAMP,EAAQQ,SAGzB,OADiC,gB,gBC/FZC,IAAV,SAAUA,KAAV,iEACX,OADW,SACLpnB,aAAI,CACNgmB,OAFO,wCCEf,IAAMqB,GAAiBC,eAEjBC,GAAQC,aAAYC,aAAgB,CACtC9N,YACA+N,aAAgBL,KAEpBA,GAAeM,IAAIP,IAEJG,UCLfK,IAASC,OACP,cAAC,KAAD,CAAUN,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEFhrB,SAASurB,eAAe,SJ6HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMtZ,MAAK,SAACuZ,GAClCA,EAAaC,kB","file":"static/js/main.ec17e5e4.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport {Box, Container, makeStyles, Typography} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n    titles: {\r\n        color: '#999999'\r\n    }\r\n});\r\n\r\ntype PageProps = {\r\n    title: string\r\n};\r\n\r\nexport const Page: React.FC<PageProps> = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <Container>\r\n            <Typography className={classes.titles} component=\"h1\" variant=\"h5\">\r\n                {props.title}\r\n            </Typography>\r\n            <Box paddingTop={1}>\r\n                {props.children}\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n","import {\n  AxiosInstance,\n  AxiosRequestConfig,\n  AxiosResponse,\n  CancelTokenSource,\n} from \"axios\";\n\nimport axios from \"axios\";\nimport { serialize } from \"object-to-formdata\";\n\nexport default class HttpResource {\n  private cancelList: CancelTokenSource | null = null;\n\n  constructor(protected http: AxiosInstance, protected resource) {}\n\n  list<T = any>(options?: { queryParams? }): Promise<AxiosResponse<T>> {\n    if (this.cancelList) {\n      this.cancelList.cancel(\"List request cancelled\");\n    }\n    this.cancelList = axios.CancelToken.source();\n    const config: AxiosRequestConfig = {\n      cancelToken: this.cancelList.token,\n    };\n\n    if (options && options.queryParams) {\n      config.params = options.queryParams;\n    }\n    return this.http.get<T>(this.resource, config);\n  }\n\n  get<T = any>(id): Promise<AxiosResponse<T>> {\n    return this.http.get<T>(`${this.resource}/${id}`);\n  }\n\n  create<T = any>(data): Promise<AxiosResponse<T>> {\n    let sendData = this.makeSendData(data);\n    return this.http.post<T>(this.resource, sendData);\n  }\n\n  partialUpdate<T = any>(\n    id: any,\n    data,\n    options?: { http?: { usePost: boolean }; config?: AxiosRequestConfig }\n  ): Promise<AxiosResponse<T>> {\n    let sendData = data;\n    if (this.containsFile(data)) {\n      sendData = this.getFormData(data);\n    }\n    const { http, config } = (options || {}) as any;\n    return !options || !http || !http.usePost\n      ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n      : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n  }\n\n  update<T = any>(\n    id: any,\n    data,\n    options?: { http?: { usePost: boolean }; config?: AxiosRequestConfig }\n  ): Promise<AxiosResponse<T>> {\n    let sendData = data;\n    if (this.containsFile(data)) {\n      sendData = this.getFormData(data);\n    }\n    const { http, config } = (options || {}) as any;\n    return !options || !http || !http.usePost\n      ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n      : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n  }\n\n  delete<T = any>(id): Promise<AxiosResponse<T>> {\n    return this.http.delete<T>(`${this.resource}/${id}`);\n  }\n\n  deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n    const config: AxiosRequestConfig = {};\n    if (queryParams) {\n      config[\"params\"] = queryParams;\n    }\n    return this.http.delete<T>(`${this.resource}`, config);\n  }\n\n  isCancelledRequest(error) {\n    return axios.isCancel(error);\n  }\n\n  private makeSendData(data) {\n    return this.containsFile(data) ? this.getFormData(data) : data;\n  }\n\n  private getFormData(data) {\n    return serialize(data, { booleansAsIntegers: true });\n  }\n\n  private containsFile(data) {\n    return Object.values(data).filter((el) => el instanceof File).length !== 0;\n  }\n}\n","import axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\n\nexport const httpVideo = axios.create({\n  baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL,\n});\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n  onFulfilled?: (\n    value: AxiosRequestConfig\n  ) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n  onRejected?: (error: any) => any\n) {\n  const ids: number[] = [];\n  for (let i of instances) {\n    const id = i.interceptors.request.use(onFulfilled, onRejected);\n    ids.push(id);\n  }\n  return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n  ids.forEach((id: number, index: number) => {\n    instances[index].interceptors.request.eject(id);\n  });\n}\n\nexport function addGlobalResponseInterceptor(\n  onFulfilled?: (\n    value: AxiosResponse\n  ) => AxiosResponse | Promise<AxiosResponse>,\n  onRejected?: (error: any) => any\n) {\n  const ids: number[] = [];\n  for (let i of instances) {\n    const id = i.interceptors.response.use(onFulfilled, onRejected);\n    ids.push(id);\n  }\n  return ids;\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n  ids.forEach((id: number, index: number) => {\n    instances[index].interceptors.response.eject(id);\n  });\n}\n","import HttpResource from \"./http-resource\";\nimport { httpVideo } from \"./index\";\n\nconst categoryHttp = new HttpResource(httpVideo, \"categories\");\n\nexport default categoryHttp;\n","import { createMuiTheme } from \"@material-ui/core\";\nimport {\n  PaletteOptions,\n  SimplePaletteColorOptions,\n} from \"@material-ui/core/styles/createPalette\";\nimport { green, red } from \"@material-ui/core/colors\";\n\nconst palette: PaletteOptions = {\n  primary: {\n    main: \"#79aec8\",\n    contrastText: \"#fff\",\n  },\n  secondary: {\n    main: \"#4db5ab\",\n    contrastText: \"#fff\",\n    dark: \"#055a52\",\n  },\n  background: {\n    default: \"#fafafa\",\n  },\n  error: {\n    main: red[\"500\"],\n  },\n  success: {\n    main: green[\"500\"],\n    contrastText: \"#fff\",\n  },\n};\n\nconst theme = createMuiTheme({\n  palette,\n  overrides: {\n    MUIDataTable: {\n      paper: {\n        boxShadow: \"none\",\n      },\n    },\n    MUIDataTableToolbar: {\n      root: {\n        minHeight: \"58px\",\n        backgroundColor: palette!.background!.default,\n      },\n      icon: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n        \"&:hover, &:active, &.focus\": {\n          color: (palette!.secondary as SimplePaletteColorOptions).dark,\n        },\n      },\n      iconActive: {\n        color: (palette!.secondary as SimplePaletteColorOptions).dark,\n        \"&:hover, &:active, &.focus\": {\n          color: (palette!.secondary as SimplePaletteColorOptions).dark,\n        },\n      },\n    },\n    MUIDataTableHeadCell: {\n      fixedHeader: {\n        paddingTop: 8,\n        paddingBottom: 8,\n        backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n        color: \"#ffffff\",\n        \"&[aria-sort]\": {\n          backgroundColor: \"#459ac4\",\n        },\n      },\n      sortActive: {\n        color: \"#fff\",\n      },\n      sortAction: {\n        alignItems: \"center\",\n      },\n      sortLabelRoot: {\n        color: \"#fff !important\",\n        \"& svg\": {\n          color: \"#fff !important\",\n        },\n      },\n    },\n    MUIDataTableSelectCell: {\n      headerCell: {\n        backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n        \"& span\": {\n          color: \"#fff !important\",\n        },\n      },\n    },\n    MUIDataTableBodyCell: {\n      root: {\n        color: (palette!.secondary as SimplePaletteColorOptions).main,\n        \"&:hover, &:active, &.focus\": {\n          color: (palette!.secondary as SimplePaletteColorOptions).main,\n        },\n      },\n    },\n    MUIDataTableToolbarSelect: {\n      title: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n      },\n      iconButton: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n      },\n    },\n    MUIDataTableBodyRow: {\n      root: {\n        \"&:nth-child(odd)\": {\n          backgroundColor: palette!.background!.default,\n        },\n      },\n    },\n    MUIDataTablePagination: {\n      root: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n      },\n    },\n    MUIDataTableFilterList: {\n      root: {\n        marginBottom: \"16px\",\n      },\n    },\n  },\n});\n\nexport default theme;\n","// @flow\nimport * as React from \"react\";\nimport { Chip, createMuiTheme, MuiThemeProvider } from \"@material-ui/core\";\nimport theme from \"../theme\";\n\nconst localTheme = createMuiTheme({\n  palette: {\n    primary: theme.palette.success,\n    secondary: theme.palette.error,\n  },\n});\n\nexport const BadgeYes = () => {\n  return (\n    <MuiThemeProvider theme={localTheme}>\n      <Chip label={\"Sim\"} color={\"primary\"} />\n    </MuiThemeProvider>\n  );\n};\n\nexport const BadgeNo = () => {\n  return (\n    <MuiThemeProvider theme={localTheme}>\n      <Chip label={\"Nāo\"} color={\"secondary\"} />\n    </MuiThemeProvider>\n  );\n};\n","import React from \"react\";\nimport Grow from \"@material-ui/core/Grow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { debounce } from \"lodash\";\n\nconst defaultSearchStyles = (theme) => ({\n  main: {\n    display: \"flex\",\n    flex: \"1 0 auto\",\n  },\n  searchIcon: {\n    color: theme.palette.text.secondary,\n    marginTop: \"10px\",\n    marginRight: \"8px\",\n  },\n  searchText: {\n    flex: \"0.8 0\",\n  },\n  clearIcon: {\n    \"&:hover\": {\n      color: theme.palette.error.main,\n    },\n  },\n});\n\nclass DebouncedTableSearch extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    const { searchText } = this.props;\n    let value = searchText;\n    if (searchText && searchText.value !== undefined) {\n      value = searchText.value;\n    }\n    this.state = {\n      text: value,\n    };\n    this.debouncedOnSearch = debounce(\n      this.debouncedOnSearch.bind(this),\n      this.props.debouceTime\n    );\n  }\n\n  handleTextChange = (event) => {\n    const value = event.target.value;\n    this.setState(\n      {\n        text: value,\n      },\n      () => this.debouncedOnSearch(value)\n    );\n  };\n\n  debouncedOnSearch = (value) => {\n    this.props.onSearch(value);\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { searchText } = this.props;\n\n    if (\n      searchText &&\n      searchText.value !== undefined &&\n      prevProps.searchText !== this.props.searchText\n    ) {\n      const value = searchText.value;\n\n      if (value) {\n        this.setState(\n          {\n            text: value,\n          },\n          () => this.props.onSearch(value)\n        );\n      } else {\n        try {\n          this.props.onHide();\n        } catch (e) {}\n      }\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.onKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.onKeyDown, false);\n  }\n\n  onKeyDown = (event) => {\n    if (event.keyCode === 27) {\n      this.props.onHide();\n    }\n  };\n\n  render() {\n    const { classes, options, onHide, searchText } = this.props;\n\n    let value = this.state.text;\n\n    if (searchText && searchText.value !== undefined) {\n      value = searchText.value;\n    }\n\n    return (\n      <Grow appear in={true} timeout={300}>\n        <div className={classes.main} ref={(el) => (this.rootRef = el)}>\n          <SearchIcon className={classes.searchIcon} />\n          <TextField\n            className={classes.searchText}\n            autoFocus={true}\n            InputProps={{\n              \"data-test-id\": options.textLabels.toolbar.search,\n              \"aria-label\": options.textLabels.toolbar.search,\n            }}\n            value={value || \"\"}\n            onChange={this.handleTextChange}\n            fullWidth={true}\n            inputRef={(el) => (this.searchField = el)}\n            placeholder={options.searchPlaceholder}\n          />\n          <IconButton className={classes.clearIcon} onClick={onHide}>\n            <ClearIcon />\n          </IconButton>\n        </div>\n      </Grow>\n    );\n  }\n}\n\nexport default withStyles(defaultSearchStyles, { name: \"MUIDataTableSearch\" })(\n  DebouncedTableSearch\n);\n","// @flow\nimport * as React from 'react';\nimport MUIDataTable, {MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps} from \"mui-datatables\";\nimport {merge, omit, cloneDeep} from 'lodash';\nimport {MuiThemeProvider, Theme, useMediaQuery, useTheme} from \"@material-ui/core\";\nimport {RefAttributes} from \"react\";\nimport DebouncedTableSearch from './DebouncedTableSearch';\n\nconst makeDefaultOptions = (debouncedSearchTime?): MUIDataTableOptions => ({\n    print: false,\n    download: false,\n    textLabels: {\n        body: {\n            noMatch: \"Nenhum registro encontrado\",\n            toolTip: \"Classificar\",\n        },\n        pagination: {\n            next: \"Próxima página\",\n            previous: \"Página anterior\",\n            rowsPerPage: \"Por página:\",\n            displayRows: \"de\",\n        },\n        toolbar: {\n            search: \"Busca\",\n            downloadCsv: \"Download CSV\",\n            print: \"Imprimir\",\n            viewColumns: \"Ver Colunas\",\n            filterTable: \"Filtrar Tabelas\",\n        },\n        filter: {\n            all: \"Todos\",\n            title: \"FILTROS\",\n            reset: \"LIMPAR\",\n        },\n        viewColumns: {\n            title: \"Ver Colunas\",\n            titleAria: \"Ver/Esconder Colunas da Tabela\",\n        },\n        selectedRows: {\n            text: \"registros(s) selecionados\",\n            delete: \"Excluir\",\n            deleteAria: \"Excluir registros selecionados\",\n        },\n    },\n    customSearchRender: (searchText: string,\n                         handleSearch: any,\n                         hideSearch: any,\n                         options: any) => {\n        return <DebouncedTableSearch\n        searchText={searchText}\n        onSearch={handleSearch}\n        onHide={hideSearch}\n        options={options}\n        debouceTime={debouncedSearchTime}\n        />\n    }\n});\n\nexport interface TableColumn extends MUIDataTableColumn {\n    width?:string\n}\n\nexport interface MuiDataTableRefComponent {\n    changePage: (page:number) => void;\n    changeRowsPerPage: (rowsPerPage:number) => void;\n}\n\ninterface TableProps extends MUIDataTableProps, RefAttributes<MuiDataTableRefComponent> {\n    columns:TableColumn[];\n    loading?:boolean;\n    debounceSearchTime?:number;\n}\n\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>((props, ref) => {\n    \n    function extractMuiDataTableColumns(columns:TableColumn[]):MUIDataTableColumn[] {\n        setColumnsWidth(columns);\n        return columns.map(column => omit(column, 'width') )\n    }\n\n    function setColumnsWidth(columns:TableColumn[]) {\n        columns.forEach( (column, key)=> {\n            if(column.width) {\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key +2})`] = {\n                    width: column.width\n                }\n            }\n        })\n    }\n\n    function applyLoading() {\n        const textLabels = (newProps.options as any).textLabels;\n        textLabels.body.noMatch = newProps.loading === true\n               ? 'Carregando ...'\n                :  textLabels.body.noMatch;\n    }\n\n    function applyResponsive() {\n        (newProps.options as any).responsive = isSmOrDown ? 'scrollMaxHeight' : 'stacked';\n    }\n\n    function getOriginalMuiDataTableProps() {\n        return  {\n            ...omit(newProps, 'loading'),\n            ref\n        }\n    }\n\n    const theme = cloneDeep<Theme>(useTheme());\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const defaultOptions = makeDefaultOptions(props.debounceSearchTime);\n\n    const newProps = merge(\n        {options: cloneDeep(defaultOptions)},\n        props,\n        {columns: extractMuiDataTableColumns(props.columns)});\n\n    applyLoading();\n    applyResponsive();\n\n    const originalProps = getOriginalMuiDataTableProps();\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <MUIDataTable {...originalProps} />\n        </MuiThemeProvider>\n    );\n});\n\nexport default Table;\n\nexport function makeActionsStyles(column) {\n    return theme => {\n        const copyTheme = cloneDeep<Theme>(theme);\n        const selector = `&[data-colindex=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            paddingBottom: '0px'\n        };\n        return copyTheme;\n    }\n}","import * as React from \"react\";\nimport { Tooltip } from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ClearAllIcon from \"@material-ui/icons/ClearAll\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  IconButton: (theme.overrides as any).MUIDataTableToolbar.icon,\n}));\n\ninterface FilterResetButtonProps {\n  handleClick: () => void;\n}\n\nconst FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n  const classes = useStyles();\n  return (\n    <Tooltip title={\"Limpar busca\"}>\n      <IconButton onClick={props.handleClick}>\n        <ClearAllIcon className={classes.IconButton} />\n      </IconButton>\n    </Tooltip>\n  );\n};\n\nexport default FilterResetButton;\n","import { createActions, createReducer } from \"reduxsauce\";\nimport {\n  SetSearchAction,\n  SetPageAction,\n  SetPerPageAction,\n  SetOrderAction,\n  State,\n  Actions,\n  SetResetAction,\n  UpdateExtraFilterAction,\n  ClearExtraFilter,\n} from \"./types\";\n\nexport const { Types, Creators } = createActions<\n  {\n    SET_SEARCH: string;\n    SET_PAGE: string;\n    SET_PER_PAGE: string;\n    SET_ORDER: string;\n    SET_RESET: string;\n    UPDATE_EXTRA_FILTER: string;\n    CLEAR_EXTRA_FILTER: string;\n  },\n  {\n    setSearch(payload: SetSearchAction[\"payload\"]): SetSearchAction;\n    setPage(payload: SetPageAction[\"payload\"]): SetPageAction;\n    setPerPage(payload: SetPerPageAction[\"payload\"]): SetPerPageAction;\n    setOrder(payload: SetOrderAction[\"payload\"]): SetOrderAction;\n    setReset(payload: SetResetAction[\"payload\"]): SetResetAction;\n    updateExtraFilter(\n      payload: UpdateExtraFilterAction[\"payload\"]\n    ): UpdateExtraFilterAction;\n    clearExtraFilter(payload: ClearExtraFilter[\"payload\"]): ClearExtraFilter;\n  }\n>({\n  setSearch: [\"payload\"],\n  setPage: [\"payload\"],\n  setPerPage: [\"payload\"],\n  setOrder: [\"payload\"],\n  setReset: [\"payload\"],\n  updateExtraFilter: [\"payload\"],\n  clearExtraFilter: [\"payload\"],\n});\n\nexport const INITIAL_STATE: State = {\n  search: null,\n  pagination: {\n    page: 1,\n    per_page: 15,\n  },\n  order: {\n    sort: null,\n    dir: null,\n  },\n};\n\nconst reducer = createReducer<State, Actions>(INITIAL_STATE, {\n  [Types.SET_SEARCH]: setSearch as any,\n  [Types.SET_PAGE]: setPage as any,\n  [Types.SET_PER_PAGE]: setPerPage as any,\n  [Types.SET_ORDER]: setOrder as any,\n  [Types.SET_RESET]: setReset as any,\n  [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter as any,\n  [Types.CLEAR_EXTRA_FILTER]: clearExtraFilter as any,\n});\n\nexport default reducer;\n\nfunction setSearch(state = INITIAL_STATE, action: SetSearchAction): State {\n  return {\n    ...state,\n    search: action.payload.search,\n    pagination: {\n      ...state.pagination,\n      page: 1,\n    },\n  };\n}\n\nfunction setPage(state = INITIAL_STATE, action: SetPageAction): State {\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      page: action.payload.page,\n    },\n  };\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: SetPerPageAction): State {\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      per_page: action.payload.per_page,\n    },\n  };\n}\n\nfunction setOrder(state = INITIAL_STATE, action: SetOrderAction): State {\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      page: 1,\n    },\n    order: {\n      sort: action.payload.sort,\n      dir: action.payload.dir,\n    },\n  };\n}\n\nfunction setReset(state = INITIAL_STATE, action: SetResetAction): State {\n  return action.payload.state;\n}\n\nfunction updateExtraFilter(\n  state = INITIAL_STATE,\n  action: UpdateExtraFilterAction\n) {\n  return {\n    ...state,\n    extraFilter: {\n      ...state.extraFilter,\n      ...action.payload,\n    },\n  };\n}\n\nfunction clearExtraFilter(\n  state = INITIAL_STATE,\n  action: UpdateExtraFilterAction\n) {\n  return {\n    ...state,\n    extraFilter: action.payload,\n  };\n}\n","import {\n  Dispatch,\n  Reducer,\n  useReducer,\n  useState,\n  useEffect,\n  MutableRefObject,\n} from \"react\";\nimport reducer, { Creators } from \"../store/filter\";\nimport {\n  Actions as FilterActions,\n  State,\n  State as FilterState,\n} from \"../store/filter/types\";\nimport { MUIDataTableColumn } from \"mui-datatables\";\nimport { useDebounce } from \"use-debounce\";\nimport { useHistory } from \"react-router-dom\";\nimport { History } from \"history\";\nimport { isEqual } from \"lodash\";\nimport * as yup from \"../util/vendor/yup\";\nimport { MuiDataTableRefComponent } from \"../components/Table\";\n\ninterface FilterManagerOptions {\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  rowsPerPageOptions: number[];\n  debounceTime: number;\n  history: History;\n  tableRef: MutableRefObject<MuiDataTableRefComponent>;\n  extraFilter?: ExtraFilter;\n}\n\ninterface ExtraFilter {\n  getStateFromURL: (queryParams: URLSearchParams) => any;\n  formatSearchParams: (debouncedState: State) => any;\n  createValidationSchema: () => any;\n}\n\ninterface UseFilterOptions extends Omit<FilterManagerOptions, \"history\"> {}\n\nexport default function useFilter(options: UseFilterOptions) {\n  const history = useHistory();\n  const filterManager = new FilterManager({ ...options, history });\n  const INITIAL_STATE = filterManager.getStateFromURL();\n  const [filterState, dispatch] = useReducer<\n    Reducer<FilterState, FilterActions>\n  >(reducer, INITIAL_STATE);\n\n  const [debouncedFilterState] = useDebounce(filterState, options.debounceTime);\n\n  const [totalRecords, setTotalRecords] = useState<number>(0);\n\n  filterManager.state = filterState;\n  filterManager.debouncedState = debouncedFilterState;\n  filterManager.dispatch = dispatch;\n\n  filterManager.applyOrdersInColumns();\n\n  useEffect(() => {\n    filterManager.replaceHistory();\n  }, []); // eslint-disable-line\n\n  return {\n    columns: filterManager.columns,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    dispatch,\n    totalRecords,\n    setTotalRecords,\n  };\n}\n\nexport class FilterManager {\n  schema;\n  state: FilterState = null as any;\n  dispatch: Dispatch<FilterActions> = null as any;\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  rowsPerPageOptions: number[];\n  history: History;\n  debouncedState: FilterState = null as any;\n  tableRef: MutableRefObject<MuiDataTableRefComponent>;\n  extraFilter?: ExtraFilter;\n\n  constructor(options: FilterManagerOptions) {\n    const {\n      columns,\n      rowsPerPage,\n      rowsPerPageOptions,\n      history,\n      tableRef,\n      extraFilter,\n    } = options;\n    this.columns = columns;\n    this.rowsPerPage = rowsPerPage;\n    this.rowsPerPageOptions = rowsPerPageOptions;\n    this.history = history;\n    this.tableRef = tableRef;\n    this.extraFilter = extraFilter;\n    this.createValidationSchema();\n  }\n\n  private resetTablePagination() {\n    this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\n    this.tableRef.current.changePage(0);\n  }\n\n  changeExtraFilter(value) {\n    this.dispatch(Creators.updateExtraFilter(value));\n  }\n\n  clearExtraFilter() {\n    this.dispatch(Creators.clearExtraFilter({}));\n    this.resetTablePagination();\n  }\n\n  changeSearch(value: string) {\n    this.dispatch(Creators.setSearch({ search: value }));\n  }\n\n  changePage(page: number) {\n    this.dispatch(Creators.setPage({ page: page + 1 }));\n  }\n\n  changeRowsPerPage(per_page: number) {\n    this.dispatch(Creators.setPerPage({ per_page: per_page }));\n  }\n\n  changeSort(changedColumn: string, direction: string) {\n    this.dispatch(\n      Creators.setOrder({\n        sort: changedColumn,\n        dir: direction.includes(\"desc\") ? \"desc\" : \"asc\",\n      })\n    );\n    this.resetTablePagination();\n  }\n\n  resetFilter() {\n    const INITIAL_STATE = {\n      ...this.schema.cast({}),\n      search: { value: null },\n    };\n\n    this.dispatch(\n      Creators.setReset({\n        state: INITIAL_STATE,\n      })\n    );\n\n    this.resetTablePagination();\n  }\n\n  applyOrdersInColumns() {\n    this.columns = this.columns.map((column) => {\n      return column.name === this.state.order.sort\n        ? {\n            ...column,\n            options: {\n              ...column.options,\n              sortDirection: this.state.order.dir as any,\n            },\n          }\n        : column;\n    });\n  }\n\n  clearSearchText(text) {\n    let newText = text;\n    if (text && text.value !== undefined) {\n      newText = text.value;\n    }\n\n    return newText;\n  }\n\n  replaceHistory() {\n    this.history.replace({\n      pathname: this.history.location.pathname,\n      search: \"?\" + new URLSearchParams(this.formatSearchParams() as any),\n      state: this.debouncedState,\n    });\n  }\n\n  pushHistory() {\n    const newLocation = {\n      pathname: this.history.location.pathname,\n      search: \"?\" + new URLSearchParams(this.formatSearchParams() as any),\n      state: {\n        ...this.debouncedState,\n        search: this.clearSearchText(this.debouncedState.search),\n      },\n    };\n\n    const oldState = this.history.location.state;\n    const nextState = this.debouncedState;\n\n    if (isEqual(oldState, nextState)) {\n      return;\n    }\n\n    this.history.push(newLocation);\n  }\n\n  private formatSearchParams() {\n    const search = this.clearSearchText(this.debouncedState.search);\n\n    return {\n      ...(search && search !== \"\" && { search: search }),\n      ...(this.debouncedState.pagination.page !== 1 && {\n        page: this.debouncedState.pagination.page,\n      }),\n      ...(this.debouncedState.pagination.per_page !== 15 && {\n        per_page: this.debouncedState.pagination.per_page,\n      }),\n      ...(this.debouncedState.order.sort && {\n        sort: this.debouncedState.order.sort,\n        dir: this.debouncedState.order.dir,\n      }),\n      ...(this.extraFilter &&\n        this.extraFilter.formatSearchParams(this.debouncedState)),\n    };\n  }\n\n  getStateFromURL() {\n    const queryParams = new URLSearchParams(\n      this.history.location.search.substr(1)\n    );\n\n    return this.schema.cast({\n      search: queryParams.get(\"search\"),\n      pagination: {\n        page: queryParams.get(\"page\"),\n        per_page: queryParams.get(\"per_page\"),\n      },\n      order: {\n        sort: queryParams.get(\"sort\"),\n        dir: queryParams.get(\"dir\"),\n      },\n      ...(this.extraFilter && {\n        extraFilter: this.extraFilter.getStateFromURL(queryParams),\n      }),\n    });\n  }\n\n  private createValidationSchema() {\n    this.schema = yup.object().shape({\n      search: yup\n        .string()\n        .transform((value) => (!value ? undefined : value))\n        .default(\"\"),\n      pagination: yup.object().shape({\n        page: yup\n          .number()\n          .transform((value) =>\n            isNaN(value) || parseInt(value) < 1 ? undefined : value\n          )\n          .default(1),\n        per_page: yup\n          .number()\n          .transform((value) =>\n            isNaN(value) || !this.rowsPerPageOptions.includes(parseInt(value))\n              ? undefined\n              : value\n          )\n          .default(this.rowsPerPage),\n      }),\n      order: yup.object().shape({\n        sort: yup\n          .string()\n          .nullable()\n          .transform((value) => {\n            const columnsName = this.columns\n              .filter(\n                (column) => !column.options || column.options.sort !== false\n              )\n              .map((column) => column.name);\n\n            return columnsName.includes(value) ? value : undefined;\n          })\n          .default(null),\n        dir: yup\n          .string()\n          .nullable()\n          .transform((value) => {\n            return !value || ![\"asc\", \"desc\"].includes(value.toLowerCase())\n              ? undefined\n              : value;\n          })\n          .default(null),\n      }),\n      ...(this.extraFilter && {\n        extraFilter: this.extraFilter.createValidationSchema(),\n      }),\n    });\n  }\n}\n","/* eslint-disable no-template-curly-in-string */\nimport { setLocale } from 'yup';\n\nsetLocale({\n  mixed: {\n    required: '${path} é requerido',\n    notType: '${path} é inválido',\n  },\n  string: {\n    max: '${path} precisa ter no máximo ${max} caracteres',\n    min: '${path} precisa ter no mínimo ${min} caracteres',\n  },\n  number: {\n    max: '${path} precisa ter no máximo ${max}',\n    min: '${path} precisa ter no mínimo ${min}',\n  },\n  array: {\n    max: '${path} precisa ter no máximo ${max} item(ns)',\n    min: '${path} precisa ter no mínimo ${min} item(ns)',\n},\n});\n\nexport * from 'yup';\n","import { createContext } from \"react\";\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;\n","import * as React from \"react\";\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContentText,\n  DialogActions,\n  Button,\n} from \"@material-ui/core\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\n\ninterface DeleteDialogProps {\n  open: boolean;\n  handleClose: (confirmed: boolean) => void;\n}\nexport const DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n  const { open, handleClose } = props;\n\n  return (\n    <Dialog open={open} onClose={() => handleClose(false)}>\n      <DialogTitle>Exclusão de registros</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Deseja realmente excluir este(s) registro(s)?\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose(false)} color={\"primary\"}>\n          Cancelar\n        </Button>\n        <Button onClick={() => handleClose(true)} color={\"primary\"} autoFocus>\n          Excluir\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import { useEffect, useState } from \"react\";\n\nconst useDeleteCollection = () => {\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [rowsToDelete, setRowsToDelete] = useState<{\n    data: Array<{ index; dataIndex }>;\n  }>({ data: [] });\n\n  useEffect(() => {\n    if (rowsToDelete.data.length) {\n      setOpenDeleteDialog(true);\n    }\n  }, [rowsToDelete]);\n\n  return {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  };\n};\n\nexport default useDeleteCollection;\n","import * as React from \"react\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport { Category, listResponse } from \"../../util/models\";\nimport { BadgeNo, BadgeYes } from \"../../components/Badge\";\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from \"../../components/Table\";\nimport { useSnackbar } from \"notistack\";\nimport FilterResetButton from \"../../components/Table/FilterResetButton\";\nimport useFilter from \"../../hooks/useFilter\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\nimport { DeleteDialog } from \"../../components/DeleteDialog\";\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\n\nconst columnsDefinitions: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false,\n    },\n  },\n  {\n    name: \"name\",\n    label: \"Nome\",\n    width: \"43%\",\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: \"is_active\",\n    label: \"Ativo?\",\n    options: {\n      filterOptions: {\n        names: [\"Sim\", \"Nāo\"],\n      },\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue) {\n        return value ? <BadgeYes /> : <BadgeNo />;\n      },\n    },\n    width: \"4%\",\n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    options: {\n      customBodyRender(value, tableMeta, updateValue) {\n        return <span>{format(parseISO(value), \"dd/MM/yyyy\")}</span>;\n      },\n      filter: false,\n    },\n    width: \"10%\",\n  },\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender: (value, tableMeta, updateValue) => {\n        return (\n          <IconButton\n            color={\"secondary\"}\n            component={Link}\n            to={`/categories/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n        );\n      },\n    },\n  },\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const subscribed = useRef(true); // {current: true}\n  const [data, setData] = useState<Category[]>([]);\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n  const loading = useContext(LoadingContext);\n\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n\n  const {\n    filterManager,\n    filterState,\n    totalRecords,\n    setTotalRecords,\n    debouncedFilterState,\n  } = useFilter({\n    columns: columnsDefinitions,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    debounceTime: debounceTime,\n    tableRef,\n  });\n\n  const filteredSearch = filterManager.clearSearchText(\n    debouncedFilterState.search\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    filterManager.pushHistory();\n    getData();\n\n    return () => {\n      subscribed.current = false;\n    };\n    // eslint-disable-next-line\n  }, [\n    filteredSearch,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n  ]);\n\n  async function getData() {\n    try {\n      const { data } = await categoryHttp.list<listResponse<Category>>({\n        queryParams: {\n          search: filterManager.clearSearchText(debouncedFilterState.search),\n          page: debouncedFilterState.pagination.page,\n          per_page: debouncedFilterState.pagination.per_page,\n          sort: debouncedFilterState.order.sort,\n          dir: debouncedFilterState.order.dir,\n        },\n      });\n\n      if (subscribed.current) {\n        setData(data.data);\n        setTotalRecords(data.meta.total);\n      }\n    } catch (e) {\n      console.log(e);\n      if (categoryHttp.isCancelledRequest(e)) {\n        return;\n      }\n      enqueueSnackbar(\"Não foi possível carregar as informações\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  async function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    try {\n      const ids = rowsToDelete.data\n        .map((value) => data[value.index].id)\n        .join(\",\");\n\n      await categoryHttp.deleteCollection({ ids });\n\n      if (\n        rowsToDelete.data.length === debouncedFilterState.pagination.per_page &&\n        debouncedFilterState.pagination.page > 1\n      ) {\n        const page = debouncedFilterState.pagination.page - 2;\n        filterManager.changePage(page);\n      } else {\n        await getData();\n      }\n\n      setOpenDeleteDialog(false);\n\n      enqueueSnackbar(\"Registros excluidos com sucesso!\", {\n        variant: \"success\",\n      });\n    } catch (e) {\n      console.log(e);\n      enqueueSnackbar(\"Não foi possível excluir os registros\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title=\"Categorias\"\n        columns={filterManager.columns}\n        data={data}\n        loading={loading}\n        debounceSearchTime={debouncedSearchTime}\n        ref={tableRef}\n        options={{\n          serverSide: true,\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions: rowsPerPageOptions,\n          count: totalRecords,\n          filter: false,\n          customToolbar: () => {\n            return (\n              <FilterResetButton\n                handleClick={() => filterManager.resetFilter()}\n              />\n            );\n          },\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (per_page) =>\n            filterManager.changeRowsPerPage(per_page),\n          onColumnSortChange: (changedColumn: string, direction: string) =>\n            filterManager.changeSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted as any);\n            return false;\n          },\n        }}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default Table;\n","import * as React from \"react\";\r\nimport { Page } from \"../../components/Page\";\r\nimport { Box, Fab } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Table from \"./Table\";\r\n\r\nconst PageList = () => {\r\n  return (\r\n    <Page title={\"Listar categorias\"}>\r\n      <Box dir={\"rtl\"} paddingBottom={2}>\r\n        <Fab\r\n          title=\"Adicionar categoria\"\r\n          color={\"secondary\"}\r\n          size=\"small\"\r\n          component={Link}\r\n          to=\"/categories/create\"\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </Box>\r\n      <Box>\r\n        <Table />\r\n      </Box>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default PageList;\r\n","// @flow\nimport * as React from \"react\";\nimport { Box, Button, makeStyles, Theme } from \"@material-ui/core\";\nimport { ButtonProps } from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    submit: {\n      margin: theme.spacing(1),\n    },\n  };\n});\n\ninterface SubmitActionsProps {\n  disabledButtons?: boolean;\n  handleSave: () => void;\n}\n\nconst SubmitActions: React.FC<SubmitActionsProps> = (props) => {\n  // @ts-ignore\n  const classes = useStyles();\n\n  const buttonProps: ButtonProps = {\n    className: classes.submit,\n    color: \"secondary\",\n    variant: \"contained\",\n    disabled:\n      props.disabledButtons === undefined ? false : props.disabledButtons,\n  };\n\n  return (\n    <Box dir={\"rtl\"}>\n      <Button color={\"primary\"} {...buttonProps} onClick={props.handleSave}>\n        Salvar\n      </Button>\n      <Button {...buttonProps} type=\"submit\">\n        Salvar e continuar editando\n      </Button>\n    </Box>\n  );\n};\n\nexport default SubmitActions;\n","// @flow\nimport * as React from \"react\";\nimport { Grid, makeStyles } from \"@material-ui/core\";\nimport { GridProps } from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme) => ({\n  gridItem: {\n    padding: theme.spacing(1, 0),\n  },\n}));\n\ninterface DefaultFormProps\n  extends React.DetailedHTMLProps<\n    React.FormHTMLAttributes<HTMLFormElement>,\n    HTMLFormElement\n  > {\n  GridContainerProps?: GridProps;\n  GridItemProps?: GridProps;\n}\nexport const DefaultForm: React.FC<DefaultFormProps> = (props) => {\n  const classes = useStyles();\n  const { GridContainerProps, GridItemProps, ...other } = props;\n  return (\n    <form {...other}>\n      <Grid container {...GridContainerProps}>\n        <Grid className={classes.gridItem} item {...GridItemProps}>\n          {props.children}\n        </Grid>\n      </Grid>\n    </form>\n  );\n};\n","import { useSnackbar } from \"notistack\";\nimport { useEffect } from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n  const { enqueueSnackbar } = useSnackbar();\n\n  useEffect(() => {\n    const hasErrors = Object.keys(errors).length !== 0;\n    if (submitCount > 0 && hasErrors) {\n      enqueueSnackbar(\n        \"Formulário inválido. Reveja os campos marcados de vermelho\",\n        { variant: \"error\" }\n      );\n    }\n  }, [submitCount, errors, enqueueSnackbar]);\n};\n\nexport default useSnackbarFormError;\n","// @flow\nimport * as React from \"react\";\nimport {\n  Checkbox,\n  FormControlLabel,\n  TextField,\n} from \"@material-ui/core\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport { useHistory, useParams } from \"react-router\";\nimport { Category } from \"../../util/models\";\nimport { useState } from \"react\";\nimport * as yup from \"../../util/vendor/yup\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useEffect } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport { DefaultForm } from \"../../components/DefaultForm\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\n\nconst validationSchema = yup.object().shape({\n  name: yup.string().label(\"Nome\").required().max(255),\n});\n\nexport const Form = () => {\n  const {\n    register,\n    getValues,\n    setValue,\n    handleSubmit,\n    errors,\n    reset,\n    watch,\n    trigger,\n    formState,\n  } = useForm<{ name, description, is_active: boolean }>({\n    resolver: yupResolver(validationSchema),\n    defaultValues: {\n      is_active: true,\n    },\n  });\n\n  useSnackbarFormError(formState.submitCount, errors);\n  const {enqueueSnackbar} = useSnackbar();\n  const history = useHistory();\n  const { id }: any = useParams();\n  const [category, setCategory] = useState<Category | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    register({ name: \"is_active\" });\n  }, [register]);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n    (async function getCategory() {\n      try {\n        setLoading(true);\n        const { data } = await categoryHttp.get(id);\n        setCategory(data.data);\n        reset(data.data);\n      } catch (error) {\n        enqueueSnackbar(\"Nāo foi possível carregar as informações\", {\n          variant: \"error\",\n        });\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [id, reset, enqueueSnackbar]);\n\n  async function onSubmit(formData, event) {\n    try {\n      setLoading(true);\n      const http = !category\n        ? categoryHttp.create(formData)\n        : categoryHttp.update(category.id, formData);\n\n      const { data } = await http;\n\n      enqueueSnackbar(\"Categoria salva com sucesso\", {\n        variant: \"success\",\n      });\n\n      setTimeout(() => {\n        event\n          ? id\n            ? history.replace(`/categories/${data.data.id}/edit`)\n            : history.push(`/categories/${data.data.id}/edit`)\n          : history.push(\"/categories\");\n      });\n      setLoading(false);\n    } catch (error) {\n      enqueueSnackbar(\"Nāo foi possível salvar a categoria\", {\n        variant: \"error\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <DefaultForm GridItemProps={{xs:12, md:6}} onSubmit={handleSubmit(onSubmit)}>\n      <TextField\n        name={\"name\"}\n        label={\"Nome\"}\n        variant={\"outlined\"}\n        fullWidth\n        InputLabelProps={{ shrink: true }}\n        error={errors[\"name\"] !== undefined}\n        helperText={errors[\"name\"] !== undefined && errors[\"name\"].message}\n        disabled={loading}\n        inputRef={register}\n      />\n      <TextField\n        name={\"description\"}\n        label={\"Descrição\"}\n        variant={\"outlined\"}\n        margin={\"normal\"}\n        fullWidth\n        InputLabelProps={{ shrink: true }}\n        multiline\n        rows=\"4\"\n        disabled={loading}\n        inputRef={register}\n      />\n      <FormControlLabel\n        disabled={loading}\n        control={\n          <Checkbox\n            name={\"is_active\"}\n            color={\"primary\"}\n            onChange={() => setValue(\"is_active\", !getValues()[\"is_active\"])}\n            checked={watch(\"is_active\")}\n          />\n        }\n        label={\"Ativo?\"}\n        labelPlacement={\"end\"}\n      />\n      <SubmitActions\n        disabledButtons={loading}\n        handleSave={() =>\n          trigger().then((isValid) => {\n            isValid && onSubmit(getValues(), null);\n          })\n        }\n      />\n    </DefaultForm>\n  );\n};\n","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport { useParams } from 'react-router';\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const parametros:any = useParams();\n    return (\n        <Page title={!parametros.id ? 'Criar Categoria' : 'Editar Categoria'}>\n            <Form />\n        </Page>\n    );\n};\n\nexport default PageForm;","import HttpResource from \"./http-resource\";\nimport { httpVideo } from \"./index\";\n\nconst castMemberHttp = new HttpResource(httpVideo, \"cast_members\");\n\nexport default castMemberHttp;\n","export interface listResponse<T = any> {\n  data: T[];\n  links: {\n    first: string;\n    last: string;\n    prev: string | null;\n    next: string | null;\n  };\n  meta: {\n    current_page: number;\n    from: number;\n    last_page: number;\n    path: string;\n    per_page: number;\n    to: number;\n    total: number;\n  };\n}\n\nexport interface simpleResponse<T = any> {\n  data: T;\n}\n\ninterface Timestampable {\n  readonly created_at: string;\n  readonly updated_at: string;\n  readonly deleted_at: string | null;\n}\n\nexport interface Category extends Timestampable {\n  readonly id: string;\n  name: string;\n  description: string;\n  is_active: boolean;\n}\n\nexport interface CastMember extends Timestampable {\n  readonly id: string;\n  name: string;\n  type: number;\n}\n\nexport const CastMemberTypeMap: { [key: string]: any } = {\n  1: \"Diretor\",\n  2: \"Ator\",\n};\n\nexport interface Genre extends Timestampable {\n  readonly id: string;\n  name: string;\n  is_active: boolean;\n  categories: Category[];\n}\n\nexport const VideoFileFieldsMap = {\n  thumb_file: \"Thumbnail\",\n  banner_file: \"Banner\",\n  trailer_file: \"Trailer\",\n  video_file: \"Principal\",\n};\n\ninterface GenreVideo extends Omit<Genre, \"categories\"> {}\n\nexport interface Video extends Timestampable {\n  readonly id: string;\n  title: string;\n  description: string;\n  year_launched: string;\n  opened: boolean;\n  rating: string;\n  duration: number;\n  genres: GenreVideo[];\n  categories: Category[];\n  cast_members: CastMember[];\n  thumb_file_url: string;\n  banner_file_url: string;\n  trailer_file_url: string;\n  video_file_url: string;\n}\n","import * as React from \"react\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport castMemberHttp from \"../../util/http/cast-member-http\";\nimport { CastMember, listResponse, CastMemberTypeMap } from \"../../util/models\";\nimport { useSnackbar } from \"notistack\";\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from \"../../components/Table\";\nimport useFilter from \"../../hooks/useFilter\";\nimport FilterResetButton from \"../../components/Table/FilterResetButton\";\nimport * as yup from \"../../util/vendor/yup\";\nimport { invert } from \"lodash\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\nimport { DeleteDialog } from \"../../components/DeleteDialog\";\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinitions: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false,\n    },\n  },\n  {\n    name: \"name\",\n    label: \"Nome\",\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: \"type\",\n    label: \"Tipo\",\n    options: {\n      filterOptions: {\n        names: castMemberNames,\n      },\n      customBodyRender(value: number, tableMeta, updateValue) {\n        return CastMemberTypeMap[value];\n      },\n    },\n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue) {\n        return <span> {format(parseISO(value), \"dd/MM/yyyy\")} </span>;\n      },\n    },\n  },\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender: (value, tableMeta, updateValue) => {\n        return (\n          <IconButton\n            color={\"secondary\"}\n            component={Link}\n            to={`/cast-members/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n        );\n      },\n    },\n  },\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const subscribed = useRef(false);\n  const [data, setData] = useState<CastMember[]>([]);\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n\n  const loading = useContext(LoadingContext);\n\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n\n  const {\n    filterManager,\n    filterState,\n    totalRecords,\n    setTotalRecords,\n    debouncedFilterState,\n    columns,\n  } = useFilter({\n    columns: columnsDefinitions,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    debounceTime: debounceTime,\n    tableRef,\n    extraFilter: {\n      createValidationSchema: () => {\n        return yup.object().shape({\n          type: yup\n            .string()\n            .nullable()\n            .transform((value) => {\n              return !value || !castMemberNames.includes(value)\n                ? undefined\n                : value;\n            })\n            .default(null),\n        });\n      },\n      formatSearchParams: () => {\n        return debouncedFilterState.extraFilter\n          ? {\n              ...(debouncedFilterState.extraFilter.type && {\n                type: debouncedFilterState.extraFilter.type,\n              }),\n            }\n          : undefined;\n      },\n      getStateFromURL: (queryParams) => {\n        return {\n          type: queryParams.get(\"type\"),\n        };\n      },\n    },\n  });\n\n  const indexColumnType = columns.findIndex((c) => c.name === \"type\");\n  const columnType = columns[indexColumnType];\n  const typeFilterValue =\n    filterState.extraFilter && (filterState.extraFilter.type as never);\n  (columnType.options as any).filterList = typeFilterValue\n    ? [typeFilterValue]\n    : [];\n\n  const serverSideFilterList = columns.map((column) => []);\n  if (typeFilterValue) {\n    serverSideFilterList[indexColumnType] = [typeFilterValue];\n  }\n\n  const filteredSearch = filterManager.clearSearchText(\n    debouncedFilterState.search\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    filterManager.pushHistory();\n    getData();\n\n    return () => {\n      subscribed.current = false;\n    };\n    // eslint-disable-next-line\n  }, [\n    filteredSearch,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n    // eslint-disable-next-line\n    JSON.stringify(debouncedFilterState.extraFilter),\n  ]);\n\n  async function getData() {\n    try {\n      const { data } = await castMemberHttp.list<listResponse<CastMember>>({\n        queryParams: {\n          search: filterManager.clearSearchText(debouncedFilterState.search),\n          page: debouncedFilterState.pagination.page,\n          per_page: debouncedFilterState.pagination.per_page,\n          sort: debouncedFilterState.order.sort,\n          dir: debouncedFilterState.order.dir,\n          ...(debouncedFilterState.extraFilter &&\n            debouncedFilterState.extraFilter.type && {\n              type: invert(CastMemberTypeMap)[\n                debouncedFilterState.extraFilter.type\n              ],\n            }),\n        },\n      });\n\n      if (subscribed.current) {\n        setData(data.data);\n        setTotalRecords(data.meta.total);\n      }\n    } catch (e) {\n      console.log(e);\n\n      if (castMemberHttp.isCancelledRequest(e)) {\n        return;\n      }\n\n      enqueueSnackbar(\"Não foi possível carregar as informações\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  async function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    try {\n      const ids = rowsToDelete.data\n        .map((value) => data[value.index].id)\n        .join(\",\");\n\n      await castMemberHttp.deleteCollection({ ids });\n\n      if (\n        rowsToDelete.data.length === debouncedFilterState.pagination.per_page &&\n        debouncedFilterState.pagination.page > 1\n      ) {\n        const page = debouncedFilterState.pagination.page - 2;\n        filterManager.changePage(page);\n      } else {\n        await getData();\n      }\n\n      setOpenDeleteDialog(false);\n\n      enqueueSnackbar(\"Registros excluidos com sucesso!\", {\n        variant: \"success\",\n      });\n    } catch (e) {\n      console.log(e);\n      enqueueSnackbar(\"Não foi possível excluir os registros\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title={\"Membros de Elenco\"}\n        columns={filterManager.columns}\n        data={data}\n        loading={loading}\n        debounceSearchTime={debouncedSearchTime}\n        ref={tableRef}\n        options={{\n          serverSideFilterList,\n          serverSide: true,\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions: rowsPerPageOptions,\n          count: totalRecords,\n          customToolbar: () => {\n            return (\n              <FilterResetButton\n                handleClick={() => filterManager.resetFilter()}\n              />\n            );\n          },\n          onFilterChange: (column, filterList, type) => {\n            const columnIndex = columns.findIndex((c) => c.name === column);\n\n            if (columnIndex && filterList[columnIndex]) {\n              filterManager.changeExtraFilter({\n                [column]: filterList[columnIndex].length\n                  ? filterList[columnIndex][0]\n                  : null,\n              });\n            } else {\n              filterManager.clearExtraFilter();\n            }\n          },\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (per_page) =>\n            filterManager.changeRowsPerPage(per_page),\n          onColumnSortChange: (changedColumn: string, direction: string) =>\n            filterManager.changeSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted as any);\n            return false;\n          },\n        }}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default Table;\n","import * as React from \"react\";\r\nimport { Page } from \"../../components/Page\";\r\nimport { Box, Fab } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Table from \"./Table\";\r\n\r\nconst PageList = () => {\r\n  return (\r\n    <Page title={\"Listagem de membros de elencos\"}>\r\n      <Box dir={\"rtl\"} paddingBottom={2}>\r\n        <Fab\r\n          title=\"Adicionar membro de elenco\"\r\n          color={\"secondary\"}\r\n          size=\"small\"\r\n          component={Link}\r\n          to=\"/cast-members/create\"\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </Box>\r\n      <Box>\r\n        <Table />\r\n      </Box>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default PageList;\r\n","// @flow\nimport * as React from \"react\";\nimport {\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n  FormLabel,\n  Radio,\n  RadioGroup,\n  TextField,\n} from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, useParams } from \"react-router\";\nimport { useEffect, useState } from \"react\";\nimport { CastMember } from \"../../util/models\";\nimport castMemberHttp from \"../../util/http/cast-member-http\";\nimport * as yup from \"../../util/vendor/yup\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useSnackbar } from \"notistack\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport { DefaultForm } from \"../../components/DefaultForm\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\n\nconst validationSchema = yup.object().shape({\n  name: yup.string().label(\"Nome\").required().max(255),\n  type: yup.number().label(\"Tipo\").required(),\n});\n\nexport const Form = () => {\n  const {\n    register,\n    getValues,\n    handleSubmit,\n    setValue,\n    errors,\n    reset,\n    watch,\n    trigger,\n    formState\n  } = useForm<{ name, type }>({\n    resolver: yupResolver(validationSchema),\n  });\n\n  useSnackbarFormError(formState.submitCount, errors);\n  const {enqueueSnackbar} = useSnackbar();\n  const history = useHistory();\n  const { id }: any = useParams();\n  const [castMember, setCastMember] = useState<CastMember | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    register({ name: \"type\" });\n  }, [register]);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n    (async function getCastMember() {\n      try {\n        setLoading(true);\n        const { data } = await castMemberHttp.get(id);\n        setCastMember(data.data);\n        reset(data.data);\n      } catch (error) {\n        enqueueSnackbar(\"Nāo foi possível carregar as informações\", {\n          variant: \"error\",\n        });\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [id, reset, enqueueSnackbar]);\n\n  async function onSubmit(formData, event) {\n    try {\n      setLoading(true);\n      const http = !castMember\n        ? castMemberHttp.create(formData)\n        : castMemberHttp.update(castMember.id, formData);\n\n      const { data } = await http;\n\n      enqueueSnackbar(\"Membro de elenco salvo com sucesso\", {\n        variant: \"success\",\n      });\n\n      setTimeout(() => {\n        event\n          ? id\n            ? history.replace(`/cast-members/${data.data.id}/edit`)\n            : history.push(`/cast-members/${data.data.id}/edit`)\n          : history.push(\"/cast-members\");\n      });\n      setLoading(false);\n    } catch (error) {\n      enqueueSnackbar(\"Nāo foi possível salvar o Membro de elenco\", {\n        variant: \"error\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <DefaultForm GridItemProps={{xs:12, md:6}} onSubmit={handleSubmit(onSubmit)}>\n      <TextField\n        name={\"name\"}\n        label={\"Nome\"}\n        variant={\"outlined\"}\n        fullWidth\n        InputLabelProps={{ shrink: true }}\n        error={errors[\"name\"] !== undefined}\n        helperText={errors[\"name\"] !== undefined && errors[\"name\"].message}\n        disabled={loading}\n        inputRef={register}\n      />\n      <FormControl\n        margin={\"normal\"}\n        error={errors.type !== undefined}\n        disabled={loading}\n      >\n        <FormLabel component={\"legend\"}>Tipo</FormLabel>\n        <RadioGroup\n          name={\"type\"}\n          onChange={(e) => {\n            setValue(\"type\", parseInt(e.target.value));\n          }}\n          value={watch(\"type\") + \"\"}\n        >\n          <FormControlLabel\n            value=\"1\"\n            control={<Radio color={\"primary\"} />}\n            label=\"Diretor\"\n          />\n          <FormControlLabel\n            value=\"2\"\n            control={<Radio color={\"primary\"} />}\n            label=\"Ator\"\n          />\n        </RadioGroup>\n        {errors.type && (\n          <FormHelperText id=\"type-helper-text\">\n            {errors.type.message}\n          </FormHelperText>\n        )}\n      </FormControl>\n      <SubmitActions\n        disabledButtons={loading}\n        handleSave={() =>\n          trigger().then((isValid) => {\n            isValid && onSubmit(getValues(), null);\n          })\n        }\n      />\n    </DefaultForm>\n  );\n};\n","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport { useParams } from 'react-router';\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const parametros:any = useParams();\n    return (\n        <Page title={!parametros.id ? 'Criar membro de elenco' : 'Editar membro de elenco'}>\n            <Form />\n        </Page>\n    );\n};\n\nexport default PageForm;","import HttpResource from \"./http-resource\";\nimport { httpVideo } from \"./index\";\n\nconst genreHttp = new HttpResource(httpVideo, \"genres\");\n\nexport default genreHttp;\n","import * as React from \"react\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport { BadgeNo, BadgeYes } from \"../../components/Badge\";\nimport { Category, Genre, listResponse } from \"../../util/models\";\nimport { useSnackbar } from \"notistack\";\nimport useFilter from \"../../hooks/useFilter\";\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from \"../../components/Table\";\nimport FilterResetButton from \"../../components/Table/FilterResetButton\";\nimport * as yup from \"../../util/vendor/yup\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\nimport genreHttp from \"../../util/http/genre-http\";\nimport { DeleteDialog } from \"../../components/DeleteDialog\";\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\n\nconst columnsDefinitions: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false,\n    },\n  },\n  {\n    name: \"name\",\n    label: \"Nome\",\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: \"categories\",\n    label: \"Categorias\",\n    options: {\n      filterType: \"multiselect\",\n      filterOptions: {\n        names: [],\n      },\n      customBodyRender(value, tableMeta, updateValue) {\n        return (\n          <span>\n            {\" \"}\n            {value.map((value: { name: any }) => value.name).join(\", \")}{\" \"}\n          </span>\n        );\n      },\n    },\n  },\n  {\n    name: \"is_active\",\n    label: \"Ativo?\",\n    options: {\n      filterOptions: {\n        names: [\"Sim\", \"Nāo\"],\n      },\n      customBodyRender(value, tableMeta, updateValue) {\n        return value ? <BadgeYes /> : <BadgeNo />;\n      },\n    },\n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue) {\n        return <span> {format(parseISO(value), \"dd/MM/yyyy\")} </span>;\n      },\n    },\n  },\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender: (value, tableMeta, updateValue) => {\n        return (\n          <IconButton\n            color={\"secondary\"}\n            component={Link}\n            to={`/genres/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n        );\n      },\n    },\n  },\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nexport const Table = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const [data, setData] = useState<Genre[]>([]);\n  const subscribed = useRef(true);\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n  // eslint-disable-next-line\n  const [categories, setCategories] = useState<Category[]>([]);\n  const loading = useContext(LoadingContext);\n\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n\n  const {\n    columns,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords,\n  } = useFilter({\n    columns: columnsDefinitions,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    debounceTime: debounceTime,\n    tableRef: tableRef,\n    extraFilter: {\n      createValidationSchema: () => {\n        return yup.object().shape({\n          categories: yup\n            .mixed()\n            .nullable()\n            .transform((value) => {\n              return !value || value === \"\" ? undefined : value.split(\",\");\n            })\n            .default(null),\n        });\n      },\n      formatSearchParams: (debouncedState) => {\n        return debouncedState.extraFilter\n          ? {\n              ...(debouncedState.extraFilter.categories && {\n                categories: debouncedState.extraFilter.categories.join(\",\"),\n              }),\n            }\n          : undefined;\n      },\n      getStateFromURL: (queryParams) => {\n        return {\n          categories: queryParams.get(\"categories\"),\n        };\n      },\n    },\n  });\n\n  const indexColumnCategories = columns.findIndex(\n    (c) => c.name === \"categories\"\n  );\n  const columnCategories = columns[indexColumnCategories];\n  const categoriesFilterValue =\n    debouncedFilterState.extraFilter &&\n    debouncedFilterState.extraFilter.categories;\n  (columnCategories.options as any).filterList = categoriesFilterValue\n    ? categoriesFilterValue\n    : [];\n\n  const serverSideFilterList = columns.map((column) => []);\n  if (categoriesFilterValue) {\n    serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n  }\n\n  useEffect(() => {\n    subscribed.current = true;\n\n    (async () => {\n      try {\n        const { data } = await categoryHttp.list({ queryParams: { all: \"\" } });\n\n        if (subscribed.current) {\n          setCategories(data.data);\n          (columnCategories.options as any).filterOptions.names = data.data.map(\n            (category) => category.name\n          );\n        }\n      } catch (e) {\n        console.log(e);\n        if (categoryHttp.isCancelledRequest(e)) {\n          return;\n        }\n        enqueueSnackbar(\"Não foi possível carregar as informações\", {\n          variant: \"error\",\n        });\n      }\n    })();\n\n    return () => {\n      subscribed.current = false;\n    };\n    // eslint-disable-next-line\n  }, [enqueueSnackbar]);\n\n  const filteredSearch = filterManager.clearSearchText(\n    debouncedFilterState.search\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData();\n    filterManager.pushHistory();\n    return () => {\n      subscribed.current = false;\n    };\n    // eslint-disable-next-line\n  }, [\n    filteredSearch,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n    // eslint-disable-next-line\n    JSON.stringify(debouncedFilterState.extraFilter),\n  ]);\n\n  async function getData() {\n    try {\n      const { data } = await genreHttp.list<listResponse<Genre>>({\n        queryParams: {\n          search: filterManager.clearSearchText(debouncedFilterState.search),\n          page: debouncedFilterState.pagination.page,\n          per_page: debouncedFilterState.pagination.per_page,\n          sort: debouncedFilterState.order.sort,\n          dir: debouncedFilterState.order.dir,\n          ...(debouncedFilterState.extraFilter &&\n            debouncedFilterState.extraFilter.categories && {\n              categories: debouncedFilterState.extraFilter.categories.join(\",\"),\n            }),\n        },\n      });\n\n      if (subscribed.current) {\n        setData(data.data);\n        setTotalRecords(data.meta.total);\n      }\n    } catch (e) {\n      console.log(e);\n      if (genreHttp.isCancelledRequest(e)) {\n        return;\n      }\n      enqueueSnackbar(\"Não foi possível carregar as informações\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  async function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    try {\n      const ids = rowsToDelete.data\n        .map((value) => data[value.index].id)\n        .join(\",\");\n\n      await genreHttp.deleteCollection({ ids });\n\n      if (\n        rowsToDelete.data.length === debouncedFilterState.pagination.per_page &&\n        debouncedFilterState.pagination.page > 1\n      ) {\n        const page = debouncedFilterState.pagination.page - 2;\n        filterManager.changePage(page);\n      } else {\n        await getData();\n      }\n\n      setOpenDeleteDialog(false);\n\n      enqueueSnackbar(\"Registros excluidos com sucesso!\", {\n        variant: \"success\",\n      });\n    } catch (e) {\n      console.log(e);\n      enqueueSnackbar(\"Não foi possível excluir os registros\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title={\"Gêneros\"}\n        columns={filterManager.columns}\n        data={data}\n        loading={loading}\n        debounceSearchTime={debouncedSearchTime}\n        ref={tableRef}\n        options={{\n          serverSide: true,\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: rowsPerPage,\n          rowsPerPageOptions: rowsPerPageOptions,\n          count: totalRecords,\n          customToolbar: () => {\n            return (\n              <FilterResetButton\n                handleClick={() => filterManager.resetFilter()}\n              />\n            );\n          },\n          onFilterChange: (column, filterList, type) => {\n            const columnIndex = columns.findIndex((c) => c.name === column);\n\n            if (columnIndex && filterList[columnIndex]) {\n              filterManager.changeExtraFilter({\n                [column]: filterList[columnIndex].length\n                  ? filterList[columnIndex]\n                  : null,\n              });\n            } else {\n              filterManager.clearExtraFilter();\n            }\n          },\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (per_page) =>\n            filterManager.changeRowsPerPage(per_page),\n          onColumnSortChange: (changedColumn: string, direction: string) =>\n            filterManager.changeSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted as any);\n            return false;\n          },\n        }}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default Table;\n","import * as React from \"react\";\r\nimport { Page } from \"../../components/Page\";\r\nimport { Box, Fab } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Table from \"./Table\";\r\n\r\nconst PageList = () => {\r\n  return (\r\n    <Page title={\"Listagem de gêneros\"}>\r\n      <Box dir={\"rtl\"} paddingBottom={2}>\r\n        <Fab\r\n          title=\"Adicionar gênero\"\r\n          color={\"secondary\"}\r\n          size=\"small\"\r\n          component={Link}\r\n          to=\"/genres/create\"\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </Box>\r\n      <Box>\r\n        <Table />\r\n      </Box>\r\n    </Page>\r\n  );\r\n};\r\n\r\nexport default PageList;\r\n","// @flow\nimport * as React from \"react\";\nimport {\n  Checkbox,\n  FormControlLabel,\n  MenuItem,\n  TextField,\n} from \"@material-ui/core\";\nimport { useHistory, useParams } from \"react-router\";\nimport { useEffect, useState } from \"react\";\nimport { Category, Genre } from \"../../util/models\";\nimport genreHttp from \"../../util/http/genre-http\";\nimport * as yup from \"../../util/vendor/yup\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport { useSnackbar } from \"notistack\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport { DefaultForm } from \"../../components/DefaultForm\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\n\nconst validationSchema = yup.object().shape({\n  name: yup.string().label(\"Nome\").required().max(255),\n  categories_id: yup.array().label(\"Categorias\").min(1),\n  is_active: yup.boolean().label(\"Ativo?\").required(),\n});\n\nexport const Form = () => {\n  const {\n    register,\n    getValues,\n    handleSubmit,\n    setValue,\n    watch,\n    errors,\n    reset,\n    trigger,\n    formState,\n  } = useForm<{ name; categories_id; is_active }>({\n    resolver: yupResolver(validationSchema),\n    defaultValues: {\n      categories_id: [],\n      is_active: true,\n    },\n  });\n\n  useSnackbarFormError(formState.submitCount, errors);\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const [genre, setGenre] = useState<Genre | null>(null);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const { id }: any = useParams();\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const hasErrorById = (error: any, id: string) => {\n    return error[id] !== undefined;\n  };\n\n  const getErroMessageById = (error: any, id: string) => {\n    return error[id] !== undefined && error[id].message !== undefined\n      ? error[id].message\n      : undefined;\n  };\n\n  useEffect(() => {\n    register({ name: \"categories_id\" });\n  }, [register]);\n\n  useEffect(() => {\n    register({ name: \"is_active\" });\n  }, [register]);\n\n  useEffect(() => {\n    categoryHttp.list().then(({ data }) => setCategories(data.data));\n  }, []);\n\n  useEffect(() => {\n    let isSubscribed = true;\n\n    (async () => {\n      setLoading(true);\n      const promises = [categoryHttp.list({ queryParams: { all: \"\" } })];\n\n      if (id) {\n        promises.push(genreHttp.get(id));\n      }\n\n      try {\n        const [categoriesResponse, genreResponse] = await Promise.all(promises);\n\n        if (isSubscribed) {\n          setCategories(categoriesResponse.data.data);\n\n          if (id) {\n            setGenre(genreResponse.data.data);\n            const categories_id = genreResponse.data.data.categories.map(\n              (category) => category.id\n            );\n            reset({\n              ...genreResponse.data.data,\n              categories_id,\n            });\n          }\n        }\n      } catch (error) {\n        enqueueSnackbar(\"Nāo foi possível carregar as informações\", {\n          variant: \"error\",\n        });\n      } finally {\n        setLoading(false);\n      }\n    })();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [id, reset, enqueueSnackbar]);\n\n  async function onSubmit(formData, event) {\n    try {\n      setLoading(true);\n      const http = !genre\n        ? genreHttp.create(formData)\n        : genreHttp.update(genre.id, formData);\n\n      const { data } = await http;\n\n      enqueueSnackbar(\"Gênero salvo com sucesso\", {\n        variant: \"success\",\n      });\n\n      setTimeout(() => {\n        event\n          ? id\n            ? history.replace(`/genres/${data.data.id}/edit`)\n            : history.push(`/genres/${data.data.id}/edit`)\n          : history.push(\"/genres\");\n      });\n    } catch (error) {\n      enqueueSnackbar(\"Nāo foi possível salvar o Gênero\", {\n        variant: \"error\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <DefaultForm\n      GridItemProps={{ xs: 12, md: 6 }}\n      onSubmit={handleSubmit(onSubmit)}\n    >\n      <TextField\n        name={\"name\"}\n        label={\"Nome\"}\n        variant={\"outlined\"}\n        fullWidth\n        InputLabelProps={{ shrink: true }}\n        error={hasErrorById(errors, \"name\")}\n        helperText={getErroMessageById(errors, \"name\")}\n        disabled={loading}\n        inputRef={register}\n      />\n\n      <TextField\n        select\n        name={\"categories_id\"}\n        value={watch(\"categories_id\")}\n        label={\"Categorias\"}\n        variant={\"outlined\"}\n        margin={\"normal\"}\n        fullWidth\n        onChange={(e) => {\n          setValue(\"categories_id\", e.target.value);\n        }}\n        SelectProps={{\n          multiple: true,\n        }}\n        disabled={loading}\n        error={hasErrorById(errors, \"categories_id\")}\n        helperText={getErroMessageById(errors, \"categories_id\")}\n        InputLabelProps={{ shrink: true }}\n      >\n        <MenuItem value=\"\" disabled>\n          <em>Selecione categorias</em>\n        </MenuItem>\n\n        {categories.map((category, key) => (\n          <MenuItem key={key} value={category.id}>\n            {category.name}\n          </MenuItem>\n        ))}\n      </TextField>\n\n      <FormControlLabel\n        disabled={loading}\n        control={\n          <Checkbox\n            name={\"is_active\"}\n            color={\"primary\"}\n            onChange={() => setValue(\"is_active\", !getValues()[\"is_active\"])}\n            checked={watch(\"is_active\")}\n          />\n        }\n        label={\"Ativo?\"}\n        labelPlacement={\"end\"}\n      />\n      <SubmitActions\n        disabledButtons={loading}\n        handleSave={() =>\n          trigger().then((isValid) => {\n            isValid && onSubmit(getValues(), null);\n          })\n        }\n      />\n    </DefaultForm>\n  );\n};\n","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport { useParams } from 'react-router';\nimport { Form } from './Form';\n\nconst PageForm = () => {\n    const parametros:any = useParams();\n    return (\n        <Page title={!parametros.id ? 'Criar Gênero' : 'Editar Gênero'}>\n            <Form />\n        </Page>\n    );\n};\n\nexport default PageForm;","import HttpResource from \"./http-resource\";\nimport { httpVideo } from \"./index\";\n\nconst videoHttp = new HttpResource(httpVideo, \"videos\");\n\nexport default videoHttp;\n","import * as React from \"react\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from \"../../components/Table\";\nimport { useSnackbar } from \"notistack\";\nimport { Category, listResponse, Video } from \"../../util/models\";\nimport useFilter from \"../../hooks/useFilter\";\nimport videoHttp from \"../../util/http/video-http\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport FilterResetButton from \"../../components/Table/FilterResetButton\";\nimport { format, parseISO } from \"date-fns\";\nimport * as yup from \"../../util/vendor/yup\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport { Link } from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { DeleteDialog } from \"../../components/DeleteDialog\";\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\nimport LoadingContext from \"../../components/loading/LoadingContext\";\n\nconst columnsDefinitions: TableColumn[] = [\n  {\n    name: \"id\",\n    label: \"ID\",\n    width: \"30%\",\n    options: {\n      sort: false,\n      filter: false,\n    },\n  },\n  {\n    name: \"title\",\n    label: \"Titulo\",\n    width: \"20%\",\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: \"genres\",\n    label: \"Gẽneros\",\n    width: \"13%\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue) {\n        return (\n          <span>\n            {\" \"}\n            {value.map((value: { name: any }) => value.name).join(\", \")}{\" \"}\n          </span>\n        );\n      },\n    },\n  },\n  {\n    name: \"categories\",\n    label: \"Categorias\",\n    width: \"12%\",\n    options: {\n      filterType: \"multiselect\",\n      filterOptions: {\n        names: [],\n      },\n      customBodyRender(value, tableMeta, updateValue) {\n        return (\n          <span>\n            {\" \"}\n            {value.map((value: { name: any }) => value.name).join(\", \")}{\" \"}\n          </span>\n        );\n      },\n    },\n  },\n  {\n    name: \"created_at\",\n    label: \"Criado em\",\n    width: \"10%\",\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue) {\n        return <span> {format(parseISO(value), \"dd/MM/yyyy\")} </span>;\n      },\n    },\n  },\n  {\n    name: \"actions\",\n    label: \"Ações\",\n    width: \"13%\",\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender: (value, tableMeta, updateValue) => {\n        return (\n          <IconButton\n            color={\"secondary\"}\n            component={Link}\n            to={`/videos/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n        );\n      },\n    },\n  },\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const [data, setData] = useState<Video[]>([]);\n  const subscribed = useRef(true);\n  const tableRef = useRef() as React.MutableRefObject<MuiDataTableRefComponent>;\n  // eslint-disable-next-line\n  const [categories, setCategories] = useState<Category[]>();\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n\n  const loading = useContext(LoadingContext);\n\n  const {\n    columns,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords,\n  } = useFilter({\n    columns: columnsDefinitions,\n    rowsPerPage: rowsPerPage,\n    rowsPerPageOptions: rowsPerPageOptions,\n    debounceTime: debounceTime,\n    tableRef: tableRef,\n    extraFilter: {\n      createValidationSchema: () => {\n        return yup.object().shape({\n          categories: yup\n            .mixed()\n            .nullable()\n            .transform((value) => {\n              return !value || value === \"\" ? undefined : value.split(\",\");\n            })\n            .default(null),\n        });\n      },\n      formatSearchParams: (debouncedState) => {\n        return debouncedState.extraFilter\n          ? {\n              ...(debouncedState.extraFilter.categories && {\n                categories: debouncedState.extraFilter.categories.join(\",\"),\n              }),\n            }\n          : undefined;\n      },\n      getStateFromURL: (queryParams) => {\n        return {\n          categories: queryParams.get(\"categories\"),\n        };\n      },\n    },\n  });\n\n  const indexColumnCategories = columns.findIndex(\n    (c) => c.name === \"categories\"\n  );\n  const columnCategories = columns[indexColumnCategories];\n  const categoriesFilterValue =\n    debouncedFilterState.extraFilter &&\n    debouncedFilterState.extraFilter.categories;\n  (columnCategories.options as any).filterList = categoriesFilterValue\n    ? categoriesFilterValue\n    : [];\n\n  const serverSideFilterList = columns.map((column) => []);\n  if (categoriesFilterValue) {\n    serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n  }\n\n  useEffect(() => {\n    subscribed.current = true;\n\n    (async () => {\n      try {\n        const { data } = await categoryHttp.list({ queryParams: { all: \"\" } });\n\n        if (subscribed.current) {\n          setCategories(data.data);\n          (columnCategories.options as any).filterOptions.names = data.data.map(\n            (category) => category.name\n          );\n        }\n      } catch (e) {\n        console.log(e);\n        if (categoryHttp.isCancelledRequest(e)) {\n          return;\n        }\n        enqueueSnackbar(\"Não foi possível carregar as informações\", {\n          variant: \"error\",\n        });\n      }\n    })();\n\n    return () => {\n      subscribed.current = false;\n    };\n    // eslint-disable-next-line\n  }, [enqueueSnackbar]);\n\n  const filteredSearch = filterManager.clearSearchText(\n    debouncedFilterState.search\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData();\n    filterManager.pushHistory();\n\n    return () => {\n      subscribed.current = false;\n    };\n    // eslint-disable-next-line\n  }, [\n    filteredSearch,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n    // eslint-disable-next-line\n    JSON.stringify(debouncedFilterState.extraFilter),\n  ]);\n\n  async function getData() {\n    try {\n      const { data } = await videoHttp.list<listResponse<Video>>({\n        queryParams: {\n          search: filterManager.clearSearchText(debouncedFilterState.search),\n          page: debouncedFilterState.pagination.page,\n          per_page: debouncedFilterState.pagination.per_page,\n          sort: debouncedFilterState.order.sort,\n          dir: debouncedFilterState.order.dir,\n          ...(debouncedFilterState.extraFilter &&\n            debouncedFilterState.extraFilter.categories && {\n              categories: debouncedFilterState.extraFilter.categories.join(\",\"),\n            }),\n        },\n      });\n\n      if (subscribed.current) {\n        setData(data.data);\n        setTotalRecords(data.meta.total);\n      }\n    } catch (e) {\n      console.log(e);\n      if (videoHttp.isCancelledRequest(e)) {\n        return;\n      }\n      enqueueSnackbar(\"Não foi possível carregar as informações\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  async function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    try {\n      const ids = rowsToDelete.data\n        .map((value) => data[value.index].id)\n        .join(\",\");\n\n      await videoHttp.deleteCollection({ ids });\n\n      if (\n        rowsToDelete.data.length === debouncedFilterState.pagination.per_page &&\n        debouncedFilterState.pagination.page > 1\n      ) {\n        const page = debouncedFilterState.pagination.page - 2;\n        filterManager.changePage(page);\n      } else {\n        await getData();\n      }\n\n      setOpenDeleteDialog(false);\n\n      enqueueSnackbar(\"Registros excluidos com sucesso!\", {\n        variant: \"success\",\n      });\n    } catch (e) {\n      console.log(e);\n      enqueueSnackbar(\"Não foi possível excluir os registros\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title={\"Videos\"}\n        data={data}\n        columns={columns}\n        debounceSearchTime={debouncedSearchTime}\n        loading={loading}\n        ref={tableRef}\n        options={{\n          serverSide: true,\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: rowsPerPage,\n          rowsPerPageOptions: rowsPerPageOptions,\n          count: totalRecords,\n          customToolbar: () => {\n            return (\n              <FilterResetButton\n                handleClick={() => filterManager.resetFilter()}\n              />\n            );\n          },\n          onFilterChange: (column, filterList, type) => {\n            const columnIndex = columns.findIndex((c) => c.name === column);\n\n            if (columnIndex && filterList[columnIndex]) {\n              filterManager.changeExtraFilter({\n                [column]: filterList[columnIndex].length\n                  ? filterList[columnIndex]\n                  : null,\n              });\n            } else {\n              filterManager.clearExtraFilter();\n            }\n          },\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (per_page) =>\n            filterManager.changeRowsPerPage(per_page),\n          onColumnSortChange: (changedColumn: string, direction: string) =>\n            filterManager.changeSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted as any);\n            return false;\n          },\n        }}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default Table;\n","import * as React from \"react\";\nimport { Page } from \"../../components/Page\";\nimport { Box } from \"@material-ui/core\";\nimport Fab from \"@material-ui/core/Fab\";\nimport { Link } from \"react-router-dom\";\nimport { Add } from \"@material-ui/icons\";\nimport Table from \"./Table\";\n\nconst PageList = () => {\n  return (\n    <Page title={\"Listagem de videos\"}>\n      <Box dir={\"rtl\"} paddingBottom={2}>\n        <Fab\n          title={\"Adicionar video\"}\n          size={\"small\"}\n          component={Link}\n          to={\"/videos/create\"}\n          color={\"secondary\"}\n        >\n          <Add />\n        </Fab>\n      </Box>\n      <Box>\n        <Table />\n      </Box>\n    </Page>\n  );\n};\n\nexport default PageList;\n","// @flow\nimport * as React from 'react';\nimport { makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '36px',\n    height: '36px',\n    fontSize: '1.2em',\n    color: '#fff',\n    borderRadius: '4px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nconst backgroundColors = {\n  'L': '#39B549',\n  '10': '#20A3D4',\n  '12': '#E79738',\n  '14': '#E35E00',\n  '16': '#d00003',\n  '18': '#000000',\n};\n\ninterface RatingProps {\n  rating: 'L' | '10' | '12' | '14' | '16' | '18';\n}\nconst Rating: React.FC<RatingProps> = (props) => {\n  // @ts-ignore\n  const classes = useStyles();\n  return (\n    <Typography\n      className={classes.root}\n      style={{\n        backgroundColor: backgroundColors[props.rating],\n      }}\n    >\n      {props.rating}\n    </Typography>\n  );\n};\n\nexport default Rating;\n","// @flow\nimport * as React from \"react\";\nimport {\n  Box,\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n  FormLabel,\n  Radio,\n  RadioGroup,\n} from \"@material-ui/core\";\nimport { FormControlLabelProps } from \"@material-ui/core/FormControlLabel\";\nimport Rating from \"../../../components/Rating\";\nimport { FormControlProps } from \"@material-ui/core/FormControl\";\n\ninterface RatingFieldProps {\n  value: any;\n  setValue: (value) => void;\n  disabled?: boolean;\n  error: any;\n  FormControlProps?: FormControlProps;\n}\n\nconst ratings: FormControlLabelProps[] = [\n  {\n    value: \"L\",\n    control: <Radio color={\"primary\"} />,\n    label: <Rating rating={\"L\"} />,\n    labelPlacement: \"top\",\n  },\n  {\n    value: \"10\",\n    control: <Radio color={\"primary\"} />,\n    label: <Rating rating={\"10\"} />,\n    labelPlacement: \"top\",\n  },\n  {\n    value: \"12\",\n    control: <Radio color={\"primary\"} />,\n    label: <Rating rating={\"12\"} />,\n    labelPlacement: \"top\",\n  },\n  {\n    value: \"14\",\n    control: <Radio color={\"primary\"} />,\n    label: <Rating rating={\"14\"} />,\n    labelPlacement: \"top\",\n  },\n  {\n    value: \"16\",\n    control: <Radio color={\"primary\"} />,\n    label: <Rating rating={\"16\"} />,\n    labelPlacement: \"top\",\n  },\n  {\n    value: \"18\",\n    control: <Radio color={\"primary\"} />,\n    label: <Rating rating={\"18\"} />,\n    labelPlacement: \"top\",\n  },\n];\n\nexport const RatingField: React.FC<RatingFieldProps> = (props) => {\n  const { value, setValue, disabled, error } = props;\n  return (\n    <FormControl\n      error={error !== undefined}\n      disabled={disabled === true}\n      {...props.FormControlProps}\n    >\n      <FormLabel component={\"legend\"}>Classificaçāo</FormLabel>\n      <Box paddingTop={1}>\n        <RadioGroup\n          name=\"rating\"\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          value={value}\n          row\n        >\n          {ratings.map((props: FormControlLabelProps, key: number) => (\n            <FormControlLabel key={key} {...props} />\n          ))}\n        </RadioGroup>\n      </Box>\n      {error && (\n        <FormHelperText id=\"type-helper-text\">{error.message}</FormHelperText>\n      )}\n    </FormControl>\n  );\n};\n","// @flow\nimport * as React from \"react\";\nimport { InputAdornment, TextField } from \"@material-ui/core\";\n\nimport {\n  MutableRefObject,\n  RefAttributes,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from \"react\";\nimport { TextFieldProps } from \"@material-ui/core/TextField\";\n\nexport interface InputFileProps extends RefAttributes<InputFileComponent> {\n  ButtonFile: React.ReactNode;\n  InputFileProps?: React.DetailedHTMLProps<\n    React.InputHTMLAttributes<HTMLInputElement>,\n    HTMLInputElement\n  >;\n  TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n  openWindow: () => void;\n  clear: () => void;\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>(\n  (props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState(\"\");\n\n    const textFieldProps: TextFieldProps = {\n      variant: \"outlined\",\n      ...props.TextFieldProps,\n      InputProps: {\n        readOnly: true,\n        ...(props.TextFieldProps &&\n          props.TextFieldProps.InputProps && {\n            ...props.TextFieldProps.InputProps,\n          }),\n        endAdornment: (\n          <InputAdornment position={\"end\"}>{props.ButtonFile}</InputAdornment>\n        ),\n      },\n      value: filename,\n    };\n\n    const inputFileProps = {\n      ...props.InputFileProps,\n      hidden: true,\n      ref: fileRef,\n      onChange(event) {\n        const files = event.target.files;\n        if (files.length) {\n          setFilename(\n            Array.from(files)\n              .map((file: any) => file.name)\n              .join(\",\")\n          );\n        }\n        if (props.InputFileProps && props.InputFileProps.onChange) {\n          props.InputFileProps.onChange(event);\n        }\n      },\n    };\n\n    useImperativeHandle(ref, () => ({\n      openWindow: () => fileRef.current.click(),\n      clear: () => setFilename(\"\"),\n    }));\n\n    return (\n      <>\n        <input type=\"file\" {...inputFileProps} />\n        <TextField {...textFieldProps} />\n      </>\n    );\n  }\n);\n\nexport default InputFile;\n","import * as React from \"react\";\nimport FormControl, { FormControlProps } from \"@material-ui/core/FormControl\";\nimport { Button } from \"@material-ui/core\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\nimport InputFile, { InputFileComponent } from \"../../../components/InputFile\";\nimport { useImperativeHandle, useRef } from \"react\";\nimport { MutableRefObject } from \"react\";\n\ninterface UploadFieldProps {\n  label: string;\n  accept: string;\n  setValue: (value) => void;\n  error?: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface UploadFieldComponent {\n  clear: () => void;\n}\n\nexport const UploadField = React.forwardRef<\n  UploadFieldComponent,\n  UploadFieldProps\n>((props, ref) => {\n  const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n\n  const { label, accept, setValue, disabled, error } = props;\n\n  useImperativeHandle(ref, () => ({\n    clear: () => fileRef.current.clear(),\n  }));\n\n  return (\n    <FormControl\n      error={error !== undefined}\n      disabled={disabled === true}\n      fullWidth\n      margin={\"normal\"}\n      {...props.FormControlProps}\n    >\n      <InputFile\n        ref={fileRef}\n        TextFieldProps={{\n          label: label,\n          InputLabelProps: { shrink: true },\n          style: { backgroundColor: \"#ffffff\" },\n          disabled: disabled === true,\n        }}\n        InputFileProps={{\n          accept,\n          onChange(event) {\n            const files = event.target.files as any;\n            files.length && setValue(files[0]);\n          },\n          disabled: disabled === true,\n        }}\n        ButtonFile={\n          <Button\n            endIcon={<CloudUploadIcon />}\n            variant={\"contained\"}\n            color={\"primary\"}\n            onClick={() => fileRef.current.openWindow()}\n            disabled={disabled === true}\n          >\n            Adicionar\n          </Button>\n        }\n      />\n    </FormControl>\n  );\n});\n","import * as React from \"react\";\nimport {\n  Autocomplete,\n  AutocompleteProps,\n  UseAutocompleteSingleProps,\n} from \"@material-ui/lab\";\nimport { TextFieldProps } from \"@material-ui/core\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { RefAttributes, useContext, useState } from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { useEffect } from \"react\";\nimport { useDebounce } from \"use-debounce\";\nimport { useImperativeHandle } from \"react\";\nimport LoadingContext from \"./loading/LoadingContext\";\n\ninterface AsyncAutoCompleteProps\n  extends RefAttributes<AsyncAutoCompleteComponent> {\n  fetchOptions: (debouncedSearchText) => Promise<any>;\n  debounceTime?: number;\n  TextFieldProps?: TextFieldProps;\n  AutocompleteProps?: Omit<AutocompleteProps<any>, \"renderInput\" | \"options\"> &\n    Omit<UseAutocompleteSingleProps<any>, \"renderInput\" | \"options\">;\n}\n\nexport interface AsyncAutoCompleteComponent {\n  clear: () => void;\n}\n\nexport const AsyncAutoComplete = React.forwardRef<\n  AsyncAutoCompleteComponent,\n  AsyncAutoCompleteProps\n>((props, ref) => {\n  const { AutocompleteProps, debounceTime = 300, fetchOptions } = props;\n  const { freeSolo, onOpen, onClose, onInputChange } = AutocompleteProps as any;\n  const [open, setOpen] = useState<boolean>(false);\n  const [searchText, setSearchText] = useState<string>(\"\");\n  const [debouncedSearchText] = useDebounce<string>(searchText, debounceTime);\n  const loading = useContext(LoadingContext);\n  const [options, setOptions] = useState([]);\n\n  const textFieldProps: TextFieldProps = {\n    margin: \"normal\",\n    variant: \"outlined\",\n    fullWidth: true,\n    InputLabelProps: { shrink: true },\n    ...(props.TextFieldProps && { ...props.TextFieldProps }),\n  };\n\n  const autoCompleteProps: AutocompleteProps<any> = {\n    loadingText: \"Carregando...\",\n    noOptionsText: \"Nenhum item encontrado\",\n    ...(AutocompleteProps && { ...AutocompleteProps }),\n    open,\n    options: options,\n    loading: loading,\n    onOpen() {\n      setOpen(true);\n\n      /** Chama funcao passada em props, caso exista*/\n      onOpen && onOpen();\n    },\n    onClose() {\n      setOpen(false);\n\n      /** Chama funcao passada em props, caso exista*/\n      onClose && onClose();\n    },\n    onInputChange(event, value) {\n      setSearchText(value);\n\n      /** Chama funcao passada em props, caso exista*/\n      onInputChange && onInputChange();\n    },\n    renderInput: (params) => (\n      <TextField\n        {...params}\n        {...textFieldProps}\n        InputProps={{\n          ...params.InputProps,\n          endAdornment: (\n            <React.Fragment>\n              {loading && <CircularProgress color={\"inherit\"} size={20} />}\n              {params.InputProps.endAdornment}\n            </React.Fragment>\n          ),\n        }}\n      />\n    ),\n  };\n\n  useEffect(() => {\n    if (!open && !freeSolo) {\n      setOptions([]);\n    }\n  }, [freeSolo, open]);\n\n  useEffect(() => {\n    /**\n     * Se estiver fechado ou a busca for vazia e for freeSolo\n     *\n     * */\n    if (!open) {\n      return;\n    }\n    if (debouncedSearchText === \"\" && freeSolo) {\n      return;\n    }\n\n    let isSubscribed = true;\n    (async () => {\n      try {\n        const data = await fetchOptions(debouncedSearchText);\n        if (isSubscribed) {\n          setOptions(data);\n        }\n      } catch (e) {}\n    })();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n\n  useImperativeHandle(ref, () => ({\n    clear: () => {\n      setSearchText(\"\");\n      setOptions([]);\n    },\n  }));\n\n  return <Autocomplete {...autoCompleteProps} />;\n});\n","// @flow\nimport * as React from \"react\";\nimport { createStyles, Grid, GridProps, Theme } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: \"#f1f1f1\",\n      borderRadius: \"4px\",\n      padding: theme.spacing(1, 1),\n      color: theme.palette.secondary.main,\n    },\n  })\n);\n\ninterface GridSelectedProps extends GridProps {}\n\nexport const GridSelected: React.FC<GridSelectedProps> = (props) => {\n  const classes = useStyles();\n  return (\n    <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n      {props.children}\n    </Grid>\n  );\n};\n\nexport default GridSelected;\n","// @flow\nimport * as React from \"react\";\nimport { Grid, GridProps, IconButton } from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\ninterface GridSelectedItemProps extends GridProps {\n  onDelete: () => void;\n}\n\nexport const GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n  const { onDelete, children, ...other } = props;\n  return (\n    <Grid item {...other}>\n      <Grid container alignItems={\"center\"} spacing={3}>\n        <Grid item xs={1}>\n          <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n            <DeleteIcon />\n          </IconButton>\n        </Grid>\n        <Grid item xs={9} md={10}>\n          {children}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GridSelectedItem;\n","import { useSnackbar } from \"notistack\";\n\nconst useCollectionManager = (\n  collection: any[],\n  setCollettion: (item) => void\n) => {\n  const snackbar = useSnackbar();\n\n  return {\n    addItem(item) {\n      if (!item || item === \"\") {\n        return;\n      }\n      const exists = collection.find((i) => i.id === item.id);\n      if (exists) {\n        snackbar.enqueueSnackbar(\"Item já adiconado\", { variant: \"info\" });\n        return;\n      }\n\n      collection.unshift(item);\n      setCollettion(collection);\n    },\n    removeItem(item) {\n      const index = collection.findIndex((i) => i.id === item.id);\n      if (index === -1) {\n        return;\n      }\n      collection.splice(index, 1);\n      setCollettion(collection);\n    },\n  };\n};\n\nexport default useCollectionManager;\n","import { useSnackbar } from \"notistack\";\nimport Axios from \"axios\";\nimport { useCallback } from \"react\";\n\nconst useHttpHandled = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  return useCallback(\n    async (request: Promise<any>) => {\n      try {\n        const { data } = await request;\n        return data;\n      } catch (e) {\n        if (!Axios.isCancel(e)) {\n          enqueueSnackbar(\"Não foi possível carregar as informações\", {\n            variant: \"error\",\n          });\n        }\n        throw e;\n      }\n    },\n    [enqueueSnackbar]\n  );\n};\n\nexport default useHttpHandled;\n","import { Genre } from \"./models\";\n\nexport function getGenresFromCategory(genres: Genre[], category) {\n  return genres.filter((genre) => {\n    return (\n      genre.categories !== undefined &&\n      genre.categories.filter((cat) => cat.id === category.id).length !== 0\n    );\n  });\n}\n","import * as React from \"react\";\nimport {\n  AsyncAutoComplete,\n  AsyncAutoCompleteComponent,\n} from \"../../../components/AsyncAutoComplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport {\n  Typography,\n  FormControl,\n  FormControlProps,\n  useTheme,\n} from \"@material-ui/core\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport { RefAttributes, useCallback } from \"react\";\nimport { useImperativeHandle } from \"react\";\nimport { useRef } from \"react\";\nimport { MutableRefObject } from \"react\";\nimport useHttpHandled from \"../../../hooks/useHttpHandle\";\nimport { getGenresFromCategory } from \"../../../util/models-filters\";\nimport genreHttp from \"../../../util/http/genre-http\";\n\ninterface GenreFieldProps extends RefAttributes<GenreFieldComponent> {\n  genres: any[];\n  categories: any[];\n  setGenres: (genres) => void;\n  setCategories: (categories) => void;\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface GenreFieldComponent {\n  clear: () => void;\n}\n\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>(\n  (props, ref) => {\n    const { genres, categories, setGenres, setCategories, error, disabled } =\n      props;\n    const autoCompleteHttp = useHttpHandled();\n    const { addItem, removeItem } = useCollectionManager(genres, setGenres);\n    const { removeItem: removeCategory } = useCollectionManager(\n      categories,\n      setCategories\n    );\n\n    const autoCompleteRef =\n      useRef() as MutableRefObject<AsyncAutoCompleteComponent>;\n    const theme = useTheme();\n\n    const fetchOptions = useCallback(\n      (searchText) => {\n        return autoCompleteHttp(\n          genreHttp.list({ queryParams: { search: searchText, all: \"\" } })\n        )\n          .then((data) => data.data)\n          .catch((error) => console.log(error));\n      },\n      [autoCompleteHttp]\n    );\n\n    useImperativeHandle(ref, () => ({\n      clear: () => autoCompleteRef.current.clear(),\n    }));\n\n    return (\n      <React.Fragment>\n        <AsyncAutoComplete\n          ref={autoCompleteRef}\n          fetchOptions={fetchOptions}\n          TextFieldProps={{\n            label: \"Gêneros\",\n            error: error !== undefined,\n          }}\n          AutocompleteProps={{\n            clearOnEscape: true,\n            freeSolo: true,\n            getOptionSelected: (option, value) => option.id === value.id,\n            getOptionLabel: (option) => option.name,\n            onChange: (event, value) => addItem(value),\n            disabled: disabled,\n          }}\n        />\n        <FormHelperText style={{ height: theme.spacing(3) }}>\n          Escolha os gêneros do vídeo\n        </FormHelperText>\n        <FormControl\n          error={error !== undefined}\n          disabled={disabled === true}\n          {...props.FormControlProps}\n          fullWidth\n          margin={\"normal\"}\n        >\n          <GridSelected>\n            {genres.map((genre, key) => (\n              <GridSelectedItem\n                key={key}\n                onDelete={() => {\n                  const categoriesWithOneGenre = categories.filter(\n                    (category) => {\n                      const genresFromCategory = getGenresFromCategory(\n                        genres,\n                        category\n                      );\n                      return (\n                        genresFromCategory.length === 1 &&\n                        genresFromCategory.findIndex(\n                          (g) => g.id === genre.id\n                        ) !== -1\n                      );\n                    }\n                  );\n                  categoriesWithOneGenre.forEach((cat) => removeCategory(cat));\n                  removeItem(genre);\n                }}\n                xs={12}\n              >\n                <Typography>{genre.name}</Typography>\n              </GridSelectedItem>\n            ))}\n          </GridSelected>\n          {error && <FormHelperText>{error.message}</FormHelperText>}\n        </FormControl>\n      </React.Fragment>\n    );\n  }\n);\n\nexport default GenreField;\n","import * as React from \"react\";\nimport {\n  AsyncAutoComplete,\n  AsyncAutoCompleteComponent,\n} from \"../../../components/AsyncAutoComplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport categoryHttp from \"../../../util/http/category-http\";\nimport {\n  FormControl,\n  FormControlProps,\n  Typography,\n  useTheme,\n} from \"@material-ui/core\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport { Genre } from \"../../../util/models\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { RefAttributes, useCallback } from \"react\";\nimport { useImperativeHandle } from \"react\";\nimport { useRef } from \"react\";\nimport { MutableRefObject } from \"react\";\nimport useHttpHandled from \"../../../hooks/useHttpHandle\";\nimport { getGenresFromCategory } from \"../../../util/models-filters\";\n\nconst useStyles = makeStyles({\n  genreSubtitle: {\n    fontSize: \"0.8rem\",\n    color: grey[\"800\"],\n  },\n});\n\ninterface CategoryFieldProps extends RefAttributes<CategoryFieldComponent> {\n  categories: any[];\n  setCategories: (categories) => void;\n  genres: Genre[];\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface CategoryFieldComponent {\n  clear: () => void;\n}\n\nconst CategoryField = React.forwardRef<\n  CategoryFieldComponent,\n  CategoryFieldProps\n>((props, ref) => {\n  const { categories, setCategories, genres, disabled, error } = props;\n  const autoCompleteHttp = useHttpHandled();\n  const { addItem, removeItem } = useCollectionManager(\n    categories,\n    setCategories\n  );\n\n  const autoCompleteRef =\n    useRef() as MutableRefObject<AsyncAutoCompleteComponent>;\n  const theme = useTheme();\n  const classes = useStyles();\n\n  const fetchOptions = useCallback(() => {\n    return autoCompleteHttp(\n      categoryHttp.list({\n        queryParams: {\n          genres: genres.map((genre) => genre.id).join(\",\"),\n          all: \"\",\n        },\n      })\n    )\n      .then((data) => data.data)\n      .catch((error) => console.log(error));\n  }, [autoCompleteHttp, genres]);\n\n  useImperativeHandle(ref, () => ({\n    clear: () => autoCompleteRef.current.clear(),\n  }));\n\n  return (\n    <React.Fragment>\n      <AsyncAutoComplete\n        ref={autoCompleteRef}\n        fetchOptions={fetchOptions}\n        TextFieldProps={{\n          label: \"Categorias\",\n          error: error !== undefined,\n        }}\n        AutocompleteProps={{\n          clearOnEscape: true,\n          freeSolo: false,\n          getOptionSelected: (option, value) => option.id === value.id,\n          getOptionLabel: (option) => option.name,\n          onChange: (event, value) => addItem(value),\n          disabled: disabled === true || !genres.length,\n        }}\n      />\n      <FormHelperText style={{ height: theme.spacing(3) }}>\n        Escolha pelo menos uma categoria de cada gênero\n      </FormHelperText>\n\n      <FormControl\n        error={error !== undefined}\n        disabled={disabled === true}\n        {...props.FormControlProps}\n        fullWidth\n        margin={\"normal\"}\n      >\n        <GridSelected>\n          {categories.map((category, key) => {\n            const genresFromCategory = getGenresFromCategory(genres, category)\n              .map((genre) => genre.name)\n              .join(\",\");\n\n            return (\n              <GridSelectedItem\n                key={key}\n                onDelete={() => removeItem(category)}\n                xs={12}\n              >\n                <Typography noWrap={true}>{category.name}</Typography>\n                <Typography noWrap={true} className={classes.genreSubtitle}>\n                  Gêneros: {genresFromCategory}\n                </Typography>\n              </GridSelectedItem>\n            );\n          })}\n        </GridSelected>\n        {error && <FormHelperText>{error.message}</FormHelperText>}\n      </FormControl>\n    </React.Fragment>\n  );\n});\n\nexport default CategoryField;\n","import * as React from \"react\";\nimport { FormControl, FormControlProps, Typography } from \"@material-ui/core\";\nimport useCollectionManager from \"../../../hooks/useCollectionManager\";\nimport castMemberHttp from \"../../../util/http/cast-member-http\";\nimport {\n  AsyncAutoComplete,\n  AsyncAutoCompleteComponent,\n} from \"../../../components/AsyncAutoComplete\";\nimport GridSelected from \"../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../components/GridSelectedItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport {\n  MutableRefObject,\n  RefAttributes,\n  useCallback,\n  useImperativeHandle,\n  useRef,\n} from \"react\";\nimport useHttpHandled from \"../../../hooks/useHttpHandle\";\n\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldComponent> {\n  castMembers: any[];\n  setCastMembers: (cast_members) => void;\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface CastMemberFieldComponent {\n  clear: () => void;\n}\n\nexport const CastMemberField = React.forwardRef<\n  CastMemberFieldComponent,\n  CastMemberFieldProps\n>((props, ref) => {\n  const { castMembers, setCastMembers, error, disabled } = props;\n\n  const autoCompleteHttp = useHttpHandled();\n  const { addItem, removeItem } = useCollectionManager(\n    castMembers,\n    setCastMembers\n  );\n\n  const autoCompleteRef =\n    useRef() as MutableRefObject<AsyncAutoCompleteComponent>;\n\n  const fetchOptions = useCallback(\n    (searchText) => {\n      return autoCompleteHttp(\n        castMemberHttp.list({ queryParams: { search: searchText, all: \"\" } })\n      )\n        .then((data) => data.data)\n        .catch((error) => console.log(error));\n    },\n    [autoCompleteHttp]\n  );\n\n  useImperativeHandle(ref, () => ({\n    clear: () => autoCompleteRef.current.clear(),\n  }));\n\n  return (\n    <React.Fragment>\n      <AsyncAutoComplete\n        ref={autoCompleteRef}\n        fetchOptions={fetchOptions}\n        TextFieldProps={{\n          label: \"Membros de elenco\",\n          error: error !== undefined,\n        }}\n        AutocompleteProps={{\n          // autoSelect: true,\n          clearOnEscape: true,\n          freeSolo: true,\n          getOptionSelected: (option, value) => option.id === value.id,\n          getOptionLabel: (option) => option.name,\n          onChange: (event, value) => addItem(value),\n          disabled: disabled,\n        }}\n      />\n      <FormControl\n        error={error !== undefined}\n        disabled={disabled === true}\n        {...props.FormControlProps}\n        fullWidth\n        margin={\"normal\"}\n      >\n        <GridSelected>\n          {castMembers.map((castMember, key) => (\n            <GridSelectedItem\n              key={key}\n              onDelete={() => removeItem(castMember)}\n              xs={6}\n            >\n              <Typography>{castMember.name}</Typography>\n            </GridSelectedItem>\n          ))}\n        </GridSelected>\n        {error && <FormHelperText>{error.message}</FormHelperText>}\n      </FormControl>\n    </React.Fragment>\n  );\n});\n","import { FileUpload, Upload } from \"./types\";\n\nexport function countInProgress(uploads: Upload[]) {\n  return uploads.filter((upload) => !isFinished(upload)).length;\n}\n\nexport function isFinished(obj: Upload | FileUpload) {\n  return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean {\n  if (isUploadType(obj)) {\n    const upload = obj as Upload;\n    return upload.files.some((file) => file.error);\n  } else {\n    const file = obj as FileUpload;\n    return file.error !== undefined;\n  }\n}\n\nexport function isUploadType(obj: Upload | FileUpload) {\n  return \"video\" in obj;\n}\n","import * as React from \"react\";\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { CircularProgress, Fade } from \"@material-ui/core\";\nimport { grey } from \"@material-ui/core/colors\";\nimport { FileUpload, Upload } from \"../store/upload/types\";\nimport { hasError } from \"../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  progressContainer: {\n    position: \"relative\",\n  },\n  progress: {\n    position: \"absolute\",\n    left: 0,\n  },\n  progressBackground: {\n    color: grey[\"300\"],\n  },\n}));\n\ninterface UploadProgressProps {\n  uploadOrFile: Upload | FileUpload;\n  size: number;\n}\n\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n  const classes = useStyles();\n  const { size, uploadOrFile } = props;\n  const error = hasError(uploadOrFile);\n  return (\n    <Fade in={uploadOrFile.progress < 1} timeout={{ enter: 100, exit: 2000 }}>\n      <div className={classes.progressContainer}>\n        <CircularProgress\n          variant={\"static\"}\n          value={100}\n          className={classes.progressBackground}\n          size={size} \n        />\n        <CircularProgress\n          className={classes.progress}\n          variant={\"static\"}\n          value={error ? 0 : uploadOrFile.progress * 100}\n          size={size}\n        />\n      </div>\n    </Fade>\n  );\n};\n\nexport default UploadProgress;\n","import { createActions, createReducer } from \"reduxsauce\";\nimport {\n  Actions,\n  AddUploadAction,\n  RemoveUploadAction,\n  SetUploadErrorAction,\n  UpdateProgressAction,\n  UploadState,\n} from \"./types\";\nimport update from \"immutability-helper\";\n\nexport const { Types, Creators } = createActions<\n  {\n    ADD_UPLOAD: string;\n    REMOVE_UPLOAD: string;\n    UPDATE_PROGRESS: string;\n    SET_UPLOAD_ERROR: string;\n  },\n  {\n    addUpload(payload: AddUploadAction[\"payload\"]): AddUploadAction;\n    removeUpload(payload: RemoveUploadAction[\"payload\"]): RemoveUploadAction;\n    updateProgress(\n      payload: UpdateProgressAction[\"payload\"]\n    ): UpdateProgressAction;\n    setUploadError(\n      payload: SetUploadErrorAction[\"payload\"]\n    ): SetUploadErrorAction;\n  }\n>({\n  addUpload: [\"payload\"],\n  removeUpload: [\"payload\"],\n  updateProgress: [\"payload\"],\n  setUploadError: [\"payload\"],\n});\nexport const INITIAL_STATE: UploadState = {\n  uploads: [],\n};\n\nconst reducer = createReducer<UploadState, Actions>(INITIAL_STATE, {\n  [Types.ADD_UPLOAD]: addUpload as any,\n  [Types.REMOVE_UPLOAD]: removeUpload as any,\n  [Types.UPDATE_PROGRESS]: updateProgress as any,\n  [Types.SET_UPLOAD_ERROR]: setUploadError as any,\n});\n\nexport default reducer;\n\nfunction findIndexUpload(state: UploadState, id: string) {\n  return state.uploads.findIndex((upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{ fileField }>, fileField: string) {\n  return files.findIndex((file) => file.fileField === fileField);\n}\n\nfunction findIndexUploadAndFile(\n  state: UploadState,\n  videoId: string,\n  fileField: string\n): { indexUpload?; indexFile? } {\n  const indexUpload = findIndexUpload(state, videoId);\n\n  if (indexUpload === -1) {\n    return {};\n  }\n\n  const upload = state.uploads[indexUpload];\n  const indexFile = findIndexFile(upload.files, fileField);\n\n  return indexFile === -1 ? {} : { indexUpload, indexFile };\n}\n\nfunction calculateGlobalProgress(files: Array<{ progress }>) {\n  const countFiles = files.length;\n\n  if (!countFiles) {\n    return 0;\n  }\n\n  const sumProgress = files.reduce((sum, file) => sum + file.progress, 0);\n\n  return sumProgress / countFiles;\n}\n\nfunction addUpload(\n  state = INITIAL_STATE,\n  action: AddUploadAction\n): UploadState {\n  if (action.payload.files.length === 0) {\n    return state;\n  }\n  const index = findIndexUpload(state, action.payload.video.id);\n\n  if (index !== -1 && state.uploads[index].progress < 1) {\n    return state;\n  }\n\n  const uploads =\n    index === -1\n      ? state.uploads\n      : update(state.uploads, {\n          $splice: [[index, 1]],\n        });\n\n  return {\n    uploads: [\n      ...uploads,\n      {\n        video: action.payload.video,\n        progress: 0,\n        files: action.payload.files.map((file) => ({\n          fileField: file.fileField,\n          filename: file.file.name,\n          progress: 0,\n        })),\n      },\n    ],\n  };\n}\n\nfunction removeUpload(\n  state = INITIAL_STATE,\n  action: RemoveUploadAction\n): UploadState {\n  console.log('removeUpload');\n  console.log(state);\n  console.log(state);\n  const uploads = state.uploads.filter(\n    (upload) => upload.video.id !== action.payload.id\n  );\n  if (uploads.length === state.uploads.length) {\n    return state;\n  }\n  return {\n    uploads: uploads,\n  };\n}\n\nfunction updateProgress(\n  state: UploadState = INITIAL_STATE,\n  action: UpdateProgressAction\n): UploadState {\n  const videoId = action.payload.video.id;\n  const fileField = action.payload.fileField;\n  const { indexUpload, indexFile } = findIndexUploadAndFile(\n    state,\n    videoId,\n    fileField\n  );\n\n  if (typeof indexUpload === \"undefined\") {\n    return state;\n  }\n\n  const upload = state.uploads[indexUpload];\n  const file = upload.files[indexFile];\n\n  if (file.progress === action.payload.progress) {\n    return state;\n  }\n\n  const uploads = update(state.uploads, {\n    [indexUpload]: {\n      $apply(upload) {\n        const files = update(upload.files, {\n          [indexFile]: {\n            $set: { ...file, progress: action.payload.progress },\n          },\n        });\n        const progress = calculateGlobalProgress(files);\n        return { ...upload, progress, files };\n      },\n    },\n  });\n\n  return { uploads };\n}\n\nfunction setUploadError(\n  state = INITIAL_STATE,\n  action: SetUploadErrorAction\n): UploadState {\n  const videoId = action.payload.video.id;\n  const fileField = action.payload.fileField;\n\n  const { indexUpload, indexFile } = findIndexUploadAndFile(\n    state,\n    videoId,\n    fileField\n  );\n\n  if (typeof indexUpload === \"undefined\") {\n    return state;\n  }\n\n  const upload = state.uploads[indexUpload];\n  const file = upload.files[indexFile];\n\n  const uploads = update(state.uploads, {\n    [indexUpload]: {\n      files: {\n        [indexFile]: {\n          $set: { ...file, error: action.payload.error, progress: 1 },\n        },\n      },\n    },\n  });\n\n  return { uploads };\n}\n","import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  Fade,\n  IconButton,\n  ListItemSecondaryAction,\n  Theme,\n} from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Upload } from \"../../store/upload/types\";\nimport { useDispatch } from \"react-redux\";\nimport { Creators } from \"../../store/upload\";\nimport { hasError, isFinished } from \"../../store/upload/getters\";\nimport { useDebounce } from \"use-debounce\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n  successIcon: {\n    color: theme.palette.success.main,\n  },\n  errorIcon: {\n    color: theme.palette.error.main,\n  },\n}));\n\ninterface UploadActionProps {\n  upload: Upload;\n  hover: boolean;\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n  const classes = useStyle();\n  const { upload, hover } = props;\n  const dispatch = useDispatch();\n  const error = hasError(upload);\n  const [show, setShow] = useState(false);\n  const [debouncedShow] = useDebounce(show, 2500);\n\n  useEffect(() => {\n    setShow(isFinished(upload));\n  }, [upload]);\n\n  return debouncedShow ? (\n    <Fade in={true} timeout={{ enter: 1000 }}>\n      <ListItemSecondaryAction>\n        <span hidden={hover}>\n          {upload.progress === 1 && !error && (\n            <IconButton className={classes.successIcon}>\n              <CheckCircleIcon />\n            </IconButton>\n          )}\n          {error && (\n            <IconButton className={classes.errorIcon}>\n              <ErrorIcon />\n            </IconButton>\n          )}\n        </span>\n        <span hidden={!hover}>\n          <IconButton\n            color={\"primary\"}\n            onClick={() =>\n              dispatch(Creators.removeUpload({ id: upload.video.id }))\n            }\n          >\n            <DeleteIcon />\n          </IconButton>\n        </span>\n      </ListItemSecondaryAction>\n    </Fade>\n  ) : null;\n};\n\nexport default UploadAction;\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport {\n  Divider,\n  ListItemIcon,\n  ListItemText,\n  Tooltip,\n  Typography,\n} from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport UploadProgress from \"../UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport { Upload } from \"../../store/upload/types\";\nimport { hasError } from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  listItem: {\n    paddingTop: \"7px\",\n    paddingBottom: \"7px\",\n    height: \"53px\",\n  },\n  movieIcon: {\n    color: theme.palette.error.main,\n    minWidth: \"40px\",\n  },\n  listItemText: {\n    marginLeft: \"6px\",\n    marginRight: \"24px\",\n    color: theme.palette.text.secondary,\n  },\n}));\n\ninterface UploadItemProps {\n  upload: Upload;\n}\n\nexport const UploadItem: React.FC<UploadItemProps> = (props) => {\n  const { upload } = props;\n  const classes = useStyles();\n  const error = hasError(upload);\n  const [itemHover, setItemHover] = useState(false);\n\n  return (\n    <>\n      <Tooltip\n        title={\n          error ? \"Não foi possível fazer upload, clique pra mais detalhes\" : \"\"\n        }\n        placement={\"left\"}\n        disableFocusListener={true}\n        disableTouchListener={true}\n      >\n        <ListItem\n          className={classes.listItem}\n          button\n          onMouseOver={() => setItemHover(true)}\n          onMouseLeave={() => setItemHover(false)}\n        >\n          <ListItemIcon className={classes.movieIcon}>\n            <MovieIcon />\n          </ListItemIcon>\n          <ListItemText\n            className={classes.listItemText}\n            primary={\n              <Typography noWrap={true} variant={\"subtitle2\"} color={\"inherit\"}>\n                {upload.video.title}\n              </Typography>\n            }\n          />\n          <UploadProgress size={30} uploadOrFile={upload} />\n          <UploadAction upload={upload} hover={itemHover} />\n        </ListItem>\n      </Tooltip>\n      <Divider component={\"li\"} />\n    </>\n  );\n};\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport {\n  Card,\n  CardActions,\n  Collapse,\n  IconButton,\n  List,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useSnackbar } from \"notistack\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport classNames from \"classnames\";\nimport { UploadItem } from \"./UploadItem\";\nimport { useSelector } from \"react-redux\";\nimport { Upload, UploadModule } from \"../../store/upload/types\";\nimport { countInProgress } from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  card: {\n    width: 450,\n  },\n  cardActionRoot: {\n    padding: \"8px 8px 8px 16px\",\n    backgroundColor: theme.palette.primary.main,\n  },\n  title: {\n    fontWeight: \"bold\",\n    color: theme.palette.primary.contrastText,\n  },\n  icons: {\n    marginLeft: \"auto !important\",\n    color: theme.palette.primary.contrastText,\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  list: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n}));\n\ninterface SnackbarUploadProps {\n  id: string | number;\n}\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>(\n  (props, ref) => {\n    const { id } = props;\n    const classes = useStyles();\n    const { closeSnackbar } = useSnackbar();\n    const [expanded, setExpanded] = useState<boolean>(true);\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n      (state) => state.upload.uploads\n    );\n\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n      <Card ref={ref} className={classes.card}>\n        <CardActions classes={{ root: classes.cardActionRoot }}>\n          <Typography variant={\"subtitle2\"} className={classes.title}>\n            Fazendo o upload de {totalInProgress} vídeo(s)\n          </Typography>\n          <div className={classes.icons}>\n            <IconButton\n              color={\"inherit\"}\n              onClick={() => setExpanded(!expanded)}\n            >\n              <ExpandMoreIcon\n                className={classNames(classes.expand, {\n                  [classes.expandOpen]: !expanded,\n                })}\n              />\n            </IconButton>\n            <IconButton color={\"inherit\"} onClick={() => closeSnackbar(id)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n        </CardActions>\n        <Collapse in={expanded}>\n          <List className={classes.list}>\n            {uploads.map((upload: Upload, key) => (\n              <UploadItem key={key} upload={upload} />\n            ))}\n          </List>\n        </Collapse>\n      </Card>\n    );\n  }\n);\n\nexport default SnackbarUpload;\n","import * as React from \"react\";\nimport {\n  createRef,\n  MutableRefObject,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport * as yup from \"../../../util/vendor/yup\";\nimport { useForm } from \"react-hook-form\";\nimport { DefaultForm } from \"../../../components/DefaultForm\";\nimport {\n  Checkbox,\n  FormControlLabel,\n  Grid,\n  TextField,\n  Theme,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from \"@material-ui/core\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Video, VideoFileFieldsMap } from \"../../../util/models\";\nimport { useSnackbar } from \"notistack\";\nimport videoHttp from \"../../../util/http/video-http\";\nimport SubmitActions from \"../../../components/SubmitActions\";\nimport { RatingField } from \"./RatingField\";\nimport { UploadField } from \"./UploadField\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport GenreField, { GenreFieldComponent } from \"./GenreField\";\nimport CategoryField, { CategoryFieldComponent } from \"./CategoryField\";\nimport { CastMemberField, CastMemberFieldComponent } from \"./CastMemberField\";\nimport { omit, zipObject } from \"lodash\";\nimport { InputFileComponent } from \"../../../components/InputFile\";\nimport useSnackbarFormError from \"../../../hooks/useSnackbarFormError\";\nimport SnackbarUpload from \"../../../components/SnackbarUpload\";\nimport { useDispatch } from \"react-redux\";\nimport { FileInfo } from \"../../../store/upload/types\";\nimport { Creators } from \"../../../store/upload\";\nimport LoadingContext from \"../../../components/loading/LoadingContext\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  cardUpload: {\n    borderRadius: \"4px\",\n    backgroundColor: \"#f5f5f5\",\n    margin: theme.spacing(2, 0),\n  },\n  cardOpened: {\n    borderRadius: \"4px\",\n    backgroundColor: \"#f5f5f5\",\n  },\n  cardContentOpened: {\n    paddingBottom: theme.spacing(2) + \"px !important\",\n  },\n}));\n\nconst validationSchema = yup.object().shape({\n  title: yup.string().label(\"Título\").required().max(255),\n  description: yup.string().label(\"Sinopse\").required(),\n  year_launched: yup.number().label(\"Ano de lançamento\").required().min(1),\n  duration: yup.number().label(\"Duração\").required().min(1),\n  rating: yup.string().label(\"Classificação\").required(),\n  genres: yup\n    .array()\n    .label(\"Gêneros\")\n    .required()\n    .test({\n      message:\n        \"Cada gênero escolhido precisa ter pelo menos uma categoria selecionada\",\n      test(value: any) {\n        return value.every(\n          (v) =>\n            v.categories.filter((cat) =>\n              this.parent.categories.map((c) => c.id).includes(cat.id)\n            ).length !== 0\n        );\n      },\n    }),\n  categories: yup.array().label(\"Categorias\").required(),\n  cast_members: yup.array().label(\"Membros de elenco\").required(),\n});\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\nconst Index = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    setValue,\n    watch,\n    reset,\n    errors,\n    trigger,\n    formState,\n  } = useForm<{\n    title,\n    description,\n    year_launched,\n    duration,\n    rating: string,\n    cast_members,\n    genres,\n    categories,\n    opened: boolean\n}>({\n    resolver: yupResolver(validationSchema),\n    defaultValues: {\n      rating: \"\",\n      opened: false,\n      genres: [],\n      categories: [],\n      cast_members: [],\n    },\n  });\n\n  useSnackbarFormError(formState.submitCount, errors);\n\n  const { id }: any = useParams();\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const [video, setVideo] = useState<Video | null>(null);\n  const loading = useContext(LoadingContext);\n  const theme = useTheme();\n  const isGreaterMd = useMediaQuery(theme.breakpoints.up(\"md\"));\n  const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n  const categoriesRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n  const genresRef = useRef() as MutableRefObject<GenreFieldComponent>;\n  const uploadRef = useRef(\n    zipObject(\n      fileFields,\n      fileFields.map(() => createRef())\n    )\n  ) as MutableRefObject<{\n    [key: string]: MutableRefObject<InputFileComponent>;\n  }>;\n\n  const dispatch = useDispatch();\n\n  const resetForm = useCallback(\n    (data) => {\n      Object.keys(uploadRef.current).forEach((field) =>\n        uploadRef.current[field].current.clear()\n      );\n      castMemberRef.current.clear();\n      categoriesRef.current.clear();\n      genresRef.current.clear();\n      reset(data);\n    },\n    [castMemberRef, categoriesRef, genresRef, uploadRef, reset]\n  );\n\n  useEffect(() => {\n    [\n      \"rating\",\n      \"opened\",\n      \"genres\",\n      \"categories\",\n      \"cast_members\",\n      ...fileFields,\n    ].forEach((name) => register({ name: name }));\n  }, [register]);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    (async function getVideo() {\n      try {\n        const { data } = await videoHttp.get(id);\n        setVideo(data.data);\n        reset(data.data);\n      } catch (e) {\n        console.log(e);\n        enqueueSnackbar(\"Não foi possível carregar as informações\", {\n          variant: \"error\",\n        });\n      }\n    })();\n  }, [enqueueSnackbar, id, reset]);\n\n  async function onSubmit(formData, event) {\n    const sendData = omit(formData, [\n      ...fileFields,\n      \"cast_members\",\n      \"genres\",\n      \"categories\",\n    ]);\n    sendData[\"cast_members_id\"] = formData[\"cast_members\"].map(\n      (cast_member) => cast_member.id\n    );\n    sendData[\"genres_id\"] = formData[\"genres\"].map((genre) => genre.id);\n    sendData[\"categories_id\"] = formData[\"categories\"].map(\n      (category) => category.id\n    );\n\n    try {\n      const http = !video\n        ? videoHttp.create(sendData)\n        : videoHttp.update(video.id, sendData);\n      const { data } = await http;\n      enqueueSnackbar(\"Vídeo salvo com sucesso!\", { variant: \"success\" });\n      uploadFiles(data.data);\n      id && resetForm(video);\n\n      event\n        ? id\n          ? history.replace(`/videos/${data.data.id}/edit`)\n          : history.push(`/videos/${data.data.id}/edit`)\n        : history.push(\"/videos\");\n    } catch (e) {\n      console.log(e);\n      id && resetForm(video);\n      enqueueSnackbar(\"Não foi possível salvar as informações\", {\n        variant: \"error\",\n      });\n    }\n  }\n\n  function uploadFiles(video: Video) {\n    const files: FileInfo[] = fileFields\n      .filter((file) => getValues()[file])\n      .map((fileField) => ({\n        fileField,\n        file: getValues()[fileField],\n      }));\n\n    if (!files.length) {\n      return;\n    }\n\n    dispatch(Creators.addUpload({ video, files }));\n\n    enqueueSnackbar(\"\", {\n      key: \"snackbar-upload\",\n      persist: true,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"right\",\n      },\n      content: (key, message) => {\n        const id = key as any;\n        return <SnackbarUpload id={id} />;\n      },\n    });\n  }\n\n  function validateSubmit() {\n    trigger().then((isValid) => {\n      isValid && onSubmit(getValues(), null);\n    });\n  }\n\n  const classes = useStyles();\n  return (\n    <DefaultForm GridItemProps={{ xs: 12 }} onSubmit={handleSubmit(onSubmit)}>\n      <Grid container spacing={5}>\n        <Grid item xs={12} md={6}>\n          <TextField\n            name={\"title\"}\n            label={\"Título\"}\n            variant={\"outlined\"}\n            fullWidth\n            inputRef={register}\n            disabled={loading}\n            InputLabelProps={{ shrink: true }}\n            error={(errors as any).title !== undefined}\n            helperText={(errors as any).title && (errors as any).title.message}\n          />\n\n          <TextField\n            name={\"description\"}\n            label={\"Sinopse\"}\n            multiline\n            rows=\"4\"\n            margin=\"normal\"\n            variant={\"outlined\"}\n            fullWidth\n            inputRef={register}\n            disabled={loading}\n            InputLabelProps={{ shrink: true }}\n            error={(errors as any).description !== undefined}\n            helperText={\n              (errors as any).description && (errors as any).description.message\n            }\n          />\n\n          <Grid container spacing={1}>\n            <Grid item xs={6}>\n              <TextField\n                name={\"year_launched\"}\n                label={\"Ano de lançamento\"}\n                type={\"number\"}\n                margin=\"normal\"\n                variant={\"outlined\"}\n                fullWidth\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{ shrink: true }}\n                error={(errors as any).year_launched !== undefined}\n                helperText={\n                  (errors as any).year_launched &&\n                  (errors as any).year_launched.message\n                }\n              />\n            </Grid>\n\n            <Grid item xs={6}>\n              <TextField\n                name={\"duration\"}\n                label={\"Duraçāo\"}\n                type={\"number\"}\n                margin=\"normal\"\n                variant={\"outlined\"}\n                fullWidth\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{ shrink: true }}\n                error={(errors as any).duration !== undefined}\n                helperText={\n                  (errors as any).duration && (errors as any).duration.message\n                }\n              />\n            </Grid>\n          </Grid>\n\n          <CastMemberField\n            ref={castMemberRef}\n            error={errors.cast_members}\n            castMembers={watch(\"cast_members\") as any[]}\n            setCastMembers={(value) =>\n              setValue(\"cast_members\", value, { shouldValidate: true })\n            }\n            disabled={loading}\n          />\n\n          <br />\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <GenreField\n                ref={genresRef}\n                error={errors.genres}\n                genres={watch(\"genres\") as any[]}\n                categories={watch(\"categories\") as any[]}\n                setGenres={(value) =>\n                  setValue(\"genres\", value, { shouldValidate: true })\n                }\n                setCategories={(value) =>\n                  setValue(\"categories\", value, { shouldValidate: true })\n                }\n                disabled={loading}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <CategoryField\n                ref={categoriesRef}\n                error={errors.categories}\n                categories={watch(\"categories\") as any[]}\n                setCategories={(vale) =>\n                  setValue(\"categories\", vale, { shouldValidate: true })\n                }\n                genres={watch(\"genres\") as any[]}\n                disabled={loading}\n              />\n            </Grid>\n          </Grid>\n\n          <br />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <RatingField\n            value={watch(\"rating\") + \"\"}\n            setValue={(value) =>\n              setValue(\"rating\", value, { shouldValidate: true })\n            }\n            error={errors.rating}\n            disabled={loading}\n            FormControlProps={{ margin: isGreaterMd ? \"none\" : \"normal\" }}\n          />\n          <Card className={classes.cardUpload}>\n            <CardContent>\n              <Typography color={\"primary\"} variant={\"h6\"}>\n                Imagens\n              </Typography>\n\n              <UploadField\n                ref={uploadRef.current[\"thumb_file\"]}\n                label={\"Thumb\"}\n                accept={\"image/*\"}\n                setValue={(value) => setValue(\"thumb_file\", value)}\n                error={null}\n                disabled={loading}\n              />\n\n              <UploadField\n                ref={uploadRef.current[\"banner_file\"]}\n                label={\"Banner\"}\n                accept={\"image/*\"}\n                setValue={(value) => setValue(\"banner_file\", value)}\n                error={null}\n                disabled={loading}\n              />\n            </CardContent>\n          </Card>\n          <Card className={classes.cardUpload}>\n            <CardContent>\n              <Typography color={\"primary\"} variant={\"h6\"}>\n                Vídeos\n              </Typography>\n              <UploadField\n                ref={uploadRef.current[\"trailer_file\"]}\n                label={\"Trailer\"}\n                accept={\"video/mp4\"}\n                setValue={(value) => setValue(\"trailer_file\", value)}\n                error={null}\n                disabled={loading}\n              />\n\n              <UploadField\n                ref={uploadRef.current[\"video_file\"]}\n                label={\"Vídeo\"}\n                accept={\"video/mp4\"}\n                setValue={(value) => setValue(\"video_file\", value)}\n                error={null}\n                disabled={loading}\n              />\n            </CardContent>\n          </Card>\n\n          <Card className={classes.cardOpened}>\n            <CardContent className={classes.cardContentOpened}>\n              <FormControlLabel\n                control={\n                  <Checkbox\n                    name={\"opened\"}\n                    color={\"primary\"}\n                    onChange={() => {\n                      setValue(\"opened\", !getValues()[\"opened\"]);\n                    }}\n                    checked={watch(\"opened\") as boolean}\n                    disabled={loading}\n                  />\n                }\n                label={\n                  <Typography color=\"primary\" variant=\"subtitle2\">\n                    Quero que este conteúdo apareça na seçāo de lançamentos\n                  </Typography>\n                }\n                labelPlacement={\"end\"}\n              />\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      <SubmitActions disabledButtons={false} handleSave={validateSubmit} />\n    </DefaultForm>\n  );\n};\n\nexport default Index;\n","import Form from \"./form\";\nimport { useParams } from 'react-router-dom';\nimport {Page} from \"../../components/Page\";\n\nconst PageForm = () => {\n    const { id }: any = useParams();\n    return (\n        <Page title={!id ? \"Criar vídeo\" : \"Editar vídeo\"}>\n            <Form />\n        </Page>\n    );\n};\n\nexport default PageForm;","\r\nimport * as React from 'react';\r\nimport { Page } from '../components/Page';\r\n\r\ninterface DashboardProps {\r\n\r\n};\r\n\r\nconst Dashboard = (props: DashboardProps) => {\r\n    return (\r\n        <Page title=\"Dasboard\">\r\n        </Page>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n","import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { Divider, Fade, IconButton, Theme } from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { Link } from \"react-router-dom\";\nimport { FileUpload, Upload } from \"../../store/upload/types\";\nimport { useDispatch } from \"react-redux\";\nimport { Creators } from \"../../store/upload/\";\nimport { hasError, isFinished, isUploadType } from \"../../store/upload/getters\";\nimport { useDebounce } from \"use-debounce\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    successIcon: {\n      color: theme.palette.success.main,\n      marginLeft: theme.spacing(1),\n    },\n    errorIcon: {\n      color: theme.palette.error.main,\n      marginLeft: theme.spacing(1),\n    },\n    divider: {\n      height: \"20px\",\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n  };\n});\n\ninterface UploadActionProps {\n  uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n  const { uploadOrFile } = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const error = hasError(uploadOrFile);\n  const [show, setShow] = useState(false);\n  const [debouncedShow] = useDebounce(show, 2500);\n  const videoId = (uploadOrFile as any).video\n    ? (uploadOrFile as any).video.id\n    : \"\";\n  const activeActions = isUploadType(uploadOrFile);\n\n  useEffect(() => {\n    setShow(isFinished(uploadOrFile));\n  }, [uploadOrFile]);\n\n  return debouncedShow ? (\n    <Fade in={true} timeout={{ enter: 1000 }}>\n      <>\n        {uploadOrFile.progress === 1 && !error && (\n          <CheckCircleIcon className={classes.successIcon} />\n        )}\n        {error && <ErrorIcon className={classes.errorIcon} />}\n\n        {activeActions && (\n          <>\n            <Divider className={classes.divider} orientation={\"vertical\"} />\n            <IconButton\n              onClick={() => dispatch(Creators.removeUpload({ id: videoId }))}\n            >\n              <DeleteIcon color={\"primary\"} />\n            </IconButton>\n\n            <IconButton component={Link} to={`/videos/${videoId}/edit`}>\n              <EditIcon color={\"primary\"} />\n            </IconButton>\n          </>\n        )}\n      </>\n    </Fade>\n  ) : null;\n};\n\nexport default UploadAction;\n","import * as React from \"react\";\nimport { Grid, ListItem, Theme, Typography } from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport UploadProgress from \"../../components/UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport { FileUpload, Upload } from \"../../store/upload/types\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    gridTitle: {\n      display: \"flex\",\n      color: \"#999999\",\n    },\n    icon: {\n      color: theme.palette.error.main,\n      minWidth: \"40px\",\n    },\n  };\n});\n\ninterface UploadItemProps {\n  uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n  const { uploadOrFile } = props;\n  const classes = useStyles();\n\n  function makeIcon() {\n    if (true) {\n      return <MovieIcon className={classes.icon} />;\n    }\n    return <ImageIcon className={classes.icon} />;\n  }\n\n  return (\n    <ListItem>\n      <Grid container alignItems={\"center\"}>\n        <Grid className={classes.gridTitle} item xs={12} md={9}>\n          {makeIcon()}\n\n          <Typography color={\"inherit\"}>{props.children}</Typography>\n        </Grid>\n\n        <Grid item xs={12} md={3}>\n          <Grid\n            container\n            direction={\"row\"}\n            alignItems={\"center\"}\n            justify={\"flex-end\"}\n          >\n            <UploadProgress size={48} uploadOrFile={uploadOrFile} />\n            <UploadAction uploadOrFile={uploadOrFile} />\n          </Grid>\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nexport default UploadItem;\n","import * as React from \"react\";\nimport { Page } from \"../../components/Page\";\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\nimport {\n  Card,\n  CardContent,\n  Divider,\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  Grid,\n  List,\n  Typography,\n} from \"@material-ui/core\"; \nimport UploadItem from \"./UploadItem\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from \"react-redux\";\nimport { Upload, UploadModule } from \"../../store/upload/types\";\nimport { VideoFileFieldsMap } from \"../../util/models\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    panelSummary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n    },\n    expandedIcon: {\n      color: theme.palette.primary.contrastText,\n    },\n  };\n});\n\ninterface UploadsProps {}\n\nconst Uploads: React.FC<UploadsProps> = (props) => {\n  const classes = useStyles();\n\n  const uploads = useSelector<UploadModule, Upload[]>(\n    (state) => state.upload.uploads\n  );\n\n  return (\n    <Page title={\"Uploads\"}>\n      {uploads.map((upload, key) => (\n        <Card elevation={5} key={key}>\n          <CardContent>\n            <UploadItem uploadOrFile={upload}>{upload.video.title}</UploadItem>\n            <ExpansionPanel style={{ margin: 0 }}>\n              <ExpansionPanelSummary\n                className={classes.panelSummary}\n                expandIcon={<ExpandMoreIcon className={classes.expandedIcon} />}\n              >\n                <Typography> Ver Detalhes</Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails style={{ padding: \"0px\" }}>\n                <Grid item xs={12}>\n                  <List dense={true} style={{ padding: \"0px\" }}>\n                    {upload.files.map((file, key) => (\n                      <React.Fragment key={key}>\n                        <Divider />\n                        <UploadItem uploadOrFile={file}>\n                          {`${VideoFileFieldsMap[file.fileField]} - ${\n                            file.filename\n                          }`}\n                        </UploadItem>\n                      </React.Fragment>\n                    ))}\n                  </List>\n                </Grid>\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          </CardContent>\n        </Card>\n      ))}\n    </Page>\n  );\n};\nexport default Uploads;\n","import {RouteProps} from 'react-router-dom';\r\nimport CategoryList from '../pages/category/PageList';\r\nimport CategoryForm from '../pages/category/PageForm';\r\nimport CastMemberList from '../pages/cast-members/PageList';\r\nimport CastMemberForm from '../pages/cast-members/PageForm';\r\nimport GenreList from '../pages/genres/PageList';\r\nimport GenreForm from '../pages/genres/PageForm';\r\nimport VideoList from '../pages/video/PageList';\r\nimport VideoForm from '../pages/video/PageForm';\r\nimport Dashboard from '../pages/Dashboard';\r\nimport UploadPage from \"../pages/uploads\";\r\n\r\nexport interface MyRouteProps extends RouteProps {\r\n    name: string;\r\n    label: string;\r\n}\r\n\r\nconst routes: MyRouteProps[] = [\r\n    {\r\n        name: 'dashboard',\r\n        label: 'Dashboard',\r\n        path: '/',\r\n        component: Dashboard,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'categories.list',\r\n        label: 'Categorias',\r\n        path: '/categories',\r\n        component: CategoryList,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'categories.create',\r\n        label: 'Criar categoria',\r\n        path: '/categories/create',\r\n        component: CategoryForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'categories.edit',\r\n        label: 'Editar categoria',\r\n        path: '/categories/:id/edit',\r\n        component: CategoryForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'cast_members.list',\r\n        label: 'Membros de elencos',\r\n        path: '/cast-members',\r\n        component: CastMemberList,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'cast_members.create',\r\n        label: 'Criar membro de elenco',\r\n        path: '/cast-members/create',\r\n        component: CastMemberForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'cast_members.edit',\r\n        label: 'Editar membros de elencos',\r\n        path: '/cast-members/:id/edit',\r\n        component: CastMemberForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'genres.list',\r\n        label: 'Gêneros',\r\n        path: '/genres',\r\n        component: GenreList,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'genres.create',\r\n        label: 'Criar gênero',\r\n        path: '/genres/create',\r\n        component: GenreForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'genres.edit',\r\n        label: 'Editar gêneros',\r\n        path: '/genres/:id/edit',\r\n        component: GenreForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'videos.list',\r\n        label: 'Videos',\r\n        path: '/videos',\r\n        component: VideoList,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'videos.create',\r\n        label: 'Criar videos',\r\n        path: '/videos/create',\r\n        component: VideoForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'videos.edit',\r\n        label: 'Editar videos',\r\n        path: '/videos/:id/edit',\r\n        component: VideoForm,\r\n        exact: true\r\n    },\r\n    {\r\n        name: 'uploads',\r\n        label: 'Uploads',\r\n        path: '/uploads',\r\n        component: UploadPage,\r\n        exact: true\r\n    }\r\n];\r\nexport default routes;\r\n","import React from 'react';\r\nimport { Menu as MuiMenu, MenuItem, IconButton} from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport routes, { MyRouteProps } from '../../routes';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst listRoutes = [\r\n    'dashboard',\r\n    'categories.list',\r\n    'cast_members.list',\r\n    'genres.list',\r\n    'videos.list',\r\n    'uploads'\r\n];\r\n\r\nexport const Menu : React.FC = () => {\r\n\r\n    const menuRoutes = routes.filter(route => listRoutes.includes(route.name));\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleOpen = (event:any) => setAnchorEl(event.currentTarget);\r\n    const handleClose = () => setAnchorEl(null);\r\n\r\n    return (\r\n        <>\r\n            <IconButton\r\n                color=\"inherit\"\r\n                edge=\"start\"\r\n                aria-label= \"open drawer\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleOpen}\r\n            >\r\n            <MenuIcon/>\r\n            </IconButton>\r\n            <MuiMenu\r\n                id=\"menu-appbar\"\r\n                open={open}\r\n                anchorEl= {anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{vertical: 'bottom', horizontal: 'center'}}\r\n                transformOrigin={{vertical: 'top', horizontal: 'center'}}\r\n                getContentAnchorEl={null}\r\n            >\r\n                {\r\n                    listRoutes.map(\r\n                        (routeName, key) => {\r\n                            const route = menuRoutes.find(route => route.name === routeName) as MyRouteProps;\r\n                            return (\r\n                                <MenuItem\r\n                                    key={key}\r\n                                    component={Link}\r\n                                    to={route.path as string}\r\n                                    onClick={handleClose}\r\n                                >\r\n                                    {route.label}\r\n                                </MenuItem>\r\n                            )\r\n                        }\r\n                    )\r\n                }\r\n\r\n            </MuiMenu>\r\n        </>\r\n    );\r\n};\r\n","import * as React from 'react';\r\nimport { AppBar, Button, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\r\nimport logo from '../../static/img/logo.png';\r\nimport { Menu } from './Menu';\r\n\r\n//xs, sm, md, lg e xl\r\nconst useStyles = makeStyles( (theme: Theme) => ({\r\n    toolbar: {\r\n        backgroundColor: '#000000'\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n        textAlign: 'center'\r\n    },\r\n    logo: {\r\n        width: 100,\r\n        [theme.breakpoints.up('sm')]:{\r\n            width: 170\r\n        }\r\n    }\r\n}));\r\n\r\nexport const Navbar: React.FC = () => {\r\n    const classes = useStyles();\r\n    return (\r\n        <AppBar>\r\n            <Toolbar className={classes.toolbar}>\r\n                <Menu/>\r\n                <Typography className={classes.title}>\r\n                    <img src={logo} alt=\"Codeflix\" className={classes.logo}/>\r\n                </Typography>\r\n                <Button color=\"inherit\">Login</Button>\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n};\r\n","export default \"data:image/png;base64,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\"","\r\nimport * as React from 'react';\r\nimport { Switch, Route} from 'react-router-dom';\r\nimport routes from \"./index\";\r\n\r\nconst AppRouter = () => {\r\n    return (\r\n        <Switch>\r\n            {\r\n                routes.map(\r\n                    (route, key) => (\r\n                        <Route\r\n                            key={key}\r\n                            path={route.path}\r\n                            component={route.component}\r\n                            exact={route.exact === true}\r\n                        />\r\n                    )\r\n                )\r\n            }\r\n        </Switch>\r\n    );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport Link, { LinkProps } from \"@material-ui/core/Link\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport MuiBreadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport { Route } from \"react-router\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport { Location } from \"history\";\r\nimport routes from \"../routes\";\r\nimport RouteParser from \"route-parser\";\r\nimport {Box, Container} from \"@material-ui/core\";\r\n\r\nconst breadcrumbNameMap: { [key: string]: string } = {\r\n  \"/inbox\": \"Inbox\",\r\n  \"/inbox/important\": \"Important\",\r\n  \"/trash\": \"Trash\",\r\n  \"/spam\": \"Spam\",\r\n  \"/drafts\": \"Drafts\",\r\n};\r\n\r\nroutes.forEach(\r\n  (route) => (breadcrumbNameMap[route.path as string] = route.label)\r\n);\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({    \r\n    linkRouter: {\r\n      color: theme.palette.secondary.main,\r\n      \"&:focus, $:active\": {\r\n          color: theme.palette.secondary.main,\r\n      },\r\n      \"&:hover\" : {\r\n          color: theme.palette.secondary.dark,\r\n      }\r\n    },\r\n  })\r\n);\r\n\r\ninterface LinkRouterProps extends LinkProps {\r\n  to: string;\r\n  replace?: boolean;\r\n}\r\n\r\nconst LinkRouter = (props: LinkRouterProps) => (\r\n  <Link {...props} component={RouterLink as any} />\r\n);\r\n\r\nexport default function Breadcrumbs() {\r\n  const classes = useStyles();\r\n\r\n  function makeBreadcrumb(location: Location) {\r\n    const pathnames = location.pathname.split(\"/\").filter((x) => x);\r\n    pathnames.unshift(\"/\");\r\n\r\n    return (\r\n      <MuiBreadcrumbs aria-label=\"breadcrumb\">\r\n        <LinkRouter color=\"inherit\" to=\"/\">\r\n          Home\r\n        </LinkRouter>\r\n        {pathnames.map((value, index) => {\r\n          const last = index === pathnames.length - 1;\r\n          const to = `${pathnames\r\n            .slice(0, index + 1)\r\n            .join(\"/\")\r\n            .replace(\"//\", \"/\")}`;\r\n          const route = Object.keys(breadcrumbNameMap).find((path) =>\r\n            new RouteParser(path).match(to)\r\n          );\r\n\r\n          if (route === undefined) {\r\n            return false;\r\n          }\r\n\r\n          return last ? (\r\n            <Typography color=\"textPrimary\" key={to}>\r\n              {breadcrumbNameMap[route]}\r\n            </Typography>\r\n          ) : (\r\n            <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\r\n              {breadcrumbNameMap[route]}\r\n            </LinkRouter>\r\n          );\r\n        })}\r\n      </MuiBreadcrumbs>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Box dir={'lft'} paddingTop={2} paddingBottom={1}>\r\n        <Route>\r\n          {({ location }: { location: Location }) => makeBreadcrumb(location)}\r\n        </Route>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import * as React from \"react\";\nimport {\n  SnackbarProvider as NotistackProvider,\n  SnackbarProviderProps,\n} from \"notistack\";\nimport { IconButton, makeStyles, Theme } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    variantSuccess: {\n      backgroundColor: theme.palette.success.main,\n    },\n    variantError: {\n      backgroundColor: theme.palette.error.main,\n    },\n    variantInfo: {\n      backgroundColor: theme.palette.primary.main,\n    },\n  };\n});\n\nexport const SnackbarProvider: React.FC<SnackbarProviderProps> = (props) => {\n  let snackbarProviderRef;\n  const classes = useStyles();\n  const defaultProps: SnackbarProviderProps = {\n    classes,\n    autoHideDuration: 3000,\n    maxSnack: 3,\n    anchorOrigin: {\n      horizontal: \"right\",\n      vertical: \"top\",\n    },\n    children: React.createElement(\"div\"),\n    ref: (el) => (snackbarProviderRef = el),\n    action: (key) => (\n      <IconButton\n        color={\"inherit\"}\n        style={{ fontSize: 20 }}\n        onClick={() => snackbarProviderRef.closeSnackbar(key)}\n      >\n        <CloseIcon />\n      </IconButton>\n    ),\n  };\n  const newProps = { ...defaultProps, ...props };\n  return <NotistackProvider {...newProps}>{props.children}</NotistackProvider>;\n};\n","import * as React from \"react\";\nimport { LinearProgress, MuiThemeProvider, Theme } from \"@material-ui/core\";\nimport { useContext } from \"react\";\nimport Fade from \"@material-ui/core/Fade\";\nimport LoadingContext from \"./loading/LoadingContext\";\n\nfunction makeLocalTheme(theme: Theme): Theme {\n  return {\n    ...theme,\n    palette: {\n      ...theme.palette,\n      primary: theme.palette.error,\n      type: \"dark\",\n    },\n  };\n}\n\ninterface SpinnerProps {}\n\nconst Spinner: React.FC<SpinnerProps> = (props) => {\n  const loading = useContext(LoadingContext);\n  return (\n    <MuiThemeProvider theme={makeLocalTheme}>\n      <Fade in={loading} timeout={{ exit: 300 }}>\n        <LinearProgress\n          style={{\n            position: \"fixed\",\n            width: \"100%\",\n            zIndex: 9999,\n          }}\n        />\n      </Fade>\n    </MuiThemeProvider>\n  );\n};\n\nexport default Spinner;\n","import * as React from \"react\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport LoadingContext from \"./LoadingContext\";\nimport {\n  addGlobalRequestInterceptor,\n  addGlobalResponseInterceptor,\n  removeGlobalRequestInterceptor,\n  removeGlobalResponseInterceptor,\n} from \"../../util/http\";\n\nexport const LoadingProvider = (props) => {\n  const [loading, setLoading] = useState(false);\n  const [countRequest, setCountRequest] = useState(0);\n\n  useMemo(() => {\n    let isSubscribed = true;\n    const requestsIds = addGlobalRequestInterceptor((config) => {\n      if (\n        isSubscribed &&\n        config.headers &&\n        !config.headers.hasOwnProperty(\"x-ignore-loading\")\n      ) {\n        setLoading(true);\n        setCountRequest((prevState) => prevState + 1);\n      }\n      return config;\n    });\n\n    const responseIds = addGlobalResponseInterceptor(\n      (response) => {\n        if (\n          isSubscribed &&\n          response.config &&\n          !response.config.headers.hasOwnProperty(\"x-ignore-loading\")\n        ) {\n          decrementCountRequest();\n        }\n        return response;\n      },\n      (error) => {\n        if (\n          isSubscribed &&\n          (!error.config ||\n            !error.config.headers.hasOwnProperty(\"x-ignore-loading\"))\n        ) {\n          decrementCountRequest();\n        }\n        return Promise.reject(error);\n      }\n    );\n\n    return () => {\n      isSubscribed = false;\n      removeGlobalRequestInterceptor(requestsIds);\n      removeGlobalResponseInterceptor(responseIds);\n    };\n  }, []);\n\n  /**\n   * Existe para garantir que requisições subsequentes não anulem o loading uma das outras\n   * */\n  useEffect(() => {\n    if (!countRequest) {\n      setLoading(false);\n    }\n  }, [countRequest]);\n\n  function decrementCountRequest() {\n    setCountRequest((prevState) => prevState - 1);\n  }\n\n  return (\n    <LoadingContext.Provider value={loading}>\n      {props.children}\n    </LoadingContext.Provider>\n  );\n};\n","//import logo from './logo.svg';\r\n//import './App.css';\r\nimport React from \"react\";\r\nimport { Navbar } from \"./components/Navbar\";\r\nimport { Box, CssBaseline, MuiThemeProvider } from \"@material-ui/core\";\r\nimport AppRouter from \"./routes/AppRouter\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport Breadcrumbs from \"./components/Breadcrumbs\";\r\nimport theme from \"./theme\";\r\nimport { SnackbarProvider } from \"./components/SnackbarProvider\";\r\nimport Spinner from \"./components/Spinner\";\r\nimport { LoadingProvider } from \"./components/loading/LoadingProvider\";\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <LoadingProvider>\r\n        <MuiThemeProvider theme={theme}>\r\n          <SnackbarProvider>\r\n            <CssBaseline />\r\n            <BrowserRouter basename=\"/admin\">\r\n              <Spinner />\r\n              <Navbar />\r\n              <Box paddingTop={\"70px\"}>\r\n                <Breadcrumbs />\r\n                <AppRouter />\r\n              </Box>\r\n            </BrowserRouter>\r\n          </SnackbarProvider>\r\n        </MuiThemeProvider>\r\n      </LoadingProvider>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { Creators, Types } from \"./index\";\nimport { END, eventChannel } from \"redux-saga\";\nimport { actionChannel, call, put, take } from \"redux-saga/effects\";\nimport { AddUploadAction, FileInfo } from \"./types\";\nimport { Video } from \"../../util/models\";\nimport videoHttp from \"../../util/http/video-http\";\nimport { Unsubscribe } from \"redux\";\n\n/**\n * upload(recebe action)\n *      -> para cada arquivo(chama uploadFile)\n *          -> uploadFile\n *              -> sendUpload(emitter de eventos em loop)\n * */\nexport function* uploadWatcherSaga() {\n  const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n  while (true) {\n    const { payload }: AddUploadAction = yield take(newFilesChannel);\n    for (const fileInfo of payload.files) {\n      try {\n        const response = yield call(uploadFile, {\n          video: payload.video,\n          fileInfo,\n        });\n        console.log(response);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n}\n\nfunction* uploadFile({\n  video,\n  fileInfo,\n}: {\n  video: Video;\n  fileInfo: FileInfo;\n}) {\n  //fazer upload\n  const channel = yield call(sendUpload, { id: video.id, fileInfo: fileInfo });\n  while (true) {\n    try {\n      const { progress, response } = yield take(channel);\n      if (response) {\n        return response;\n      }\n      //atualizar progresso\n      yield put(\n        Creators.updateProgress({\n          video,\n          fileField: fileInfo.fileField,\n          progress,\n        })\n      );\n    } catch (e) {\n      yield put(\n        Creators.setUploadError({\n          video,\n          fileField: fileInfo.fileField,\n          error: e,\n        })\n      );\n      throw e;\n    }\n  }\n}\n\nfunction sendUpload({ id, fileInfo }: { id: string; fileInfo: FileInfo }) {\n  return eventChannel((emitter) => {\n    videoHttp\n      .partialUpdate(\n        id,\n        {\n          _method: \"PATCH\",\n          [fileInfo.fileField]: fileInfo.file,\n        },\n        {\n          http: {\n            usePost: true,\n          },\n          config: {\n            headers: {\n              \"x-ignore-loading\": true,\n            },\n            onUploadProgress(progressEvent: ProgressEvent) {\n              if (progressEvent.lengthComputable) {\n                const progress = progressEvent.loaded / progressEvent.total;\n                emitter({ progress });\n              }\n            },\n          },\n        }\n      )\n      .then((response) => emitter({ response: response }))\n      .catch((error) => emitter(error))\n      .finally(() => emitter(END));\n\n    const unsubscribe: Unsubscribe = () => {};\n    return unsubscribe;\n  });\n}\n","import {all} from 'redux-saga/effects';\nimport { uploadWatcherSaga } from './upload/sagas';\n\nexport default function* rootSaga() {\n    yield all([\n        uploadWatcherSaga()\n    ]);\n}\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport createSagaMiddleware from 'redux-saga';\nimport upload from \"./upload\";\nimport rootSaga from \"./root-saga\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(combineReducers({\n    upload\n}), applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport store from \"./store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}